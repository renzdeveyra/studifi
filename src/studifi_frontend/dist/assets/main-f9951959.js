var G1=Object.defineProperty;var K1=(e,t,n)=>t in e?G1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qf=(e,t,n)=>(K1(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cp={exports:{}},Hl={},up={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),W1=Symbol.for("react.portal"),Y1=Symbol.for("react.fragment"),Z1=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),ew=Symbol.for("react.memo"),tw=Symbol.for("react.lazy"),Xf=Symbol.iterator;function nw(e){return e===null||typeof e!="object"?null:(e=Xf&&e[Xf]||e["@@iterator"],typeof e=="function"?e:null)}var dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fp=Object.assign,hp={};function Ns(e,t,n){this.props=e,this.context=t,this.refs=hp,this.updater=n||dp}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pp(){}pp.prototype=Ns.prototype;function Od(e,t,n){this.props=e,this.context=t,this.refs=hp,this.updater=n||dp}var Fd=Od.prototype=new pp;Fd.constructor=Od;fp(Fd,Ns.prototype);Fd.isPureReactComponent=!0;var Df=Array.isArray,mp=Object.prototype.hasOwnProperty,Ud={current:null},yp={key:!0,ref:!0,__self:!0,__source:!0};function gp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)mp.call(t,r)&&!yp.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pa,type:e,key:s,ref:o,props:i,_owner:Ud.current}}function rw(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Id(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function iw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lf=/\/+/g;function _c(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iw(""+e.key):t.toString(36)}function Eo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pa:case W1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+_c(o,0):r,Df(i)?(n="",e!=null&&(n=e.replace(Lf,"$&/")+"/"),Eo(i,t,n,"",function(p){return p})):i!=null&&(Id(i)&&(i=rw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Df(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+_c(s,l);o+=Eo(s,t,n,c,i)}else if(c=nw(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+_c(s,l++),o+=Eo(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ya(e,t,n){if(e==null)return e;var r=[],i=0;return Eo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function sw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},So={transition:null},aw={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:So,ReactCurrentOwner:Ud};function wp(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Ya,forEach:function(e,t,n){Ya(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ya(e,function(){t++}),t},toArray:function(e){return Ya(e,function(t){return t})||[]},only:function(e){if(!Id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=Ns;ke.Fragment=Y1;ke.Profiler=Q1;ke.PureComponent=Od;ke.StrictMode=Z1;ke.Suspense=J1;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw;ke.act=wp;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ud.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mp.call(t,c)&&!yp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];r.children=l}return{$$typeof:Pa,type:e.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(e){return e={$$typeof:D1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X1,_context:e},e.Consumer=e};ke.createElement=gp;ke.createFactory=function(e){var t=gp.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:L1,render:e}};ke.isValidElement=Id;ke.lazy=function(e){return{$$typeof:tw,_payload:{_status:-1,_result:e},_init:sw}};ke.memo=function(e,t){return{$$typeof:ew,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=So.transition;So.transition={};try{e()}finally{So.transition=t}};ke.unstable_act=wp;ke.useCallback=function(e,t){return Mt.current.useCallback(e,t)};ke.useContext=function(e){return Mt.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Mt.current.useEffect(e,t)};ke.useId=function(){return Mt.current.useId()};ke.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Mt.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};ke.useRef=function(e){return Mt.current.useRef(e)};ke.useState=function(e){return Mt.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return Mt.current.useTransition()};ke.version="18.3.1";up.exports=ke;var be=up.exports;const ow=lp(be);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=be,cw=Symbol.for("react.element"),uw=Symbol.for("react.fragment"),dw=Object.prototype.hasOwnProperty,fw=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hw={key:!0,ref:!0,__self:!0,__source:!0};function vp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)dw.call(t,r)&&!hw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cw,type:e,key:s,ref:o,props:i,_owner:fw.current}}Hl.Fragment=uw;Hl.jsx=vp;Hl.jsxs=vp;cp.exports=Hl;var a=cp.exports,wu={},xp={exports:{}},Lt={},_p={exports:{}},bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,D){var ee=G.length;G.push(D);e:for(;0<ee;){var ne=ee-1>>>1,le=G[ne];if(0<i(le,D))G[ne]=D,G[ee]=le,ee=ne;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var D=G[0],ee=G.pop();if(ee!==D){G[0]=ee;e:for(var ne=0,le=G.length,ie=le>>>1;ne<ie;){var N=2*(ne+1)-1,ce=G[N],de=N+1,me=G[de];if(0>i(ce,ee))de<le&&0>i(me,ce)?(G[ne]=me,G[de]=ee,ne=de):(G[ne]=ce,G[N]=ee,ne=N);else if(de<le&&0>i(me,ee))G[ne]=me,G[de]=ee,ne=de;else break e}}return D}function i(G,D){var ee=G.sortIndex-D.sortIndex;return ee!==0?ee:G.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],p=[],w=1,_=null,E=3,h=!1,A=!1,C=!1,Z=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var D=n(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=G)r(p),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(p)}}function x(G){if(C=!1,b(G),!A)if(n(c)!==null)A=!0,oe(I);else{var D=n(p);D!==null&&ye(x,D.startTime-G)}}function I(G,D){A=!1,C&&(C=!1,k(W),W=-1),h=!0;var ee=E;try{for(b(D),_=n(c);_!==null&&(!(_.expirationTime>D)||G&&!ae());){var ne=_.callback;if(typeof ne=="function"){_.callback=null,E=_.priorityLevel;var le=ne(_.expirationTime<=D);D=e.unstable_now(),typeof le=="function"?_.callback=le:_===n(c)&&r(c),b(D)}else r(c);_=n(c)}if(_!==null)var ie=!0;else{var N=n(p);N!==null&&ye(x,N.startTime-D),ie=!1}return ie}finally{_=null,E=ee,h=!1}}var $=!1,M=null,W=-1,re=5,Y=-1;function ae(){return!(e.unstable_now()-Y<re)}function P(){if(M!==null){var G=e.unstable_now();Y=G;var D=!0;try{D=M(!0,G)}finally{D?F():($=!1,M=null)}}else $=!1}var F;if(typeof j=="function")F=function(){j(P)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=P,F=function(){te.postMessage(null)}}else F=function(){Z(P,0)};function oe(G){M=G,$||($=!0,F())}function ye(G,D){W=Z(function(){G(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){A||h||(A=!0,oe(I))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(E){case 1:case 2:case 3:var D=3;break;default:D=E}var ee=E;E=D;try{return G()}finally{E=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,D){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=E;E=G;try{return D()}finally{E=ee}},e.unstable_scheduleCallback=function(G,D,ee){var ne=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,G){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ee+le,G={id:w++,callback:D,priorityLevel:G,startTime:ee,expirationTime:le,sortIndex:-1},ee>ne?(G.sortIndex=ee,t(p,G),n(c)===null&&G===n(p)&&(C?(k(W),W=-1):C=!0,ye(x,ee-ne))):(G.sortIndex=le,t(c,G),A||h||(A=!0,oe(I))),G},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(G){var D=E;return function(){var ee=E;E=D;try{return G.apply(this,arguments)}finally{E=ee}}}})(bp);_p.exports=bp;var pw=_p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=be,Dt=pw;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Np=new Set,ua={};function Si(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(ua[e]=t,e=0;e<t.length;e++)Np.add(t[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,yw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jf={},eh={};function gw(e){return vu.call(eh,e)?!0:vu.call(Jf,e)?!1:yw.test(e)?eh[e]=!0:(Jf[e]=!0,!1)}function ww(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vw(e,t,n,r){if(t===null||typeof t>"u"||ww(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Md=/[\-:]([a-z])/g;function $d(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Md,$d);_t[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Md,$d);_t[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Md,$d);_t[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vd(e,t,n,r){var i=_t.hasOwnProperty(t)?_t[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vw(t,n,i,r)&&(n=null),r||i===null?gw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cr=mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),zd=Symbol.for("react.strict_mode"),xu=Symbol.for("react.profiler"),Ep=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),Hd=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),jp=Symbol.for("react.offscreen"),th=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,bc;function $s(e){if(bc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bc=t&&t[1]||""}return`
`+bc+e}var Nc=!1;function Ec(e,t){if(!e||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$s(e):""}function xw(e){switch(e.tag){case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return e=Ec(e.type,!1),e;case 11:return e=Ec(e.type.render,!1),e;case 1:return e=Ec(e.type,!0),e;default:return""}}function Nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Hi:return"Portal";case xu:return"Profiler";case zd:return"StrictMode";case _u:return"Suspense";case bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sp:return(e.displayName||"Context")+".Consumer";case Ep:return(e._context.displayName||"Context")+".Provider";case qd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hd:return t=e.displayName||null,t!==null?t:Nu(e.type)||"Memo";case xr:t=e._payload,e=e._init;try{return Nu(e(t))}catch{}}return null}function _w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nu(t);case 8:return t===zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bw(e){var t=Tp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){e._valueTracker||(e._valueTracker=bw(e))}function Ap(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eu(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kp(e,t){t=t.checked,t!=null&&Vd(e,"checked",t,!1)}function Su(e,t){kp(e,t);var n=Gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ju(e,t.type,n):t.hasOwnProperty("defaultValue")&&ju(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ju(e,t,n){(t!=="number"||il(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vs=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ih(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(Vs(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gr(n)}}function Bp(e,t){var n=Gr(t.value),r=Gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xa,Rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nw=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){Nw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function Pp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function Op(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Pp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ew=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ku(e,t){if(t){if(Ew[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ru=null,ss=null,as=null;function ah(e){if(e=Ua(e)){if(typeof Ru!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Zl(t),Ru(e.stateNode,e.type,t))}}function Fp(e){ss?as?as.push(e):as=[e]:ss=e}function Up(){if(ss){var e=ss,t=as;if(as=ss=null,ah(e),t)for(e=0;e<t.length;e++)ah(t[e])}}function Ip(e,t){return e(t)}function Mp(){}var Sc=!1;function $p(e,t,n){if(Sc)return e(t,n);Sc=!0;try{return Ip(e,t,n)}finally{Sc=!1,(ss!==null||as!==null)&&(Mp(),Up())}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var Pu=!1;if(ir)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Pu=!1}function Sw(e,t,n,r,i,s,o,l,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(w){this.onError(w)}}var Xs=!1,sl=null,al=!1,Ou=null,jw={onError:function(e){Xs=!0,sl=e}};function Tw(e,t,n,r,i,s,o,l,c){Xs=!1,sl=null,Sw.apply(jw,arguments)}function Aw(e,t,n,r,i,s,o,l,c){if(Tw.apply(this,arguments),Xs){if(Xs){var p=sl;Xs=!1,sl=null}else throw Error(fe(198));al||(al=!0,Ou=p)}}function ji(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oh(e){if(ji(e)!==e)throw Error(fe(188))}function kw(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oh(i),e;if(s===r)return oh(i),t;s=s.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function zp(e){return e=kw(e),e!==null?qp(e):null}function qp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qp(e);if(t!==null)return t;e=e.sibling}return null}var Hp=Dt.unstable_scheduleCallback,lh=Dt.unstable_cancelCallback,Bw=Dt.unstable_shouldYield,Cw=Dt.unstable_requestPaint,tt=Dt.unstable_now,Rw=Dt.unstable_getCurrentPriorityLevel,Kd=Dt.unstable_ImmediatePriority,Gp=Dt.unstable_UserBlockingPriority,ol=Dt.unstable_NormalPriority,Pw=Dt.unstable_LowPriority,Kp=Dt.unstable_IdlePriority,Gl=null,Vn=null;function Ow(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Iw,Fw=Math.log,Uw=Math.LN2;function Iw(e){return e>>>=0,e===0?32:31-(Fw(e)/Uw|0)|0}var Da=64,La=4194304;function zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=zs(l):(s&=o,s!==0&&(r=zs(s)))}else o=n&~i,o!==0?r=zs(o):s!==0&&(r=zs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bn(t),i=1<<n,r|=e[n],t&=~i;return r}function Mw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $w(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Mw(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wp(){var e=Da;return Da<<=1,!(Da&4194240)&&(Da=64),e}function jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=n}function Vw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function Yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zp,Yd,Qp,Xp,Dp,Uu=!1,Ja=[],Pr=null,Or=null,Fr=null,ha=new Map,pa=new Map,jr=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(t.pointerId)}}function Rs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ua(t),t!==null&&Yd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qw(e,t,n,r,i){switch(t){case"focusin":return Pr=Rs(Pr,e,t,n,r,i),!0;case"dragenter":return Or=Rs(Or,e,t,n,r,i),!0;case"mouseover":return Fr=Rs(Fr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ha.set(s,Rs(ha.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pa.set(s,Rs(pa.get(s)||null,e,t,n,r,i)),!0}return!1}function Lp(e){var t=ai(e.target);if(t!==null){var n=ji(t);if(n!==null){if(t=n.tag,t===13){if(t=Vp(n),t!==null){e.blockedOn=t,Dp(e.priority,function(){Qp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cu=r,n.target.dispatchEvent(r),Cu=null}else return t=Ua(n),t!==null&&Yd(t),e.blockedOn=n,!1;t.shift()}return!0}function uh(e,t,n){jo(e)&&n.delete(t)}function Hw(){Uu=!1,Pr!==null&&jo(Pr)&&(Pr=null),Or!==null&&jo(Or)&&(Or=null),Fr!==null&&jo(Fr)&&(Fr=null),ha.forEach(uh),pa.forEach(uh)}function Ps(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,Hw)))}function ma(e){function t(i){return Ps(i,e)}if(0<Ja.length){Ps(Ja[0],e);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Ps(Pr,e),Or!==null&&Ps(Or,e),Fr!==null&&Ps(Fr,e),ha.forEach(t),pa.forEach(t),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)Lp(n),n.blockedOn===null&&jr.shift()}var os=cr.ReactCurrentBatchConfig,cl=!0;function Gw(e,t,n,r){var i=Ie,s=os.transition;os.transition=null;try{Ie=1,Zd(e,t,n,r)}finally{Ie=i,os.transition=s}}function Kw(e,t,n,r){var i=Ie,s=os.transition;os.transition=null;try{Ie=4,Zd(e,t,n,r)}finally{Ie=i,os.transition=s}}function Zd(e,t,n,r){if(cl){var i=Iu(e,t,n,r);if(i===null)Uc(e,t,r,ul,n),ch(e,r);else if(qw(i,e,t,n,r))r.stopPropagation();else if(ch(e,r),t&4&&-1<zw.indexOf(e)){for(;i!==null;){var s=Ua(i);if(s!==null&&Zp(s),s=Iu(e,t,n,r),s===null&&Uc(e,t,r,ul,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uc(e,t,r,null,n)}}var ul=null;function Iu(e,t,n,r){if(ul=null,e=Gd(r),e=ai(e),e!==null)if(t=ji(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function Jp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rw()){case Kd:return 1;case Gp:return 4;case ol:case Pw:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var Br=null,Qd=null,To=null;function em(){if(To)return To;var e,t=Qd,n=t.length,r,i="value"in Br?Br.value:Br.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return To=i.slice(e,1<r?1-r:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function dh(){return!1}function Jt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eo:dh,this.isPropagationStopped=dh,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=Jt(Es),Fa=Qe({},Es,{view:0,detail:0}),Ww=Jt(Fa),Tc,Ac,Os,Kl=Qe({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(Tc=e.screenX-Os.screenX,Ac=e.screenY-Os.screenY):Ac=Tc=0,Os=e),Tc)},movementY:function(e){return"movementY"in e?e.movementY:Ac}}),fh=Jt(Kl),Yw=Qe({},Kl,{dataTransfer:0}),Zw=Jt(Yw),Qw=Qe({},Fa,{relatedTarget:0}),kc=Jt(Qw),Xw=Qe({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Dw=Jt(Xw),Lw=Qe({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jw=Jt(Lw),ev=Qe({},Es,{data:0}),hh=Jt(ev),tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rv[e])?!!t[e]:!1}function Dd(){return iv}var sv=Qe({},Fa,{key:function(e){if(e.key){var t=tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),av=Jt(sv),ov=Qe({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=Jt(ov),lv=Qe({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),cv=Jt(lv),uv=Qe({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),dv=Jt(uv),fv=Qe({},Kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=Jt(fv),pv=[9,13,27,32],Ld=ir&&"CompositionEvent"in window,Ds=null;ir&&"documentMode"in document&&(Ds=document.documentMode);var mv=ir&&"TextEvent"in window&&!Ds,tm=ir&&(!Ld||Ds&&8<Ds&&11>=Ds),mh=String.fromCharCode(32),yh=!1;function nm(e,t){switch(e){case"keyup":return pv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function yv(e,t){switch(e){case"compositionend":return rm(t);case"keypress":return t.which!==32?null:(yh=!0,mh);case"textInput":return e=t.data,e===mh&&yh?null:e;default:return null}}function gv(e,t){if(Ki)return e==="compositionend"||!Ld&&nm(e,t)?(e=em(),To=Qd=Br=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tm&&t.locale!=="ko"?null:t.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wv[e.type]:t==="textarea"}function im(e,t,n,r){Fp(r),t=dl(t,"onChange"),0<t.length&&(n=new Xd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ls=null,ya=null;function vv(e){mm(e,0)}function Wl(e){var t=Zi(e);if(Ap(t))return e}function xv(e,t){if(e==="change")return t}var sm=!1;if(ir){var Bc;if(ir){var Cc="oninput"in document;if(!Cc){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),Cc=typeof wh.oninput=="function"}Bc=Cc}else Bc=!1;sm=Bc&&(!document.documentMode||9<document.documentMode)}function vh(){Ls&&(Ls.detachEvent("onpropertychange",am),ya=Ls=null)}function am(e){if(e.propertyName==="value"&&Wl(ya)){var t=[];im(t,ya,e,Gd(e)),$p(vv,t)}}function _v(e,t,n){e==="focusin"?(vh(),Ls=t,ya=n,Ls.attachEvent("onpropertychange",am)):e==="focusout"&&vh()}function bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl(ya)}function Nv(e,t){if(e==="click")return Wl(t)}function Ev(e,t){if(e==="input"||e==="change")return Wl(t)}function Sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:Sv;function ga(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vu.call(t,i)||!Sn(e[i],t[i]))return!1}return!0}function xh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _h(e,t){var n=xh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xh(n)}}function om(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?om(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lm(){for(var e=window,t=il();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=il(e.document)}return t}function Jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jv(e){var t=lm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&om(n.ownerDocument.documentElement,n)){if(r!==null&&Jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=_h(n,s);var o=_h(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tv=ir&&"documentMode"in document&&11>=document.documentMode,Wi=null,Mu=null,Js=null,$u=!1;function bh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$u||Wi==null||Wi!==il(r)||(r=Wi,"selectionStart"in r&&Jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&ga(Js,r)||(Js=r,r=dl(Mu,"onSelect"),0<r.length&&(t=new Xd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wi)))}function to(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yi={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},Rc={},cm={};ir&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Yl(e){if(Rc[e])return Rc[e];if(!Yi[e])return e;var t=Yi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cm)return Rc[e]=t[n];return e}var um=Yl("animationend"),dm=Yl("animationiteration"),fm=Yl("animationstart"),hm=Yl("transitionend"),pm=new Map,Nh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(e,t){pm.set(e,t),Si(t,[e])}for(var Pc=0;Pc<Nh.length;Pc++){var Oc=Nh[Pc],Av=Oc.toLowerCase(),kv=Oc[0].toUpperCase()+Oc.slice(1);Yr(Av,"on"+kv)}Yr(um,"onAnimationEnd");Yr(dm,"onAnimationIteration");Yr(fm,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(hm,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function Eh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Aw(r,t,void 0,e),e.currentTarget=null}function mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,p=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Eh(i,l,p),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,p=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Eh(i,l,p),s=c}}}if(al)throw e=Ou,al=!1,Ou=null,e}function He(e,t){var n=t[Gu];n===void 0&&(n=t[Gu]=new Set);var r=e+"__bubble";n.has(r)||(ym(t,e,2,!1),n.add(r))}function Fc(e,t,n){var r=0;t&&(r|=4),ym(n,e,r,t)}var no="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[no]){e[no]=!0,Np.forEach(function(n){n!=="selectionchange"&&(Bv.has(n)||Fc(n,!1,e),Fc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[no]||(t[no]=!0,Fc("selectionchange",!1,t))}}function ym(e,t,n,r){switch(Jp(t)){case 1:var i=Gw;break;case 4:i=Kw;break;default:i=Zd}n=i.bind(null,t,n,e),i=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ai(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}$p(function(){var p=s,w=Gd(n),_=[];e:{var E=pm.get(e);if(E!==void 0){var h=Xd,A=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":h=av;break;case"focusin":A="focus",h=kc;break;case"focusout":A="blur",h=kc;break;case"beforeblur":case"afterblur":h=kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cv;break;case um:case dm:case fm:h=Dw;break;case hm:h=dv;break;case"scroll":h=Ww;break;case"wheel":h=hv;break;case"copy":case"cut":case"paste":h=Jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ph}var C=(t&4)!==0,Z=!C&&e==="scroll",k=C?E!==null?E+"Capture":null:E;C=[];for(var j=p,b;j!==null;){b=j;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,k!==null&&(x=fa(j,k),x!=null&&C.push(va(j,x,b)))),Z)break;j=j.return}0<C.length&&(E=new h(E,A,null,n,w),_.push({event:E,listeners:C}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",E&&n!==Cu&&(A=n.relatedTarget||n.fromElement)&&(ai(A)||A[sr]))break e;if((h||E)&&(E=w.window===w?w:(E=w.ownerDocument)?E.defaultView||E.parentWindow:window,h?(A=n.relatedTarget||n.toElement,h=p,A=A?ai(A):null,A!==null&&(Z=ji(A),A!==Z||A.tag!==5&&A.tag!==6)&&(A=null)):(h=null,A=p),h!==A)){if(C=fh,x="onMouseLeave",k="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(C=ph,x="onPointerLeave",k="onPointerEnter",j="pointer"),Z=h==null?E:Zi(h),b=A==null?E:Zi(A),E=new C(x,j+"leave",h,n,w),E.target=Z,E.relatedTarget=b,x=null,ai(w)===p&&(C=new C(k,j+"enter",A,n,w),C.target=b,C.relatedTarget=Z,x=C),Z=x,h&&A)t:{for(C=h,k=A,j=0,b=C;b;b=Ti(b))j++;for(b=0,x=k;x;x=Ti(x))b++;for(;0<j-b;)C=Ti(C),j--;for(;0<b-j;)k=Ti(k),b--;for(;j--;){if(C===k||k!==null&&C===k.alternate)break t;C=Ti(C),k=Ti(k)}C=null}else C=null;h!==null&&Sh(_,E,h,C,!1),A!==null&&Z!==null&&Sh(_,Z,A,C,!0)}}e:{if(E=p?Zi(p):window,h=E.nodeName&&E.nodeName.toLowerCase(),h==="select"||h==="input"&&E.type==="file")var I=xv;else if(gh(E))if(sm)I=Ev;else{I=bv;var $=_v}else(h=E.nodeName)&&h.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(I=Nv);if(I&&(I=I(e,p))){im(_,I,n,w);break e}$&&$(e,E,p),e==="focusout"&&($=E._wrapperState)&&$.controlled&&E.type==="number"&&ju(E,"number",E.value)}switch($=p?Zi(p):window,e){case"focusin":(gh($)||$.contentEditable==="true")&&(Wi=$,Mu=p,Js=null);break;case"focusout":Js=Mu=Wi=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,bh(_,n,w);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":bh(_,n,w)}var M;if(Ld)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Ki?nm(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(tm&&n.locale!=="ko"&&(Ki||W!=="onCompositionStart"?W==="onCompositionEnd"&&Ki&&(M=em()):(Br=w,Qd="value"in Br?Br.value:Br.textContent,Ki=!0)),$=dl(p,W),0<$.length&&(W=new hh(W,e,null,n,w),_.push({event:W,listeners:$}),M?W.data=M:(M=rm(n),M!==null&&(W.data=M)))),(M=mv?yv(e,n):gv(e,n))&&(p=dl(p,"onBeforeInput"),0<p.length&&(w=new hh("onBeforeInput","beforeinput",null,n,w),_.push({event:w,listeners:p}),w.data=M))}mm(_,t)})}function va(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fa(e,n),s!=null&&r.unshift(va(e,s,i)),s=fa(e,t),s!=null&&r.push(va(e,s,i))),e=e.return}return r}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sh(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,p=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&p!==null&&(l=p,i?(c=fa(n,s),c!=null&&o.unshift(va(n,c,l))):i||(c=fa(n,s),c!=null&&o.push(va(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Cv=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Rv,"")}function ro(e,t,n){if(t=jh(t),jh(e)!==t&&n)throw Error(fe(425))}function fl(){}var Vu=null,zu=null;function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,Pv=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(e){return Th.resolve(null).then(e).catch(Fv)}:Hu;function Fv(e){setTimeout(function(){throw e})}function Ic(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ma(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ah(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),In="__reactFiber$"+Ss,xa="__reactProps$"+Ss,sr="__reactContainer$"+Ss,Gu="__reactEvents$"+Ss,Uv="__reactListeners$"+Ss,Iv="__reactHandles$"+Ss;function ai(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ah(e);e!==null;){if(n=e[In])return n;e=Ah(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){return e=e[In]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Zl(e){return e[xa]||null}var Ku=[],Qi=-1;function Zr(e){return{current:e}}function Ge(e){0>Qi||(e.current=Ku[Qi],Ku[Qi]=null,Qi--)}function qe(e,t){Qi++,Ku[Qi]=e.current,e.current=t}var Kr={},kt=Zr(Kr),Gt=Zr(!1),pi=Kr;function ps(e,t){var n=e.type.contextTypes;if(!n)return Kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(e){return e=e.childContextTypes,e!=null}function hl(){Ge(Gt),Ge(kt)}function kh(e,t,n){if(kt.current!==Kr)throw Error(fe(168));qe(kt,t),qe(Gt,n)}function gm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,_w(e)||"Unknown",i));return Qe({},n,r)}function pl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,pi=kt.current,qe(kt,e),qe(Gt,Gt.current),!0}function Bh(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=gm(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,Ge(Gt),Ge(kt),qe(kt,e)):Ge(Gt),qe(Gt,n)}var Zn=null,Ql=!1,Mc=!1;function wm(e){Zn===null?Zn=[e]:Zn.push(e)}function Mv(e){Ql=!0,wm(e)}function Qr(){if(!Mc&&Zn!==null){Mc=!0;var e=0,t=Ie;try{var n=Zn;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,Ql=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(e+1)),Hp(Kd,Qr),i}finally{Ie=t,Mc=!1}}return null}var Xi=[],Di=0,ml=null,yl=0,rn=[],sn=0,mi=null,Dn=1,Ln="";function Dr(e,t){Xi[Di++]=yl,Xi[Di++]=ml,ml=e,yl=t}function vm(e,t,n){rn[sn++]=Dn,rn[sn++]=Ln,rn[sn++]=mi,mi=e;var r=Dn;e=Ln;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var s=32-bn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-bn(t)+i|n<<i|r,Ln=s+e}else Dn=1<<s|n<<i|r,Ln=e}function ef(e){e.return!==null&&(Dr(e,1),vm(e,1,0))}function tf(e){for(;e===ml;)ml=Xi[--Di],Xi[Di]=null,yl=Xi[--Di],Xi[Di]=null;for(;e===mi;)mi=rn[--sn],rn[sn]=null,Ln=rn[--sn],rn[sn]=null,Dn=rn[--sn],rn[sn]=null}var Xt=null,Qt=null,We=!1,xn=null;function xm(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ch(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mi!==null?{id:Dn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Qt=null,!0):!1;default:return!1}}function Wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yu(e){if(We){var t=Qt;if(t){var n=t;if(!Ch(e,t)){if(Wu(e))throw Error(fe(418));t=Ur(n.nextSibling);var r=Xt;t&&Ch(e,t)?xm(r,n):(e.flags=e.flags&-4097|2,We=!1,Xt=e)}}else{if(Wu(e))throw Error(fe(418));e.flags=e.flags&-4097|2,We=!1,Xt=e}}}function Rh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function io(e){if(e!==Xt)return!1;if(!We)return Rh(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qu(e.type,e.memoizedProps)),t&&(t=Qt)){if(Wu(e))throw _m(),Error(fe(418));for(;t;)xm(e,t),t=Ur(t.nextSibling)}if(Rh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=Ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Xt?Ur(e.stateNode.nextSibling):null;return!0}function _m(){for(var e=Qt;e;)e=Ur(e.nextSibling)}function ms(){Qt=Xt=null,We=!1}function nf(e){xn===null?xn=[e]:xn.push(e)}var $v=cr.ReactCurrentBatchConfig;function Fs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ph(e){var t=e._init;return t(e._payload)}function bm(e){function t(k,j){if(e){var b=k.deletions;b===null?(k.deletions=[j],k.flags|=16):b.push(j)}}function n(k,j){if(!e)return null;for(;j!==null;)t(k,j),j=j.sibling;return null}function r(k,j){for(k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function i(k,j){return k=Vr(k,j),k.index=0,k.sibling=null,k}function s(k,j,b){return k.index=b,e?(b=k.alternate,b!==null?(b=b.index,b<j?(k.flags|=2,j):b):(k.flags|=2,j)):(k.flags|=1048576,j)}function o(k){return e&&k.alternate===null&&(k.flags|=2),k}function l(k,j,b,x){return j===null||j.tag!==6?(j=Kc(b,k.mode,x),j.return=k,j):(j=i(j,b),j.return=k,j)}function c(k,j,b,x){var I=b.type;return I===Gi?w(k,j,b.props.children,x,b.key):j!==null&&(j.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xr&&Ph(I)===j.type)?(x=i(j,b.props),x.ref=Fs(k,j,b),x.return=k,x):(x=Fo(b.type,b.key,b.props,null,k.mode,x),x.ref=Fs(k,j,b),x.return=k,x)}function p(k,j,b,x){return j===null||j.tag!==4||j.stateNode.containerInfo!==b.containerInfo||j.stateNode.implementation!==b.implementation?(j=Wc(b,k.mode,x),j.return=k,j):(j=i(j,b.children||[]),j.return=k,j)}function w(k,j,b,x,I){return j===null||j.tag!==7?(j=fi(b,k.mode,x,I),j.return=k,j):(j=i(j,b),j.return=k,j)}function _(k,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Kc(""+j,k.mode,b),j.return=k,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Za:return b=Fo(j.type,j.key,j.props,null,k.mode,b),b.ref=Fs(k,null,j),b.return=k,b;case Hi:return j=Wc(j,k.mode,b),j.return=k,j;case xr:var x=j._init;return _(k,x(j._payload),b)}if(Vs(j)||Bs(j))return j=fi(j,k.mode,b,null),j.return=k,j;so(k,j)}return null}function E(k,j,b,x){var I=j!==null?j.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:l(k,j,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Za:return b.key===I?c(k,j,b,x):null;case Hi:return b.key===I?p(k,j,b,x):null;case xr:return I=b._init,E(k,j,I(b._payload),x)}if(Vs(b)||Bs(b))return I!==null?null:w(k,j,b,x,null);so(k,b)}return null}function h(k,j,b,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return k=k.get(b)||null,l(j,k,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:return k=k.get(x.key===null?b:x.key)||null,c(j,k,x,I);case Hi:return k=k.get(x.key===null?b:x.key)||null,p(j,k,x,I);case xr:var $=x._init;return h(k,j,b,$(x._payload),I)}if(Vs(x)||Bs(x))return k=k.get(b)||null,w(j,k,x,I,null);so(j,x)}return null}function A(k,j,b,x){for(var I=null,$=null,M=j,W=j=0,re=null;M!==null&&W<b.length;W++){M.index>W?(re=M,M=null):re=M.sibling;var Y=E(k,M,b[W],x);if(Y===null){M===null&&(M=re);break}e&&M&&Y.alternate===null&&t(k,M),j=s(Y,j,W),$===null?I=Y:$.sibling=Y,$=Y,M=re}if(W===b.length)return n(k,M),We&&Dr(k,W),I;if(M===null){for(;W<b.length;W++)M=_(k,b[W],x),M!==null&&(j=s(M,j,W),$===null?I=M:$.sibling=M,$=M);return We&&Dr(k,W),I}for(M=r(k,M);W<b.length;W++)re=h(M,k,W,b[W],x),re!==null&&(e&&re.alternate!==null&&M.delete(re.key===null?W:re.key),j=s(re,j,W),$===null?I=re:$.sibling=re,$=re);return e&&M.forEach(function(ae){return t(k,ae)}),We&&Dr(k,W),I}function C(k,j,b,x){var I=Bs(b);if(typeof I!="function")throw Error(fe(150));if(b=I.call(b),b==null)throw Error(fe(151));for(var $=I=null,M=j,W=j=0,re=null,Y=b.next();M!==null&&!Y.done;W++,Y=b.next()){M.index>W?(re=M,M=null):re=M.sibling;var ae=E(k,M,Y.value,x);if(ae===null){M===null&&(M=re);break}e&&M&&ae.alternate===null&&t(k,M),j=s(ae,j,W),$===null?I=ae:$.sibling=ae,$=ae,M=re}if(Y.done)return n(k,M),We&&Dr(k,W),I;if(M===null){for(;!Y.done;W++,Y=b.next())Y=_(k,Y.value,x),Y!==null&&(j=s(Y,j,W),$===null?I=Y:$.sibling=Y,$=Y);return We&&Dr(k,W),I}for(M=r(k,M);!Y.done;W++,Y=b.next())Y=h(M,k,W,Y.value,x),Y!==null&&(e&&Y.alternate!==null&&M.delete(Y.key===null?W:Y.key),j=s(Y,j,W),$===null?I=Y:$.sibling=Y,$=Y);return e&&M.forEach(function(P){return t(k,P)}),We&&Dr(k,W),I}function Z(k,j,b,x){if(typeof b=="object"&&b!==null&&b.type===Gi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Za:e:{for(var I=b.key,$=j;$!==null;){if($.key===I){if(I=b.type,I===Gi){if($.tag===7){n(k,$.sibling),j=i($,b.props.children),j.return=k,k=j;break e}}else if($.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xr&&Ph(I)===$.type){n(k,$.sibling),j=i($,b.props),j.ref=Fs(k,$,b),j.return=k,k=j;break e}n(k,$);break}else t(k,$);$=$.sibling}b.type===Gi?(j=fi(b.props.children,k.mode,x,b.key),j.return=k,k=j):(x=Fo(b.type,b.key,b.props,null,k.mode,x),x.ref=Fs(k,j,b),x.return=k,k=x)}return o(k);case Hi:e:{for($=b.key;j!==null;){if(j.key===$)if(j.tag===4&&j.stateNode.containerInfo===b.containerInfo&&j.stateNode.implementation===b.implementation){n(k,j.sibling),j=i(j,b.children||[]),j.return=k,k=j;break e}else{n(k,j);break}else t(k,j);j=j.sibling}j=Wc(b,k.mode,x),j.return=k,k=j}return o(k);case xr:return $=b._init,Z(k,j,$(b._payload),x)}if(Vs(b))return A(k,j,b,x);if(Bs(b))return C(k,j,b,x);so(k,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,j!==null&&j.tag===6?(n(k,j.sibling),j=i(j,b),j.return=k,k=j):(n(k,j),j=Kc(b,k.mode,x),j.return=k,k=j),o(k)):n(k,j)}return Z}var ys=bm(!0),Nm=bm(!1),gl=Zr(null),wl=null,Li=null,rf=null;function sf(){rf=Li=wl=null}function af(e){var t=gl.current;Ge(gl),e._currentValue=t}function Zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ls(e,t){wl=e,rf=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(rf!==e)if(e={context:e,memoizedValue:t,next:null},Li===null){if(wl===null)throw Error(fe(308));Li=e,wl.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return t}var oi=null;function of(e){oi===null?oi=[e]:oi.push(e)}function Em(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,of(t)):(n.next=i.next,i.next=n),t.interleaved=n,ar(e,r)}function ar(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _r=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ar(e,n)}return i=r.interleaved,i===null?(t.next=t,of(r)):(t.next=i.next,i.next=t),r.interleaved=t,ar(e,n)}function ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wd(e,n)}}function Oh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vl(e,t,n,r){var i=e.updateQueue;_r=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,p=c.next;c.next=null,o===null?s=p:o.next=p,o=c;var w=e.alternate;w!==null&&(w=w.updateQueue,l=w.lastBaseUpdate,l!==o&&(l===null?w.firstBaseUpdate=p:l.next=p,w.lastBaseUpdate=c))}if(s!==null){var _=i.baseState;o=0,w=p=c=null,l=s;do{var E=l.lane,h=l.eventTime;if((r&E)===E){w!==null&&(w=w.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=e,C=l;switch(E=t,h=n,C.tag){case 1:if(A=C.payload,typeof A=="function"){_=A.call(h,_,E);break e}_=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,E=typeof A=="function"?A.call(h,_,E):A,E==null)break e;_=Qe({},_,E);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[l]:E.push(l))}else h={eventTime:h,lane:E,tag:l.tag,payload:l.payload,callback:l.callback,next:null},w===null?(p=w=h,c=_):w=w.next=h,o|=E;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;E=l,l=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(1);if(w===null&&(c=_),i.baseState=c,i.firstBaseUpdate=p,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gi|=o,e.lanes=o,e.memoizedState=_}}function Fh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var Ia={},zn=Zr(Ia),_a=Zr(Ia),ba=Zr(Ia);function li(e){if(e===Ia)throw Error(fe(174));return e}function cf(e,t){switch(qe(ba,t),qe(_a,e),qe(zn,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}Ge(zn),qe(zn,t)}function gs(){Ge(zn),Ge(_a),Ge(ba)}function jm(e){li(ba.current);var t=li(zn.current),n=Au(t,e.type);t!==n&&(qe(_a,e),qe(zn,n))}function uf(e){_a.current===e&&(Ge(zn),Ge(_a))}var Ye=Zr(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $c=[];function df(){for(var e=0;e<$c.length;e++)$c[e]._workInProgressVersionPrimary=null;$c.length=0}var Bo=cr.ReactCurrentDispatcher,Vc=cr.ReactCurrentBatchConfig,yi=0,Ze=null,at=null,pt=null,_l=!1,ea=!1,Na=0,Vv=0;function bt(){throw Error(fe(321))}function ff(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function hf(e,t,n,r,i,s){if(yi=s,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?Gv:Kv,e=n(r,i),ea){s=0;do{if(ea=!1,Na=0,25<=s)throw Error(fe(301));s+=1,pt=at=null,t.updateQueue=null,Bo.current=Wv,e=n(r,i)}while(ea)}if(Bo.current=bl,t=at!==null&&at.next!==null,yi=0,pt=at=Ze=null,_l=!1,t)throw Error(fe(300));return e}function pf(){var e=Na!==0;return Na=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ze.memoizedState=pt=e:pt=pt.next=e,pt}function un(){if(at===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=pt===null?Ze.memoizedState:pt.next;if(t!==null)pt=t,at=e;else{if(e===null)throw Error(fe(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?Ze.memoizedState=pt=e:pt=pt.next=e}return pt}function Ea(e,t){return typeof t=="function"?t(e):t}function zc(e){var t=un(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,p=s;do{var w=p.lane;if((yi&w)===w)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var _={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(l=c=_,o=r):c=c.next=_,Ze.lanes|=w,gi|=w}p=p.next}while(p!==null&&p!==s);c===null?o=r:c.next=l,Sn(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ze.lanes|=s,gi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qc(e){var t=un(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Sn(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Tm(){}function Am(e,t){var n=Ze,r=un(),i=t(),s=!Sn(r.memoizedState,i);if(s&&(r.memoizedState=i,qt=!0),r=r.queue,mf(Cm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Sa(9,Bm.bind(null,n,r,i,t),void 0,null),mt===null)throw Error(fe(349));yi&30||km(n,t,i)}return i}function km(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bm(e,t,n,r){t.value=n,t.getSnapshot=r,Rm(t)&&Pm(e)}function Cm(e,t,n){return n(function(){Rm(t)&&Pm(e)})}function Rm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function Pm(e){var t=ar(e,1);t!==null&&Nn(t,e,1,-1)}function Uh(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=Hv.bind(null,Ze,e),[t.memoizedState,e]}function Sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Om(){return un().memoizedState}function Co(e,t,n,r){var i=On();Ze.flags|=e,i.memoizedState=Sa(1|t,n,void 0,r===void 0?null:r)}function Xl(e,t,n,r){var i=un();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&ff(r,o.deps)){i.memoizedState=Sa(t,n,s,r);return}}Ze.flags|=e,i.memoizedState=Sa(1|t,n,s,r)}function Ih(e,t){return Co(8390656,8,e,t)}function mf(e,t){return Xl(2048,8,e,t)}function Fm(e,t){return Xl(4,2,e,t)}function Um(e,t){return Xl(4,4,e,t)}function Im(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mm(e,t,n){return n=n!=null?n.concat([e]):null,Xl(4,4,Im.bind(null,t,e),n)}function yf(){}function $m(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vm(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ff(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zm(e,t,n){return yi&21?(Sn(n,t)||(n=Wp(),Ze.lanes|=n,gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n)}function zv(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=Vc.transition;Vc.transition={};try{e(!1),t()}finally{Ie=n,Vc.transition=r}}function qm(){return un().memoizedState}function qv(e,t,n){var r=$r(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hm(e))Gm(t,n);else if(n=Em(e,t,n,r),n!==null){var i=It();Nn(n,e,r,i),Km(n,t,r)}}function Hv(e,t,n){var r=$r(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hm(e))Gm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Sn(l,o)){var c=t.interleaved;c===null?(i.next=i,of(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Em(e,t,i,r),n!==null&&(i=It(),Nn(n,e,r,i),Km(n,t,r))}}function Hm(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Gm(e,t){ea=_l=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Km(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wd(e,n)}}var bl={readContext:cn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Gv={readContext:cn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Ih,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Co(4194308,4,Im.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){return Co(4,2,e,t)},useMemo:function(e,t){var n=On();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qv.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:Uh,useDebugValue:yf,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=Uh(!1),t=e[0];return e=zv.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,i=On();if(We){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),mt===null)throw Error(fe(349));yi&30||km(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ih(Cm.bind(null,r,s,e),[e]),r.flags|=2048,Sa(9,Bm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=On(),t=mt.identifierPrefix;if(We){var n=Ln,r=Dn;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Na++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kv={readContext:cn,useCallback:$m,useContext:cn,useEffect:mf,useImperativeHandle:Mm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:Vm,useReducer:zc,useRef:Om,useState:function(){return zc(Ea)},useDebugValue:yf,useDeferredValue:function(e){var t=un();return zm(t,at.memoizedState,e)},useTransition:function(){var e=zc(Ea)[0],t=un().memoizedState;return[e,t]},useMutableSource:Tm,useSyncExternalStore:Am,useId:qm,unstable_isNewReconciler:!1},Wv={readContext:cn,useCallback:$m,useContext:cn,useEffect:mf,useImperativeHandle:Mm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:Vm,useReducer:qc,useRef:Om,useState:function(){return qc(Ea)},useDebugValue:yf,useDeferredValue:function(e){var t=un();return at===null?t.memoizedState=e:zm(t,at.memoizedState,e)},useTransition:function(){var e=qc(Ea)[0],t=un().memoizedState;return[e,t]},useMutableSource:Tm,useSyncExternalStore:Am,useId:qm,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dl={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=It(),i=$r(e),s=nr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ir(e,s,i),t!==null&&(Nn(t,e,i,r),ko(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=It(),i=$r(e),s=nr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ir(e,s,i),t!==null&&(Nn(t,e,i,r),ko(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=It(),r=$r(e),i=nr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ir(e,i,r),t!==null&&(Nn(t,e,r,n),ko(t,e,r))}};function Mh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ga(n,r)||!ga(i,s):!0}function Wm(e,t,n){var r=!1,i=Kr,s=t.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Kt(t)?pi:kt.current,r=t.contextTypes,s=(r=r!=null)?ps(e,i):Kr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function $h(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function Xu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},lf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Kt(t)?pi:kt.current,i.context=ps(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dl.enqueueReplaceState(i,i.state,null),vl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var n="",r=t;do n+=xw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Hc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Du(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yv=typeof WeakMap=="function"?WeakMap:Map;function Ym(e,t,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){El||(El=!0,od=r),Du(e,t)},n}function Zm(e,t,n){n=nr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Du(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Du(e,t),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ox.bind(null,e,t,n),t.then(e,e))}function zh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nr(-1,1),t.tag=2,Ir(n,t,1))),n.lanes|=1),e)}var Zv=cr.ReactCurrentOwner,qt=!1;function Ft(e,t,n,r){t.child=e===null?Nm(t,null,n,r):ys(t,e.child,n,r)}function Hh(e,t,n,r,i){n=n.render;var s=t.ref;return ls(t,i),r=hf(e,t,n,r,s,i),n=pf(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(We&&n&&ef(t),t.flags|=1,Ft(e,t,r,i),t.child)}function Gh(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ef(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Qm(e,t,s,r,i)):(e=Fo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ga,n(o,r)&&e.ref===t.ref)return or(e,t,i)}return t.flags|=1,e=Vr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Qm(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ga(s,r)&&e.ref===t.ref)if(qt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,or(e,t,i)}return Lu(e,t,n,r,i)}function Xm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(es,Yt),Yt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(es,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(es,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,qe(es,Yt),Yt|=r;return Ft(e,t,i,n),t.child}function Dm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lu(e,t,n,r,i){var s=Kt(n)?pi:kt.current;return s=ps(t,s),ls(t,i),n=hf(e,t,n,r,s,i),r=pf(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,or(e,t,i)):(We&&r&&ef(t),t.flags|=1,Ft(e,t,n,i),t.child)}function Kh(e,t,n,r,i){if(Kt(n)){var s=!0;pl(t)}else s=!1;if(ls(t,i),t.stateNode===null)Ro(e,t),Wm(t,n,r),Xu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,p=n.contextType;typeof p=="object"&&p!==null?p=cn(p):(p=Kt(n)?pi:kt.current,p=ps(t,p));var w=n.getDerivedStateFromProps,_=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==p)&&$h(t,o,r,p),_r=!1;var E=t.memoizedState;o.state=E,vl(t,r,o,i),c=t.memoizedState,l!==r||E!==c||Gt.current||_r?(typeof w=="function"&&(Qu(t,n,w,r),c=t.memoizedState),(l=_r||Mh(t,n,l,r,E,c,p))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=p,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Sm(e,t),l=t.memoizedProps,p=t.type===t.elementType?l:yn(t.type,l),o.props=p,_=t.pendingProps,E=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Kt(n)?pi:kt.current,c=ps(t,c));var h=n.getDerivedStateFromProps;(w=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==_||E!==c)&&$h(t,o,r,c),_r=!1,E=t.memoizedState,o.state=E,vl(t,r,o,i);var A=t.memoizedState;l!==_||E!==A||Gt.current||_r?(typeof h=="function"&&(Qu(t,n,h,r),A=t.memoizedState),(p=_r||Mh(t,n,p,r,E,A,c)||!1)?(w||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),o.props=r,o.state=A,o.context=c,r=p):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return Ju(e,t,n,r,s,i)}function Ju(e,t,n,r,i,s){Dm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Bh(t,n,!1),or(e,t,s);r=t.stateNode,Zv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,l,s)):Ft(e,t,l,s),t.memoizedState=r.state,i&&Bh(t,n,!0),t.child}function Lm(e){var t=e.stateNode;t.pendingContext?kh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kh(e,t.context,!1),cf(e,t.containerInfo)}function Wh(e,t,n,r,i){return ms(),nf(i),t.flags|=256,Ft(e,t,n,r),t.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jm(e,t,n){var r=t.pendingProps,i=Ye.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qe(Ye,i&1),e===null)return Yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ec(o,r,0,null),e=fi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=td(n),t.memoizedState=ed,e):gf(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Qv(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Vr(l,s):(s=fi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?td(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ed,r}return s=e.child,e=s.sibling,r=Vr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gf(e,t){return t=ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ao(e,t,n,r){return r!==null&&nf(r),ys(t,e.child,null,n),e=gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qv(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Hc(Error(fe(422))),ao(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ec({mode:"visible",children:r.children},i,0,null),s=fi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=td(o),t.memoizedState=ed,s);if(!(t.mode&1))return ao(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(fe(419)),r=Hc(s,r,void 0),ao(e,t,o,r)}if(l=(o&e.childLanes)!==0,qt||l){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ar(e,i),Nn(r,e,i,-1))}return Nf(),r=Hc(Error(fe(421))),ao(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lx.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Qt=Ur(i.nextSibling),Xt=t,We=!0,xn=null,e!==null&&(rn[sn++]=Dn,rn[sn++]=Ln,rn[sn++]=mi,Dn=e.id,Ln=e.overflow,mi=t),t=gf(t,r.children),t.flags|=4096,t)}function Yh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zu(e.return,t,n)}function Gc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ey(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,n,t);else if(e.tag===19)Yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gc(t,!0,n,null,s);break;case"together":Gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=Vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xv(e,t,n){switch(t.tag){case 3:Lm(t),ms();break;case 5:jm(t);break;case 1:Kt(t.type)&&pl(t);break;case 4:cf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qe(gl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?Jm(e,t,n):(qe(Ye,Ye.current&1),e=or(e,t,n),e!==null?e.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ey(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Xm(e,t,n)}return or(e,t,n)}var ty,nd,ny,ry;ty=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nd=function(){};ny=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,li(zn.current);var s=null;switch(n){case"input":i=Eu(e,i),r=Eu(e,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Tu(e,i),r=Tu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}ku(n,r);var o;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var l=i[p];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ua.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var c=r[p];if(l=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&c!==l&&(c!=null||l!=null))if(p==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(p,n)),n=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ua.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&He("scroll",e),s||l===c||(s=[])):(s=s||[]).push(p,c))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};ry=function(e,t,n,r){n!==r&&(t.flags|=4)};function Us(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Dv(e,t,n){var r=t.pendingProps;switch(tf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Kt(t.type)&&hl(),Nt(t),null;case 3:return r=t.stateNode,gs(),Ge(Gt),Ge(kt),df(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(ud(xn),xn=null))),nd(e,t),Nt(t),null;case 5:uf(t);var i=li(ba.current);if(n=t.type,e!==null&&t.stateNode!=null)ny(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Nt(t),null}if(e=li(zn.current),io(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[In]=t,r[xa]=s,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<qs.length;i++)He(qs[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":nh(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":ih(r,s),He("invalid",r)}ku(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ro(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ro(r.textContent,l,e),i=["children",""+l]):ua.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Qa(r),rh(r,s,!0);break;case"textarea":Qa(r),sh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[In]=t,e[xa]=r,ty(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bu(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<qs.length;i++)He(qs[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":nh(e,r),i=Eu(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),He("invalid",e);break;case"textarea":ih(e,r),i=Tu(e,r),He("invalid",e);break;default:i=r}ku(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Op(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rp(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&da(e,c):typeof c=="number"&&da(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ua.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",e):c!=null&&Vd(e,s,c,o))}switch(n){case"input":Qa(e),rh(e,r,!1);break;case"textarea":Qa(e),sh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?is(e,!!r.multiple,s,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)ry(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=li(ba.current),li(zn.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[In]=t,(s=r.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return Nt(t),null;case 13:if(Ge(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Qt!==null&&t.mode&1&&!(t.flags&128))_m(),ms(),t.flags|=98560,s=!1;else if(s=io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[In]=t}else ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),s=!1}else xn!==null&&(ud(xn),xn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?lt===0&&(lt=3):Nf())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return gs(),nd(e,t),e===null&&wa(t.stateNode.containerInfo),Nt(t),null;case 10:return af(t.type._context),Nt(t),null;case 17:return Kt(t.type)&&hl(),Nt(t),null;case 19:if(Ge(Ye),s=t.memoizedState,s===null)return Nt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Us(s,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xl(e),o!==null){for(t.flags|=128,Us(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&tt()>vs&&(t.flags|=128,r=!0,Us(s,!1),t.lanes=4194304)}else{if(!r)if(e=xl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Nt(t),null}else 2*tt()-s.renderingStartTime>vs&&n!==1073741824&&(t.flags|=128,r=!0,Us(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=tt(),t.sibling=null,n=Ye.current,qe(Ye,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return bf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yt&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function Lv(e,t){switch(tf(t),t.tag){case 1:return Kt(t.type)&&hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),Ge(Gt),Ge(kt),df(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uf(t),null;case 13:if(Ge(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ye),null;case 4:return gs(),null;case 10:return af(t.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var oo=!1,At=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function rd(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var Zh=!1;function ex(e,t){if(Vu=cl,e=lm(),Jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,p=0,w=0,_=e,E=null;t:for(;;){for(var h;_!==n||i!==0&&_.nodeType!==3||(l=o+i),_!==s||r!==0&&_.nodeType!==3||(c=o+r),_.nodeType===3&&(o+=_.nodeValue.length),(h=_.firstChild)!==null;)E=_,_=h;for(;;){if(_===e)break t;if(E===n&&++p===i&&(l=o),E===s&&++w===r&&(c=o),(h=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zu={focusedElem:e,selectionRange:n},cl=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,Z=A.memoizedState,k=t.stateNode,j=k.getSnapshotBeforeUpdate(t.elementType===t.type?C:yn(t.type,C),Z);k.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(x){Xe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return A=Zh,Zh=!1,A}function ta(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&rd(t,n,s)}i=i.next}while(i!==r)}}function Ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function id(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iy(e){var t=e.alternate;t!==null&&(e.alternate=null,iy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[xa],delete t[Gu],delete t[Uv],delete t[Iv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sy(e){return e.tag===5||e.tag===3||e.tag===4}function Qh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(sd(e,t,n),e=e.sibling;e!==null;)sd(e,t,n),e=e.sibling}function ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ad(e,t,n),e=e.sibling;e!==null;)ad(e,t,n),e=e.sibling}var gt=null,wn=!1;function fr(e,t,n){for(n=n.child;n!==null;)ay(e,t,n),n=n.sibling}function ay(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:At||Ji(n,t);case 6:var r=gt,i=wn;gt=null,fr(e,t,n),gt=r,wn=i,gt!==null&&(wn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(wn?(e=gt,n=n.stateNode,e.nodeType===8?Ic(e.parentNode,n):e.nodeType===1&&Ic(e,n),ma(e)):Ic(gt,n.stateNode));break;case 4:r=gt,i=wn,gt=n.stateNode.containerInfo,wn=!0,fr(e,t,n),gt=r,wn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rd(n,t,o),i=i.next}while(i!==r)}fr(e,t,n);break;case 1:if(!At&&(Ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,t,l)}fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,fr(e,t,n),At=r):fr(e,t,n);break;default:fr(e,t,n)}}function Xh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jv),t.forEach(function(r){var i=cx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,wn=!1;break e;case 3:gt=l.stateNode.containerInfo,wn=!0;break e;case 4:gt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(gt===null)throw Error(fe(160));ay(s,o,i),gt=null,wn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(p){Xe(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oy(t,e),t=t.sibling}function oy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),Tn(e),r&4){try{ta(3,e,e.return),Ll(3,e)}catch(C){Xe(e,e.return,C)}try{ta(5,e,e.return)}catch(C){Xe(e,e.return,C)}}break;case 1:fn(t,e),Tn(e),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(fn(t,e),Tn(e),r&512&&n!==null&&Ji(n,n.return),e.flags&32){var i=e.stateNode;try{da(i,"")}catch(C){Xe(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&kp(i,s),Bu(l,o);var p=Bu(l,s);for(o=0;o<c.length;o+=2){var w=c[o],_=c[o+1];w==="style"?Op(i,_):w==="dangerouslySetInnerHTML"?Rp(i,_):w==="children"?da(i,_):Vd(i,w,_,p)}switch(l){case"input":Su(i,s);break;case"textarea":Bp(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?is(i,!!s.multiple,h,!1):E!==!!s.multiple&&(s.defaultValue!=null?is(i,!!s.multiple,s.defaultValue,!0):is(i,!!s.multiple,s.multiple?[]:"",!1))}i[xa]=s}catch(C){Xe(e,e.return,C)}}break;case 6:if(fn(t,e),Tn(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(C){Xe(e,e.return,C)}}break;case 3:if(fn(t,e),Tn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(C){Xe(e,e.return,C)}break;case 4:fn(t,e),Tn(e);break;case 13:fn(t,e),Tn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xf=tt())),r&4&&Xh(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(At=(p=At)||w,fn(t,e),At=p):fn(t,e),Tn(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!w&&e.mode&1)for(we=e,w=e.child;w!==null;){for(_=we=w;we!==null;){switch(E=we,h=E.child,E.tag){case 0:case 11:case 14:case 15:ta(4,E,E.return);break;case 1:Ji(E,E.return);var A=E.stateNode;if(typeof A.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){Xe(r,n,C)}}break;case 5:Ji(E,E.return);break;case 22:if(E.memoizedState!==null){Lh(_);continue}}h!==null?(h.return=E,we=h):Lh(_)}w=w.sibling}e:for(w=null,_=e;;){if(_.tag===5){if(w===null){w=_;try{i=_.stateNode,p?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=_.stateNode,c=_.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Pp("display",o))}catch(C){Xe(e,e.return,C)}}}else if(_.tag===6){if(w===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(C){Xe(e,e.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;w===_&&(w=null),_=_.return}w===_&&(w=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:fn(t,e),Tn(e),r&4&&Xh(e);break;case 21:break;default:fn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sy(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(da(i,""),r.flags&=-33);var s=Qh(e);ad(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Qh(e);sd(e,l,o);break;default:throw Error(fe(161))}}catch(c){Xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tx(e,t,n){we=e,ly(e)}function ly(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var i=we,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oo;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||At;l=oo;var p=At;if(oo=o,(At=c)&&!p)for(we=i;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?Jh(i):c!==null?(c.return=o,we=c):Jh(i);for(;s!==null;)we=s,ly(s),s=s.sibling;we=i,oo=l,At=p}Dh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,we=s):Dh(e)}}function Dh(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||Ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Fh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var _=w.dehydrated;_!==null&&ma(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}At||t.flags&512&&id(t)}catch(E){Xe(t,t.return,E)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Lh(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Jh(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ll(4,t)}catch(c){Xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Xe(t,i,c)}}var s=t.return;try{id(t)}catch(c){Xe(t,s,c)}break;case 5:var o=t.return;try{id(t)}catch(c){Xe(t,o,c)}}}catch(c){Xe(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var nx=Math.ceil,Nl=cr.ReactCurrentDispatcher,wf=cr.ReactCurrentOwner,ln=cr.ReactCurrentBatchConfig,Oe=0,mt=null,st=null,vt=0,Yt=0,es=Zr(0),lt=0,ja=null,gi=0,Jl=0,vf=0,na=null,Vt=null,xf=0,vs=1/0,Kn=null,El=!1,od=null,Mr=null,lo=!1,Cr=null,Sl=0,ra=0,ld=null,Po=-1,Oo=0;function It(){return Oe&6?tt():Po!==-1?Po:Po=tt()}function $r(e){return e.mode&1?Oe&2&&vt!==0?vt&-vt:$v.transition!==null?(Oo===0&&(Oo=Wp()),Oo):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Jp(e.type)),e):1}function Nn(e,t,n,r){if(50<ra)throw ra=0,ld=null,Error(fe(185));Oa(e,n,r),(!(Oe&2)||e!==mt)&&(e===mt&&(!(Oe&2)&&(Jl|=n),lt===4&&Tr(e,vt)),Wt(e,r),n===1&&Oe===0&&!(t.mode&1)&&(vs=tt()+500,Ql&&Qr()))}function Wt(e,t){var n=e.callbackNode;$w(e,t);var r=ll(e,e===mt?vt:0);if(r===0)n!==null&&lh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lh(n),t===1)e.tag===0?Mv(e0.bind(null,e)):wm(e0.bind(null,e)),Ov(function(){!(Oe&6)&&Qr()}),n=null;else{switch(Yp(r)){case 1:n=Kd;break;case 4:n=Gp;break;case 16:n=ol;break;case 536870912:n=Kp;break;default:n=ol}n=yy(n,cy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cy(e,t){if(Po=-1,Oo=0,Oe&6)throw Error(fe(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=ll(e,e===mt?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jl(e,r);else{t=r;var i=Oe;Oe|=2;var s=dy();(mt!==e||vt!==t)&&(Kn=null,vs=tt()+500,di(e,t));do try{sx();break}catch(l){uy(e,l)}while(1);sf(),Nl.current=s,Oe=i,st!==null?t=0:(mt=null,vt=0,t=lt)}if(t!==0){if(t===2&&(i=Fu(e),i!==0&&(r=i,t=cd(e,i))),t===1)throw n=ja,di(e,0),Tr(e,r),Wt(e,tt()),n;if(t===6)Tr(e,r);else{if(i=e.current.alternate,!(r&30)&&!rx(i)&&(t=jl(e,r),t===2&&(s=Fu(e),s!==0&&(r=s,t=cd(e,s))),t===1))throw n=ja,di(e,0),Tr(e,r),Wt(e,tt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:Lr(e,Vt,Kn);break;case 3:if(Tr(e,r),(r&130023424)===r&&(t=xf+500-tt(),10<t)){if(ll(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){It(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hu(Lr.bind(null,e,Vt,Kn),t);break}Lr(e,Vt,Kn);break;case 4:if(Tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nx(r/1960))-r,10<r){e.timeoutHandle=Hu(Lr.bind(null,e,Vt,Kn),r);break}Lr(e,Vt,Kn);break;case 5:Lr(e,Vt,Kn);break;default:throw Error(fe(329))}}}return Wt(e,tt()),e.callbackNode===n?cy.bind(null,e):null}function cd(e,t){var n=na;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Vt,Vt=n,t!==null&&ud(t)),e}function ud(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function rx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~vf,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bn(t),r=1<<n;e[n]=-1,t&=~r}}function e0(e){if(Oe&6)throw Error(fe(327));cs();var t=ll(e,0);if(!(t&1))return Wt(e,tt()),null;var n=jl(e,t);if(e.tag!==0&&n===2){var r=Fu(e);r!==0&&(t=r,n=cd(e,r))}if(n===1)throw n=ja,di(e,0),Tr(e,t),Wt(e,tt()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,Vt,Kn),Wt(e,tt()),null}function _f(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(vs=tt()+500,Ql&&Qr())}}function wi(e){Cr!==null&&Cr.tag===0&&!(Oe&6)&&cs();var t=Oe;Oe|=1;var n=ln.transition,r=Ie;try{if(ln.transition=null,Ie=1,e)return e()}finally{Ie=r,ln.transition=n,Oe=t,!(Oe&6)&&Qr()}}function bf(){Yt=es.current,Ge(es)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pv(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hl();break;case 3:gs(),Ge(Gt),Ge(kt),df();break;case 5:uf(r);break;case 4:gs();break;case 13:Ge(Ye);break;case 19:Ge(Ye);break;case 10:af(r.type._context);break;case 22:case 23:bf()}n=n.return}if(mt=e,st=e=Vr(e.current,null),vt=Yt=t,lt=0,ja=null,vf=Jl=gi=0,Vt=na=null,oi!==null){for(t=0;t<oi.length;t++)if(n=oi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}oi=null}return e}function uy(e,t){do{var n=st;try{if(sf(),Bo.current=bl,_l){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_l=!1}if(yi=0,pt=at=Ze=null,ea=!1,Na=0,wf.current=null,n===null||n.return===null){lt=1,ja=t,st=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,w=l,_=w.tag;if(!(w.mode&1)&&(_===0||_===11||_===15)){var E=w.alternate;E?(w.updateQueue=E.updateQueue,w.memoizedState=E.memoizedState,w.lanes=E.lanes):(w.updateQueue=null,w.memoizedState=null)}var h=zh(o);if(h!==null){h.flags&=-257,qh(h,o,l,s,t),h.mode&1&&Vh(s,p,t),t=h,c=p;var A=t.updateQueue;if(A===null){var C=new Set;C.add(c),t.updateQueue=C}else A.add(c);break e}else{if(!(t&1)){Vh(s,p,t),Nf();break e}c=Error(fe(426))}}else if(We&&l.mode&1){var Z=zh(o);if(Z!==null){!(Z.flags&65536)&&(Z.flags|=256),qh(Z,o,l,s,t),nf(ws(c,l));break e}}s=c=ws(c,l),lt!==4&&(lt=2),na===null?na=[s]:na.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var k=Ym(s,c,t);Oh(s,k);break e;case 1:l=c;var j=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Mr===null||!Mr.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=Zm(s,l,t);Oh(s,x);break e}}s=s.return}while(s!==null)}hy(n)}catch(I){t=I,st===n&&n!==null&&(st=n=n.return);continue}break}while(1)}function dy(){var e=Nl.current;return Nl.current=bl,e===null?bl:e}function Nf(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(gi&268435455)&&!(Jl&268435455)||Tr(mt,vt)}function jl(e,t){var n=Oe;Oe|=2;var r=dy();(mt!==e||vt!==t)&&(Kn=null,di(e,t));do try{ix();break}catch(i){uy(e,i)}while(1);if(sf(),Oe=n,Nl.current=r,st!==null)throw Error(fe(261));return mt=null,vt=0,lt}function ix(){for(;st!==null;)fy(st)}function sx(){for(;st!==null&&!Bw();)fy(st)}function fy(e){var t=my(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?hy(e):st=t,wf.current=null}function hy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lv(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}else if(n=Dv(n,t,Yt),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);lt===0&&(lt=5)}function Lr(e,t,n){var r=Ie,i=ln.transition;try{ln.transition=null,Ie=1,ax(e,t,n,r)}finally{ln.transition=i,Ie=r}return null}function ax(e,t,n,r){do cs();while(Cr!==null);if(Oe&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Vw(e,s),e===mt&&(st=mt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lo||(lo=!0,yy(ol,function(){return cs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=Ie;Ie=1;var l=Oe;Oe|=4,wf.current=null,ex(e,n),oy(n,e),jv(zu),cl=!!Vu,zu=Vu=null,e.current=n,tx(n),Cw(),Oe=l,Ie=o,ln.transition=s}else e.current=n;if(lo&&(lo=!1,Cr=e,Sl=i),s=e.pendingLanes,s===0&&(Mr=null),Ow(n.stateNode),Wt(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(El)throw El=!1,e=od,od=null,e;return Sl&1&&e.tag!==0&&cs(),s=e.pendingLanes,s&1?e===ld?ra++:(ra=0,ld=e):ra=0,Qr(),null}function cs(){if(Cr!==null){var e=Yp(Sl),t=ln.transition,n=Ie;try{if(ln.transition=null,Ie=16>e?16:e,Cr===null)var r=!1;else{if(e=Cr,Cr=null,Sl=0,Oe&6)throw Error(fe(331));var i=Oe;for(Oe|=4,we=e.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var p=l[c];for(we=p;we!==null;){var w=we;switch(w.tag){case 0:case 11:case 15:ta(8,w,s)}var _=w.child;if(_!==null)_.return=w,we=_;else for(;we!==null;){w=we;var E=w.sibling,h=w.return;if(iy(w),w===p){we=null;break}if(E!==null){E.return=h,we=E;break}we=h}}}var A=s.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var Z=C.sibling;C.sibling=null,C=Z}while(C!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ta(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,we=k;break e}we=s.return}}var j=e.current;for(we=j;we!==null;){o=we;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,we=b;else e:for(o=j;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ll(9,l)}}catch(I){Xe(l,l.return,I)}if(l===o){we=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,we=x;break e}we=l.return}}if(Oe=i,Qr(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Gl,e)}catch{}r=!0}return r}finally{Ie=n,ln.transition=t}}return!1}function t0(e,t,n){t=ws(n,t),t=Ym(e,t,1),e=Ir(e,t,1),t=It(),e!==null&&(Oa(e,1,t),Wt(e,t))}function Xe(e,t,n){if(e.tag===3)t0(e,e,n);else for(;t!==null;){if(t.tag===3){t0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){e=ws(n,e),e=Zm(t,e,1),t=Ir(t,e,1),e=It(),t!==null&&(Oa(t,1,e),Wt(t,e));break}}t=t.return}}function ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(vt&n)===n&&(lt===4||lt===3&&(vt&130023424)===vt&&500>tt()-xf?di(e,0):vf|=n),Wt(e,t)}function py(e,t){t===0&&(e.mode&1?(t=La,La<<=1,!(La&130023424)&&(La=4194304)):t=1);var n=It();e=ar(e,t),e!==null&&(Oa(e,t,n),Wt(e,n))}function lx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),py(e,n)}function cx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),py(e,n)}var my;my=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qt=!1,Xv(e,t,n);qt=!!(e.flags&131072)}else qt=!1,We&&t.flags&1048576&&vm(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ro(e,t),e=t.pendingProps;var i=ps(t,kt.current);ls(t,n),i=hf(null,t,r,e,i,n);var s=pf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(s=!0,pl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lf(t),i.updater=Dl,t.stateNode=i,i._reactInternals=t,Xu(t,r,e,n),t=Ju(null,t,r,!0,s,n)):(t.tag=0,We&&s&&ef(t),Ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ro(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=dx(r),e=yn(r,e),i){case 0:t=Lu(null,t,r,e,n);break e;case 1:t=Kh(null,t,r,e,n);break e;case 11:t=Hh(null,t,r,e,n);break e;case 14:t=Gh(null,t,r,yn(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Lu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Kh(e,t,r,i,n);case 3:e:{if(Lm(t),e===null)throw Error(fe(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Sm(e,t),vl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ws(Error(fe(423)),t),t=Wh(e,t,r,n,i);break e}else if(r!==i){i=ws(Error(fe(424)),t),t=Wh(e,t,r,n,i);break e}else for(Qt=Ur(t.stateNode.containerInfo.firstChild),Xt=t,We=!0,xn=null,n=Nm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){t=or(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 5:return jm(t),e===null&&Yu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,qu(r,i)?o=null:s!==null&&qu(r,s)&&(t.flags|=32),Dm(e,t),Ft(e,t,o,n),t.child;case 6:return e===null&&Yu(t),null;case 13:return Jm(e,t,n);case 4:return cf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ys(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Hh(e,t,r,i,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,qe(gl,r._currentValue),r._currentValue=o,s!==null)if(Sn(s.value,o)){if(s.children===i.children&&!Gt.current){t=or(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=nr(-1,n&-n),c.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?c.next=c:(c.next=w.next,w.next=c),p.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Zu(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ls(t,n),i=cn(i),r=r(i),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return r=t.type,i=yn(r,t.pendingProps),i=yn(r.type,i),Gh(e,t,r,i,n);case 15:return Qm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yn(r,i),Ro(e,t),t.tag=1,Kt(r)?(e=!0,pl(t)):e=!1,ls(t,n),Wm(t,r,i),Xu(t,r,i,n),Ju(null,t,r,!0,e,n);case 19:return ey(e,t,n);case 22:return Xm(e,t,n)}throw Error(fe(156,t.tag))};function yy(e,t){return Hp(e,t)}function ux(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new ux(e,t,n,r)}function Ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dx(e){if(typeof e=="function")return Ef(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qd)return 11;if(e===Hd)return 14}return 2}function Vr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ef(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gi:return fi(n.children,i,s,t);case zd:o=8,i|=8;break;case xu:return e=on(12,n,t,i|2),e.elementType=xu,e.lanes=s,e;case _u:return e=on(13,n,t,i),e.elementType=_u,e.lanes=s,e;case bu:return e=on(19,n,t,i),e.elementType=bu,e.lanes=s,e;case jp:return ec(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ep:o=10;break e;case Sp:o=9;break e;case qd:o=11;break e;case Hd:o=14;break e;case xr:o=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=on(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fi(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function ec(e,t,n,r){return e=on(22,e,r,t),e.elementType=jp,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Wc(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sf(e,t,n,r,i,s,o,l,c){return e=new fx(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=on(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(s),e}function hx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gy(e){if(!e)return Kr;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(Kt(n))return gm(e,n,t)}return t}function wy(e,t,n,r,i,s,o,l,c){return e=Sf(n,r,!0,e,i,s,o,l,c),e.context=gy(null),n=e.current,r=It(),i=$r(n),s=nr(r,i),s.callback=t??null,Ir(n,s,i),e.current.lanes=i,Oa(e,i,r),Wt(e,r),e}function tc(e,t,n,r){var i=t.current,s=It(),o=$r(i);return n=gy(n),t.context===null?t.context=n:t.pendingContext=n,t=nr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ir(i,t,o),e!==null&&(Nn(e,i,o,s),ko(e,i,o)),o}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function n0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jf(e,t){n0(e,t),(e=e.alternate)&&n0(e,t)}function px(){return null}var vy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tf(e){this._internalRoot=e}nc.prototype.render=Tf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));tc(e,t,null,null)};nc.prototype.unmount=Tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wi(function(){tc(null,e,null,null)}),t[sr]=null}};function nc(e){this._internalRoot=e}nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jr.length&&t!==0&&t<jr[n].priority;n++);jr.splice(n,0,e),n===0&&Lp(e)}};function Af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function r0(){}function mx(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var p=Tl(o);s.call(p)}}var o=wy(t,r,e,0,null,!1,!1,"",r0);return e._reactRootContainer=o,e[sr]=o.current,wa(e.nodeType===8?e.parentNode:e),wi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var p=Tl(c);l.call(p)}}var c=Sf(e,0,!1,null,null,!1,!1,"",r0);return e._reactRootContainer=c,e[sr]=c.current,wa(e.nodeType===8?e.parentNode:e),wi(function(){tc(t,c,n,r)}),c}function ic(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Tl(o);l.call(c)}}tc(t,o,e,i)}else o=mx(n,t,e,i,r);return Tl(o)}Zp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zs(t.pendingLanes);n!==0&&(Wd(t,n|1),Wt(t,tt()),!(Oe&6)&&(vs=tt()+500,Qr()))}break;case 13:wi(function(){var r=ar(e,1);if(r!==null){var i=It();Nn(r,e,1,i)}}),jf(e,1)}};Yd=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var n=It();Nn(t,e,134217728,n)}jf(e,134217728)}};Qp=function(e){if(e.tag===13){var t=$r(e),n=ar(e,t);if(n!==null){var r=It();Nn(n,e,t,r)}jf(e,t)}};Xp=function(){return Ie};Dp=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};Ru=function(e,t,n){switch(t){case"input":if(Su(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zl(r);if(!i)throw Error(fe(90));Ap(r),Su(r,i)}}}break;case"textarea":Bp(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};Ip=_f;Mp=wi;var yx={usingClientEntryPoint:!1,Events:[Ua,Zi,Zl,Fp,Up,_f]},Is={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gx={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zp(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{Gl=co.inject(gx),Vn=co}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(t))throw Error(fe(200));return hx(e,t,null,n)};Lt.createRoot=function(e,t){if(!Af(e))throw Error(fe(299));var n=!1,r="",i=vy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Sf(e,1,!1,null,null,n,!1,r,i),e[sr]=t.current,wa(e.nodeType===8?e.parentNode:e),new Tf(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=zp(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return wi(e)};Lt.hydrate=function(e,t,n){if(!rc(t))throw Error(fe(200));return ic(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Af(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wy(t,null,e,1,n??null,i,!1,s,o),e[sr]=t.current,wa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new nc(t)};Lt.render=function(e,t,n){if(!rc(t))throw Error(fe(200));return ic(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!rc(e))throw Error(fe(40));return e._reactRootContainer?(wi(function(){ic(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};Lt.unstable_batchedUpdates=_f;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rc(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return ic(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xy)}catch(e){console.error(e)}}xy(),xp.exports=Lt;var wx=xp.exports,i0=wx;wu.createRoot=i0.createRoot,wu.hydrateRoot=i0.hydrateRoot;var _y={},Ma={};Ma.byteLength=_x;Ma.toByteArray=Nx;Ma.fromByteArray=jx;var Mn=[],en=[],vx=typeof Uint8Array<"u"?Uint8Array:Array,Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ai=0,xx=Yc.length;Ai<xx;++Ai)Mn[Ai]=Yc[Ai],en[Yc.charCodeAt(Ai)]=Ai;en["-".charCodeAt(0)]=62;en["_".charCodeAt(0)]=63;function by(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function _x(e){var t=by(e),n=t[0],r=t[1];return(n+r)*3/4-r}function bx(e,t,n){return(t+n)*3/4-n}function Nx(e){var t,n=by(e),r=n[0],i=n[1],s=new vx(bx(e,r,i)),o=0,l=i>0?r-4:r,c;for(c=0;c<l;c+=4)t=en[e.charCodeAt(c)]<<18|en[e.charCodeAt(c+1)]<<12|en[e.charCodeAt(c+2)]<<6|en[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=en[e.charCodeAt(c)]<<2|en[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=en[e.charCodeAt(c)]<<10|en[e.charCodeAt(c+1)]<<4|en[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Ex(e){return Mn[e>>18&63]+Mn[e>>12&63]+Mn[e>>6&63]+Mn[e&63]}function Sx(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Ex(r));return i.join("")}function jx(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,l=n-r;o<l;o+=s)i.push(Sx(e,o,o+s>l?l:o+s));return r===1?(t=e[n-1],i.push(Mn[t>>2]+Mn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Mn[t>>10]+Mn[t>>4&63]+Mn[t<<2&63]+"=")),i.join("")}var $a={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$a.read=function(e,t,n,r,i){var s,o,l=i*8-r-1,c=(1<<l)-1,p=c>>1,w=-7,_=n?i-1:0,E=n?-1:1,h=e[t+_];for(_+=E,s=h&(1<<-w)-1,h>>=-w,w+=l;w>0;s=s*256+e[t+_],_+=E,w-=8);for(o=s&(1<<-w)-1,s>>=-w,w+=r;w>0;o=o*256+e[t+_],_+=E,w-=8);if(s===0)s=1-p;else{if(s===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-p}return(h?-1:1)*o*Math.pow(2,s-r)};$a.write=function(e,t,n,r,i,s){var o,l,c,p=s*8-i-1,w=(1<<p)-1,_=w>>1,E=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,A=r?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=w):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+_>=1?t+=E/c:t+=E*Math.pow(2,1-_),t*c>=2&&(o++,c/=2),o+_>=w?(l=0,o=w):o+_>=1?(l=(t*c-1)*Math.pow(2,i),o=o+_):(l=t*Math.pow(2,_-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=l&255,h+=A,l/=256,i-=8);for(o=o<<i|l,p+=i;p>0;e[n+h]=o&255,h+=A,o/=256,p-=8);e[n+h-A]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Ma,n=$a,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=j,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const g=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(g,f),g.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');const f=new Uint8Array(g);return Object.setPrototypeOf(f,l.prototype),f}function l(g,f,m){if(typeof g=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(g)}return c(g,f,m)}l.poolSize=8192;function c(g,f,m){if(typeof g=="string")return E(g,f);if(ArrayBuffer.isView(g))return A(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Q(g,ArrayBuffer)||g&&Q(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(g,SharedArrayBuffer)||g&&Q(g.buffer,SharedArrayBuffer)))return C(g,f,m);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=g.valueOf&&g.valueOf();if(R!=null&&R!==g)return l.from(R,f,m);const H=Z(g);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return l.from(g[Symbol.toPrimitive]("string"),f,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}l.from=function(g,f,m){return c(g,f,m)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function p(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function w(g,f,m){return p(g),g<=0?o(g):f!==void 0?typeof m=="string"?o(g).fill(f,m):o(g).fill(f):o(g)}l.alloc=function(g,f,m){return w(g,f,m)};function _(g){return p(g),o(g<0?0:k(g)|0)}l.allocUnsafe=function(g){return _(g)},l.allocUnsafeSlow=function(g){return _(g)};function E(g,f){if((typeof f!="string"||f==="")&&(f="utf8"),!l.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const m=b(g,f)|0;let R=o(m);const H=R.write(g,f);return H!==m&&(R=R.slice(0,H)),R}function h(g){const f=g.length<0?0:k(g.length)|0,m=o(f);for(let R=0;R<f;R+=1)m[R]=g[R]&255;return m}function A(g){if(Q(g,Uint8Array)){const f=new Uint8Array(g);return C(f.buffer,f.byteOffset,f.byteLength)}return h(g)}function C(g,f,m){if(f<0||g.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<f+(m||0))throw new RangeError('"length" is outside of buffer bounds');let R;return f===void 0&&m===void 0?R=new Uint8Array(g):m===void 0?R=new Uint8Array(g,f):R=new Uint8Array(g,f,m),Object.setPrototypeOf(R,l.prototype),R}function Z(g){if(l.isBuffer(g)){const f=k(g.length)|0,m=o(f);return m.length===0||g.copy(m,0,0,f),m}if(g.length!==void 0)return typeof g.length!="number"||ue(g.length)?o(0):h(g);if(g.type==="Buffer"&&Array.isArray(g.data))return h(g.data)}function k(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function j(g){return+g!=g&&(g=0),l.alloc(+g)}l.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==l.prototype},l.compare=function(f,m){if(Q(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),Q(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),!l.isBuffer(f)||!l.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===m)return 0;let R=f.length,H=m.length;for(let J=0,L=Math.min(R,H);J<L;++J)if(f[J]!==m[J]){R=f[J],H=m[J];break}return R<H?-1:H<R?1:0},l.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(f,m){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return l.alloc(0);let R;if(m===void 0)for(m=0,R=0;R<f.length;++R)m+=f[R].length;const H=l.allocUnsafe(m);let J=0;for(R=0;R<f.length;++R){let L=f[R];if(Q(L,Uint8Array))J+L.length>H.length?(l.isBuffer(L)||(L=l.from(L)),L.copy(H,J)):Uint8Array.prototype.set.call(H,L,J);else if(l.isBuffer(L))L.copy(H,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=L.length}return H};function b(g,f){if(l.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Q(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const m=g.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&m===0)return 0;let H=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return u(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return T(g).length;default:if(H)return R?-1:u(g).length;f=(""+f).toLowerCase(),H=!0}}l.byteLength=b;function x(g,f,m){let R=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,f>>>=0,m<=f))return"";for(g||(g="utf8");;)switch(g){case"hex":return D(this,f,m);case"utf8":case"utf-8":return X(this,f,m);case"ascii":return ye(this,f,m);case"latin1":case"binary":return G(this,f,m);case"base64":return F(this,f,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,f,m);default:if(R)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),R=!0}}l.prototype._isBuffer=!0;function I(g,f,m){const R=g[f];g[f]=g[m],g[m]=R}l.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<f;m+=2)I(this,m,m+1);return this},l.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<f;m+=4)I(this,m,m+3),I(this,m+1,m+2);return this},l.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<f;m+=8)I(this,m,m+7),I(this,m+1,m+6),I(this,m+2,m+5),I(this,m+3,m+4);return this},l.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?X(this,0,f):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(f){if(!l.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:l.compare(this,f)===0},l.prototype.inspect=function(){let f="";const m=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(f+=" ... "),"<Buffer "+f+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(f,m,R,H,J){if(Q(f,Uint8Array)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(m===void 0&&(m=0),R===void 0&&(R=f?f.length:0),H===void 0&&(H=0),J===void 0&&(J=this.length),m<0||R>f.length||H<0||J>this.length)throw new RangeError("out of range index");if(H>=J&&m>=R)return 0;if(H>=J)return-1;if(m>=R)return 1;if(m>>>=0,R>>>=0,H>>>=0,J>>>=0,this===f)return 0;let L=J-H,Ee=R-m;const Ae=Math.min(L,Ee),Se=this.slice(H,J),Ne=f.slice(m,R);for(let Fe=0;Fe<Ae;++Fe)if(Se[Fe]!==Ne[Fe]){L=Se[Fe],Ee=Ne[Fe];break}return L<Ee?-1:Ee<L?1:0};function $(g,f,m,R,H){if(g.length===0)return-1;if(typeof m=="string"?(R=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,ue(m)&&(m=H?0:g.length-1),m<0&&(m=g.length+m),m>=g.length){if(H)return-1;m=g.length-1}else if(m<0)if(H)m=0;else return-1;if(typeof f=="string"&&(f=l.from(f,R)),l.isBuffer(f))return f.length===0?-1:M(g,f,m,R,H);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(g,f,m):Uint8Array.prototype.lastIndexOf.call(g,f,m):M(g,[f],m,R,H);throw new TypeError("val must be string, number or Buffer")}function M(g,f,m,R,H){let J=1,L=g.length,Ee=f.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(g.length<2||f.length<2)return-1;J=2,L/=2,Ee/=2,m/=2}function Ae(Ne,Fe){return J===1?Ne[Fe]:Ne.readUInt16BE(Fe*J)}let Se;if(H){let Ne=-1;for(Se=m;Se<L;Se++)if(Ae(g,Se)===Ae(f,Ne===-1?0:Se-Ne)){if(Ne===-1&&(Ne=Se),Se-Ne+1===Ee)return Ne*J}else Ne!==-1&&(Se-=Se-Ne),Ne=-1}else for(m+Ee>L&&(m=L-Ee),Se=m;Se>=0;Se--){let Ne=!0;for(let Fe=0;Fe<Ee;Fe++)if(Ae(g,Se+Fe)!==Ae(f,Fe)){Ne=!1;break}if(Ne)return Se}return-1}l.prototype.includes=function(f,m,R){return this.indexOf(f,m,R)!==-1},l.prototype.indexOf=function(f,m,R){return $(this,f,m,R,!0)},l.prototype.lastIndexOf=function(f,m,R){return $(this,f,m,R,!1)};function W(g,f,m,R){m=Number(m)||0;const H=g.length-m;R?(R=Number(R),R>H&&(R=H)):R=H;const J=f.length;R>J/2&&(R=J/2);let L;for(L=0;L<R;++L){const Ee=parseInt(f.substr(L*2,2),16);if(ue(Ee))return L;g[m+L]=Ee}return L}function re(g,f,m,R){return U(u(f,g.length-m),g,m,R)}function Y(g,f,m,R){return U(d(f),g,m,R)}function ae(g,f,m,R){return U(T(f),g,m,R)}function P(g,f,m,R){return U(v(f,g.length-m),g,m,R)}l.prototype.write=function(f,m,R,H){if(m===void 0)H="utf8",R=this.length,m=0;else if(R===void 0&&typeof m=="string")H=m,R=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(R)?(R=R>>>0,H===void 0&&(H="utf8")):(H=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-m;if((R===void 0||R>J)&&(R=J),f.length>0&&(R<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");let L=!1;for(;;)switch(H){case"hex":return W(this,f,m,R);case"utf8":case"utf-8":return re(this,f,m,R);case"ascii":case"latin1":case"binary":return Y(this,f,m,R);case"base64":return ae(this,f,m,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,f,m,R);default:if(L)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),L=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(g,f,m){return f===0&&m===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(f,m))}function X(g,f,m){m=Math.min(g.length,m);const R=[];let H=f;for(;H<m;){const J=g[H];let L=null,Ee=J>239?4:J>223?3:J>191?2:1;if(H+Ee<=m){let Ae,Se,Ne,Fe;switch(Ee){case 1:J<128&&(L=J);break;case 2:Ae=g[H+1],(Ae&192)===128&&(Fe=(J&31)<<6|Ae&63,Fe>127&&(L=Fe));break;case 3:Ae=g[H+1],Se=g[H+2],(Ae&192)===128&&(Se&192)===128&&(Fe=(J&15)<<12|(Ae&63)<<6|Se&63,Fe>2047&&(Fe<55296||Fe>57343)&&(L=Fe));break;case 4:Ae=g[H+1],Se=g[H+2],Ne=g[H+3],(Ae&192)===128&&(Se&192)===128&&(Ne&192)===128&&(Fe=(J&15)<<18|(Ae&63)<<12|(Se&63)<<6|Ne&63,Fe>65535&&Fe<1114112&&(L=Fe))}}L===null?(L=65533,Ee=1):L>65535&&(L-=65536,R.push(L>>>10&1023|55296),L=56320|L&1023),R.push(L),H+=Ee}return oe(R)}const te=4096;function oe(g){const f=g.length;if(f<=te)return String.fromCharCode.apply(String,g);let m="",R=0;for(;R<f;)m+=String.fromCharCode.apply(String,g.slice(R,R+=te));return m}function ye(g,f,m){let R="";m=Math.min(g.length,m);for(let H=f;H<m;++H)R+=String.fromCharCode(g[H]&127);return R}function G(g,f,m){let R="";m=Math.min(g.length,m);for(let H=f;H<m;++H)R+=String.fromCharCode(g[H]);return R}function D(g,f,m){const R=g.length;(!f||f<0)&&(f=0),(!m||m<0||m>R)&&(m=R);let H="";for(let J=f;J<m;++J)H+=ge[g[J]];return H}function ee(g,f,m){const R=g.slice(f,m);let H="";for(let J=0;J<R.length-1;J+=2)H+=String.fromCharCode(R[J]+R[J+1]*256);return H}l.prototype.slice=function(f,m){const R=this.length;f=~~f,m=m===void 0?R:~~m,f<0?(f+=R,f<0&&(f=0)):f>R&&(f=R),m<0?(m+=R,m<0&&(m=0)):m>R&&(m=R),m<f&&(m=f);const H=this.subarray(f,m);return Object.setPrototypeOf(H,l.prototype),H};function ne(g,f,m){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+f>m)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(f,m,R){f=f>>>0,m=m>>>0,R||ne(f,m,this.length);let H=this[f],J=1,L=0;for(;++L<m&&(J*=256);)H+=this[f+L]*J;return H},l.prototype.readUintBE=l.prototype.readUIntBE=function(f,m,R){f=f>>>0,m=m>>>0,R||ne(f,m,this.length);let H=this[f+--m],J=1;for(;m>0&&(J*=256);)H+=this[f+--m]*J;return H},l.prototype.readUint8=l.prototype.readUInt8=function(f,m){return f=f>>>0,m||ne(f,1,this.length),this[f]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(f,m){return f=f>>>0,m||ne(f,2,this.length),this[f]|this[f+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(f,m){return f=f>>>0,m||ne(f,2,this.length),this[f]<<8|this[f+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(f,m){return f=f>>>0,m||ne(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(f,m){return f=f>>>0,m||ne(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},l.prototype.readBigUInt64LE=xe(function(f){f=f>>>0,q(f,"offset");const m=this[f],R=this[f+7];(m===void 0||R===void 0)&&V(f,this.length-8);const H=m+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,J=this[++f]+this[++f]*2**8+this[++f]*2**16+R*2**24;return BigInt(H)+(BigInt(J)<<BigInt(32))}),l.prototype.readBigUInt64BE=xe(function(f){f=f>>>0,q(f,"offset");const m=this[f],R=this[f+7];(m===void 0||R===void 0)&&V(f,this.length-8);const H=m*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],J=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+R;return(BigInt(H)<<BigInt(32))+BigInt(J)}),l.prototype.readIntLE=function(f,m,R){f=f>>>0,m=m>>>0,R||ne(f,m,this.length);let H=this[f],J=1,L=0;for(;++L<m&&(J*=256);)H+=this[f+L]*J;return J*=128,H>=J&&(H-=Math.pow(2,8*m)),H},l.prototype.readIntBE=function(f,m,R){f=f>>>0,m=m>>>0,R||ne(f,m,this.length);let H=m,J=1,L=this[f+--H];for(;H>0&&(J*=256);)L+=this[f+--H]*J;return J*=128,L>=J&&(L-=Math.pow(2,8*m)),L},l.prototype.readInt8=function(f,m){return f=f>>>0,m||ne(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},l.prototype.readInt16LE=function(f,m){f=f>>>0,m||ne(f,2,this.length);const R=this[f]|this[f+1]<<8;return R&32768?R|4294901760:R},l.prototype.readInt16BE=function(f,m){f=f>>>0,m||ne(f,2,this.length);const R=this[f+1]|this[f]<<8;return R&32768?R|4294901760:R},l.prototype.readInt32LE=function(f,m){return f=f>>>0,m||ne(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},l.prototype.readInt32BE=function(f,m){return f=f>>>0,m||ne(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},l.prototype.readBigInt64LE=xe(function(f){f=f>>>0,q(f,"offset");const m=this[f],R=this[f+7];(m===void 0||R===void 0)&&V(f,this.length-8);const H=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(R<<24);return(BigInt(H)<<BigInt(32))+BigInt(m+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),l.prototype.readBigInt64BE=xe(function(f){f=f>>>0,q(f,"offset");const m=this[f],R=this[f+7];(m===void 0||R===void 0)&&V(f,this.length-8);const H=(m<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(H)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+R)}),l.prototype.readFloatLE=function(f,m){return f=f>>>0,m||ne(f,4,this.length),n.read(this,f,!0,23,4)},l.prototype.readFloatBE=function(f,m){return f=f>>>0,m||ne(f,4,this.length),n.read(this,f,!1,23,4)},l.prototype.readDoubleLE=function(f,m){return f=f>>>0,m||ne(f,8,this.length),n.read(this,f,!0,52,8)},l.prototype.readDoubleBE=function(f,m){return f=f>>>0,m||ne(f,8,this.length),n.read(this,f,!1,52,8)};function le(g,f,m,R,H,J){if(!l.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>H||f<J)throw new RangeError('"value" argument is out of bounds');if(m+R>g.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(f,m,R,H){if(f=+f,m=m>>>0,R=R>>>0,!H){const Ee=Math.pow(2,8*R)-1;le(this,f,m,R,Ee,0)}let J=1,L=0;for(this[m]=f&255;++L<R&&(J*=256);)this[m+L]=f/J&255;return m+R},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(f,m,R,H){if(f=+f,m=m>>>0,R=R>>>0,!H){const Ee=Math.pow(2,8*R)-1;le(this,f,m,R,Ee,0)}let J=R-1,L=1;for(this[m+J]=f&255;--J>=0&&(L*=256);)this[m+J]=f/L&255;return m+R},l.prototype.writeUint8=l.prototype.writeUInt8=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,1,255,0),this[m]=f&255,m+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,2,65535,0),this[m]=f&255,this[m+1]=f>>>8,m+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,2,65535,0),this[m]=f>>>8,this[m+1]=f&255,m+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,4,4294967295,0),this[m+3]=f>>>24,this[m+2]=f>>>16,this[m+1]=f>>>8,this[m]=f&255,m+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,4,4294967295,0),this[m]=f>>>24,this[m+1]=f>>>16,this[m+2]=f>>>8,this[m+3]=f&255,m+4};function ie(g,f,m,R,H){O(f,R,H,g,m,7);let J=Number(f&BigInt(4294967295));g[m++]=J,J=J>>8,g[m++]=J,J=J>>8,g[m++]=J,J=J>>8,g[m++]=J;let L=Number(f>>BigInt(32)&BigInt(4294967295));return g[m++]=L,L=L>>8,g[m++]=L,L=L>>8,g[m++]=L,L=L>>8,g[m++]=L,m}function N(g,f,m,R,H){O(f,R,H,g,m,7);let J=Number(f&BigInt(4294967295));g[m+7]=J,J=J>>8,g[m+6]=J,J=J>>8,g[m+5]=J,J=J>>8,g[m+4]=J;let L=Number(f>>BigInt(32)&BigInt(4294967295));return g[m+3]=L,L=L>>8,g[m+2]=L,L=L>>8,g[m+1]=L,L=L>>8,g[m]=L,m+8}l.prototype.writeBigUInt64LE=xe(function(f,m=0){return ie(this,f,m,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=xe(function(f,m=0){return N(this,f,m,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(f,m,R,H){if(f=+f,m=m>>>0,!H){const Ae=Math.pow(2,8*R-1);le(this,f,m,R,Ae-1,-Ae)}let J=0,L=1,Ee=0;for(this[m]=f&255;++J<R&&(L*=256);)f<0&&Ee===0&&this[m+J-1]!==0&&(Ee=1),this[m+J]=(f/L>>0)-Ee&255;return m+R},l.prototype.writeIntBE=function(f,m,R,H){if(f=+f,m=m>>>0,!H){const Ae=Math.pow(2,8*R-1);le(this,f,m,R,Ae-1,-Ae)}let J=R-1,L=1,Ee=0;for(this[m+J]=f&255;--J>=0&&(L*=256);)f<0&&Ee===0&&this[m+J+1]!==0&&(Ee=1),this[m+J]=(f/L>>0)-Ee&255;return m+R},l.prototype.writeInt8=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,1,127,-128),f<0&&(f=255+f+1),this[m]=f&255,m+1},l.prototype.writeInt16LE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,2,32767,-32768),this[m]=f&255,this[m+1]=f>>>8,m+2},l.prototype.writeInt16BE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,2,32767,-32768),this[m]=f>>>8,this[m+1]=f&255,m+2},l.prototype.writeInt32LE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,4,2147483647,-2147483648),this[m]=f&255,this[m+1]=f>>>8,this[m+2]=f>>>16,this[m+3]=f>>>24,m+4},l.prototype.writeInt32BE=function(f,m,R){return f=+f,m=m>>>0,R||le(this,f,m,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[m]=f>>>24,this[m+1]=f>>>16,this[m+2]=f>>>8,this[m+3]=f&255,m+4},l.prototype.writeBigInt64LE=xe(function(f,m=0){return ie(this,f,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=xe(function(f,m=0){return N(this,f,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(g,f,m,R,H,J){if(m+R>g.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function de(g,f,m,R,H){return f=+f,m=m>>>0,H||ce(g,f,m,4),n.write(g,f,m,R,23,4),m+4}l.prototype.writeFloatLE=function(f,m,R){return de(this,f,m,!0,R)},l.prototype.writeFloatBE=function(f,m,R){return de(this,f,m,!1,R)};function me(g,f,m,R,H){return f=+f,m=m>>>0,H||ce(g,f,m,8),n.write(g,f,m,R,52,8),m+8}l.prototype.writeDoubleLE=function(f,m,R){return me(this,f,m,!0,R)},l.prototype.writeDoubleBE=function(f,m,R){return me(this,f,m,!1,R)},l.prototype.copy=function(f,m,R,H){if(!l.isBuffer(f))throw new TypeError("argument should be a Buffer");if(R||(R=0),!H&&H!==0&&(H=this.length),m>=f.length&&(m=f.length),m||(m=0),H>0&&H<R&&(H=R),H===R||f.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),f.length-m<H-R&&(H=f.length-m+R);const J=H-R;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,R,H):Uint8Array.prototype.set.call(f,this.subarray(R,H),m),J},l.prototype.fill=function(f,m,R,H){if(typeof f=="string"){if(typeof m=="string"?(H=m,m=0,R=this.length):typeof R=="string"&&(H=R,R=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!l.isEncoding(H))throw new TypeError("Unknown encoding: "+H);if(f.length===1){const L=f.charCodeAt(0);(H==="utf8"&&L<128||H==="latin1")&&(f=L)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(m<0||this.length<m||this.length<R)throw new RangeError("Out of range index");if(R<=m)return this;m=m>>>0,R=R===void 0?this.length:R>>>0,f||(f=0);let J;if(typeof f=="number")for(J=m;J<R;++J)this[J]=f;else{const L=l.isBuffer(f)?f:l.from(f,H),Ee=L.length;if(Ee===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(J=0;J<R-m;++J)this[J+m]=L[J%Ee]}return this};const se={};function he(g,f,m){se[g]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(g,f){return`The "${g}" argument must be of type number. Received type ${typeof f}`},TypeError),he("ERR_OUT_OF_RANGE",function(g,f,m){let R=`The value of "${g}" is out of range.`,H=m;return Number.isInteger(m)&&Math.abs(m)>2**32?H=S(String(m)):typeof m=="bigint"&&(H=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(H=S(H)),H+="n"),R+=` It must be ${f}. Received ${H}`,R},RangeError);function S(g){let f="",m=g.length;const R=g[0]==="-"?1:0;for(;m>=R+4;m-=3)f=`_${g.slice(m-3,m)}${f}`;return`${g.slice(0,m)}${f}`}function B(g,f,m){q(f,"offset"),(g[f]===void 0||g[f+m]===void 0)&&V(f,g.length-(m+1))}function O(g,f,m,R,H,J){if(g>m||g<f){const L=typeof f=="bigint"?"n":"";let Ee;throw J>3?f===0||f===BigInt(0)?Ee=`>= 0${L} and < 2${L} ** ${(J+1)*8}${L}`:Ee=`>= -(2${L} ** ${(J+1)*8-1}${L}) and < 2 ** ${(J+1)*8-1}${L}`:Ee=`>= ${f}${L} and <= ${m}${L}`,new se.ERR_OUT_OF_RANGE("value",Ee,g)}B(R,H,J)}function q(g,f){if(typeof g!="number")throw new se.ERR_INVALID_ARG_TYPE(f,"number",g)}function V(g,f,m){throw Math.floor(g)!==g?(q(g,m),new se.ERR_OUT_OF_RANGE(m||"offset","an integer",g)):f<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${f}`,g)}const K=/[^+/0-9A-Za-z-_]/g;function y(g){if(g=g.split("=")[0],g=g.trim().replace(K,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function u(g,f){f=f||1/0;let m;const R=g.length;let H=null;const J=[];for(let L=0;L<R;++L){if(m=g.charCodeAt(L),m>55295&&m<57344){if(!H){if(m>56319){(f-=3)>-1&&J.push(239,191,189);continue}else if(L+1===R){(f-=3)>-1&&J.push(239,191,189);continue}H=m;continue}if(m<56320){(f-=3)>-1&&J.push(239,191,189),H=m;continue}m=(H-55296<<10|m-56320)+65536}else H&&(f-=3)>-1&&J.push(239,191,189);if(H=null,m<128){if((f-=1)<0)break;J.push(m)}else if(m<2048){if((f-=2)<0)break;J.push(m>>6|192,m&63|128)}else if(m<65536){if((f-=3)<0)break;J.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((f-=4)<0)break;J.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return J}function d(g){const f=[];for(let m=0;m<g.length;++m)f.push(g.charCodeAt(m)&255);return f}function v(g,f){let m,R,H;const J=[];for(let L=0;L<g.length&&!((f-=2)<0);++L)m=g.charCodeAt(L),R=m>>8,H=m%256,J.push(H),J.push(R);return J}function T(g){return t.toByteArray(y(g))}function U(g,f,m,R){let H;for(H=0;H<R&&!(H+m>=f.length||H>=g.length);++H)f[H+m]=g[H];return H}function Q(g,f){return g instanceof f||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===f.name}function ue(g){return g!==g}const ge=function(){const g="0123456789abcdef",f=new Array(256);for(let m=0;m<16;++m){const R=m*16;for(let H=0;H<16;++H)f[R+H]=g[m]+g[H]}return f}();function xe(g){return typeof BigInt>"u"?Te:g}function Te(){throw new Error("BigInt not supported")}})(_y);var dd;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(dd||(dd={}));const Tx="modulepreload",Ax=function(e){return"/"+e},s0={},kx=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Ax(s),s in s0)return;s0[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let w=i.length-1;w>=0;w--){const _=i[w];if(_.href===s&&(!o||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const p=document.createElement("link");if(p.rel=o?"stylesheet":Tx,o||(p.as="script",p.crossOrigin=""),p.href=s,document.head.appendChild(p),o)return new Promise((w,_)=>{p.addEventListener("load",w),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Al="abcdefghijklmnopqrstuvwxyz234567",xs=Object.create(null);for(let e=0;e<Al.length;e++)xs[Al[e]]=e;xs[0]=xs.o;xs[1]=xs.i;function Bx(e){let t=0,n=0,r="";function i(s){return t<0?n|=s>>-t:n=s<<t&248,t>3?(t-=8,1):(t<4&&(r+=Al[n>>3],t+=5),0)}for(let s=0;s<e.length;)s+=i(e[s]);return r+(t<0?Al[n>>3]:"")}function Cx(e){let t=0,n=0;const r=new Uint8Array(e.length*4/3|0);let i=0;function s(o){let l=xs[o.toLowerCase()];if(l===void 0)throw new Error(`Invalid character: ${JSON.stringify(o)}`);l<<=3,n|=l>>>t,t+=5,t>=8&&(r[i++]=n,t-=8,t>0?n=l<<5-t&255:n=0)}for(const o of e)s(o);return r.slice(0,i)}const Rx=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Px(e){const t=new Uint8Array(e);let n=-1;for(let r=0;r<t.length;r++){const s=(t[r]^n)&255;n=Rx[s]^n>>>8}return(n^-1)>>>0}const ki=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ox(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Fx(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function kf(e,...t){if(!Ox(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function a0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ux(e,t){kf(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ta(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Zc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function An(e,t){return e<<32-t|e>>>t}function Ix(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ny(e){return typeof e=="string"&&(e=Ix(e)),kf(e),e}class Mx{}function Bf(e){const t=r=>e().update(Ny(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ey(e=32){if(ki&&typeof ki.getRandomValues=="function")return ki.getRandomValues(new Uint8Array(e));if(ki&&typeof ki.randomBytes=="function")return Uint8Array.from(ki.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function $x(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),l=Number(n&s),c=r?4:0,p=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+p,l,r)}function Vx(e,t,n){return e&t^~e&n}function zx(e,t,n){return e&t^e&n^t&n}class Sy extends Mx{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Zc(this.buffer)}update(t){a0(this),t=Ny(t),kf(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const l=Math.min(i-this.pos,s-o);if(l===i){const c=Zc(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){a0(this),Ux(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Ta(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let _=o;_<i;_++)n[_]=0;$x(r,i-8,BigInt(this.length*8),s),this.process(r,0);const l=Zc(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=c/4,w=this.get();if(p>w.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<p;_++)l.setUint32(4*_,w[_],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:l}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=l,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const hr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pr=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Et=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uo=BigInt(2**32-1),o0=BigInt(32);function qx(e,t=!1){return t?{h:Number(e&uo),l:Number(e>>o0&uo)}:{h:Number(e>>o0&uo)|0,l:Number(e&uo)|0}}function Hx(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l}=qx(e[s],t);[r[s],i[s]]=[o,l]}return[r,i]}const l0=(e,t,n)=>e>>>n,c0=(e,t,n)=>e<<32-n|t>>>n,Bi=(e,t,n)=>e>>>n|t<<32-n,Ci=(e,t,n)=>e<<32-n|t>>>n,fo=(e,t,n)=>e<<64-n|t>>>n-32,ho=(e,t,n)=>e>>>n-32|t<<64-n;function qn(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Gx=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Kx=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Wx=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Yx=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Zx=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Qx=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Xx=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mr=new Uint32Array(64);class jy extends Sy{constructor(t=32){super(64,t,8,!1),this.A=hr[0]|0,this.B=hr[1]|0,this.C=hr[2]|0,this.D=hr[3]|0,this.E=hr[4]|0,this.F=hr[5]|0,this.G=hr[6]|0,this.H=hr[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:l,H:c}=this;return[t,n,r,i,s,o,l,c]}set(t,n,r,i,s,o,l,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=l|0,this.H=c|0}process(t,n){for(let _=0;_<16;_++,n+=4)mr[_]=t.getUint32(n,!1);for(let _=16;_<64;_++){const E=mr[_-15],h=mr[_-2],A=An(E,7)^An(E,18)^E>>>3,C=An(h,17)^An(h,19)^h>>>10;mr[_]=C+mr[_-7]+A+mr[_-16]|0}let{A:r,B:i,C:s,D:o,E:l,F:c,G:p,H:w}=this;for(let _=0;_<64;_++){const E=An(l,6)^An(l,11)^An(l,25),h=w+E+Vx(l,c,p)+Xx[_]+mr[_]|0,C=(An(r,2)^An(r,13)^An(r,22))+zx(r,i,s)|0;w=p,p=c,c=l,l=o+h|0,o=s,s=i,i=r,r=h+C|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,p=p+this.G|0,w=w+this.H|0,this.set(r,i,s,o,l,c,p,w)}roundClean(){Ta(mr)}destroy(){this.set(0,0,0,0,0,0,0,0),Ta(this.buffer)}}class Dx extends jy{constructor(){super(28),this.A=pr[0]|0,this.B=pr[1]|0,this.C=pr[2]|0,this.D=pr[3]|0,this.E=pr[4]|0,this.F=pr[5]|0,this.G=pr[6]|0,this.H=pr[7]|0}}const Ty=(()=>Hx(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Lx=(()=>Ty[0])(),Jx=(()=>Ty[1])(),yr=new Uint32Array(80),gr=new Uint32Array(80);class e2 extends Sy{constructor(t=64){super(128,t,16,!1),this.Ah=Et[0]|0,this.Al=Et[1]|0,this.Bh=Et[2]|0,this.Bl=Et[3]|0,this.Ch=Et[4]|0,this.Cl=Et[5]|0,this.Dh=Et[6]|0,this.Dl=Et[7]|0,this.Eh=Et[8]|0,this.El=Et[9]|0,this.Fh=Et[10]|0,this.Fl=Et[11]|0,this.Gh=Et[12]|0,this.Gl=Et[13]|0,this.Hh=Et[14]|0,this.Hl=Et[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:l,Dl:c,Eh:p,El:w,Fh:_,Fl:E,Gh:h,Gl:A,Hh:C,Hl:Z}=this;return[t,n,r,i,s,o,l,c,p,w,_,E,h,A,C,Z]}set(t,n,r,i,s,o,l,c,p,w,_,E,h,A,C,Z){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=l|0,this.Dl=c|0,this.Eh=p|0,this.El=w|0,this.Fh=_|0,this.Fl=E|0,this.Gh=h|0,this.Gl=A|0,this.Hh=C|0,this.Hl=Z|0}process(t,n){for(let b=0;b<16;b++,n+=4)yr[b]=t.getUint32(n),gr[b]=t.getUint32(n+=4);for(let b=16;b<80;b++){const x=yr[b-15]|0,I=gr[b-15]|0,$=Bi(x,I,1)^Bi(x,I,8)^l0(x,I,7),M=Ci(x,I,1)^Ci(x,I,8)^c0(x,I,7),W=yr[b-2]|0,re=gr[b-2]|0,Y=Bi(W,re,19)^fo(W,re,61)^l0(W,re,6),ae=Ci(W,re,19)^ho(W,re,61)^c0(W,re,6),P=Wx(M,ae,gr[b-7],gr[b-16]),F=Yx(P,$,Y,yr[b-7],yr[b-16]);yr[b]=F|0,gr[b]=P|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:l,Cl:c,Dh:p,Dl:w,Eh:_,El:E,Fh:h,Fl:A,Gh:C,Gl:Z,Hh:k,Hl:j}=this;for(let b=0;b<80;b++){const x=Bi(_,E,14)^Bi(_,E,18)^fo(_,E,41),I=Ci(_,E,14)^Ci(_,E,18)^ho(_,E,41),$=_&h^~_&C,M=E&A^~E&Z,W=Zx(j,I,M,Jx[b],gr[b]),re=Qx(W,k,x,$,Lx[b],yr[b]),Y=W|0,ae=Bi(r,i,28)^fo(r,i,34)^fo(r,i,39),P=Ci(r,i,28)^ho(r,i,34)^ho(r,i,39),F=r&s^r&l^s&l,X=i&o^i&c^o&c;k=C|0,j=Z|0,C=h|0,Z=A|0,h=_|0,A=E|0,{h:_,l:E}=qn(p|0,w|0,re|0,Y|0),p=l|0,w=c|0,l=s|0,c=o|0,s=r|0,o=i|0;const te=Gx(Y,P,X);r=Kx(te,re,ae,F),i=te|0}({h:r,l:i}=qn(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=qn(this.Bh|0,this.Bl|0,s|0,o|0),{h:l,l:c}=qn(this.Ch|0,this.Cl|0,l|0,c|0),{h:p,l:w}=qn(this.Dh|0,this.Dl|0,p|0,w|0),{h:_,l:E}=qn(this.Eh|0,this.El|0,_|0,E|0),{h,l:A}=qn(this.Fh|0,this.Fl|0,h|0,A|0),{h:C,l:Z}=qn(this.Gh|0,this.Gl|0,C|0,Z|0),{h:k,l:j}=qn(this.Hh|0,this.Hl|0,k|0,j|0),this.set(r,i,s,o,l,c,p,w,_,E,h,A,C,Z,k,j)}roundClean(){Ta(yr,gr)}destroy(){Ta(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Cf=Bf(()=>new jy),t2=Bf(()=>new Dx),n2=Bf(()=>new e2),r2=Cf,i2=t2;function s2(e){return i2.create().update(new Uint8Array(e)).digest()}const po="__principal__",a2=2,u0=4,o2="aaaaa-aa",l2=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(n=>parseInt(n,16)))},c2=e=>e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"");let je=class Uo{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([u0]))}static managementCanister(){return this.fromText(o2)}static selfAuthenticating(t){const n=s2(t);return new this(new Uint8Array([...n,a2]))}static from(t){if(typeof t=="string")return Uo.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Uo(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Uo(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(l2(t))}static fromText(t){let n=t;if(t.includes(po)){const o=JSON.parse(t);po in o&&(n=o[po])}const r=n.toLowerCase().replace(/-/g,"");let i=Cx(r);i=i.slice(4,i.length);const s=new this(i);if(s.toText()!==n)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${n}" may not be a valid Principal ID).`);return s}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===u0}toUint8Array(){return this._arr}toHex(){return c2(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,Px(this._arr));const r=new Uint8Array(t),i=Uint8Array.from(this._arr),s=new Uint8Array([...r,...i]),l=Bx(s).match(/.{1,5}/g);if(!l)throw new Error;return l.join("-")}toString(){return this.toText()}toJSON(){return{[po]:this.toText()}}compareTo(t){for(let n=0;n<Math.min(this._arr.length,t._arr.length);n++){if(this._arr[n]<t._arr[n])return"lt";if(this._arr[n]>t._arr[n])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const n=this.compareTo(t);return n=="lt"||n=="eq"}gtEq(t){const n=this.compareTo(t);return n=="gt"||n=="eq"}};function En(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of e)t.set(new Uint8Array(r),n),n+=r.byteLength;return t.buffer}function Ke(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const u2=new RegExp(/^[0-9a-fA-F]+$/);function rr(e){if(!u2.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((n,r,i)=>(n[i/2|0]=(n[i/2|0]||"")+r,n),[]).map(n=>Number.parseInt(n,16));return new Uint8Array(t).buffer}function Ay(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<n.length;i++)if(n[i]!==r[i])return n[i]-r[i];return 0}function Va(e,t){return Ay(e,t)===0}function ia(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Jn(e){return e instanceof Uint8Array?ia(e):e instanceof ArrayBuffer?e:Array.isArray(e)?ia(new Uint8Array(e)):"buffer"in e?Jn(e.buffer):ia(new Uint8Array(e))}class Le extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=Le.prototype,Object.setPrototypeOf(this,Le.prototype)}}function Ue(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.byteLength,0));let n=0;for(const r of e)t.set(new Uint8Array(r),n),n+=r.byteLength;return t}class js{constructor(t,n=(t==null?void 0:t.byteLength)||0){this._buffer=vi(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,n)}save(){return this._view}restore(t){this._view=t}get buffer(){return vi(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const n=this._view.subarray(0,t);return this._view=this._view.subarray(t),n.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const n=new Uint8Array(t),r=this._view.byteLength;this._view.byteOffset+this._view.byteLength+n.byteLength>=this._buffer.byteLength?this.alloc(n.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+n.byteLength),this._view.set(n,r)}get end(){return this._view.byteLength===0}alloc(t){const n=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),r=new Uint8Array(n,0,this._view.byteLength+t);r.set(this._view),this._buffer=n,this._view=r}}function Qc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function vi(e){return e instanceof Uint8Array?Qc(e):e instanceof ArrayBuffer?e:Array.isArray(e)?Qc(new Uint8Array(e)):"buffer"in e?vi(e.buffer):Qc(new Uint8Array(e))}function d2(e){const n=new TextEncoder().encode(e);let r=0;for(const i of n)r=(r*223+i)%2**32;return r}function $n(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return d2(e)}function ky(){throw new Error("unexpected end of buffer")}function xi(e,t){return e.byteLength<t&&ky(),e.read(t)}function _i(e){const t=e.readUint8();return t===void 0&&ky(),t}function Je(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new js(new ArrayBuffer(t),0);for(;;){const r=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){n.write(new Uint8Array([r]));break}else n.write(new Uint8Array([r|128]))}return n.buffer}function ft(e){let t=BigInt(1),n=BigInt(0),r;do r=_i(e),n+=BigInt(r&127).valueOf()*t,t*=BigInt(128);while(r>=128);return n}function ct(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const n=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new js(new ArrayBuffer(n),0);for(;;){const s=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&s&64||!t&&e===BigInt(0)&&!(s&64)){r.write(new Uint8Array([s]));break}else r.write(new Uint8Array([s|128]))}function i(s){const o=s%BigInt(128);return Number(t?BigInt(128)-o-BigInt(1):o)}return r.buffer}function vr(e){const t=new Uint8Array(e.buffer);let n=0;for(;n<t.byteLength;n++)if(t[n]<128){if(!(t[n]&64))return ft(e);break}const r=new Uint8Array(xi(e,n+1));let i=BigInt(0);for(let s=r.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(r[s]&127)-1);return-i-BigInt(1)}function f2(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return By(e,t)}function By(e,t){e=BigInt(e);const n=new js(new ArrayBuffer(Math.min(1,t)),0);let r=0,i=BigInt(256),s=BigInt(0),o=Number(e%i);for(n.write(new Uint8Array([o]));++r<t;)e<0&&s===BigInt(0)&&o!==0&&(s=BigInt(1)),o=Number((e/i-s)%BigInt(256)),n.write(new Uint8Array([o])),i*=BigInt(256);return n.buffer}function Cy(e,t){let n=BigInt(_i(e)),r=BigInt(1),i=0;for(;++i<t;){r*=BigInt(256);const s=BigInt(_i(e));n=n+r*s}return n}function h2(e,t){let n=Cy(e,t);const r=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return n>=r&&(n-=r*BigInt(2)),n}function fd(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const Io="DIDL",d0=400;function Aa(e,t,n){return e.map((r,i)=>n(r,t[i]))}class p2{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,n){const r=this._typs.length;this._idx.set(t.name,r),this._typs.push(n)}merge(t,n){const r=this._idx.get(t.name),i=this._idx.get(n);if(r===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+n);this._typs[r]=this._typs[i],this._typs.splice(i,1),this._idx.delete(n)}encode(){const t=Je(this._typs.length),n=Ue(...this._typs);return Ue(t,n)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return ct(this._idx.get(t)||0)}}class m2{visitType(t,n){throw new Error("Not implemented")}visitPrimitive(t,n){return this.visitType(t,n)}visitEmpty(t,n){return this.visitPrimitive(t,n)}visitBool(t,n){return this.visitPrimitive(t,n)}visitNull(t,n){return this.visitPrimitive(t,n)}visitReserved(t,n){return this.visitPrimitive(t,n)}visitText(t,n){return this.visitPrimitive(t,n)}visitNumber(t,n){return this.visitPrimitive(t,n)}visitInt(t,n){return this.visitNumber(t,n)}visitNat(t,n){return this.visitNumber(t,n)}visitFloat(t,n){return this.visitPrimitive(t,n)}visitFixedInt(t,n){return this.visitNumber(t,n)}visitFixedNat(t,n){return this.visitNumber(t,n)}visitPrincipal(t,n){return this.visitPrimitive(t,n)}visitConstruct(t,n){return this.visitType(t,n)}visitVec(t,n,r){return this.visitConstruct(t,r)}visitOpt(t,n,r){return this.visitConstruct(t,r)}visitRecord(t,n,r){return this.visitConstruct(t,r)}visitTuple(t,n,r){const i=n.map((s,o)=>[`_${o}_`,s]);return this.visitRecord(t,i,r)}visitVariant(t,n,r){return this.visitConstruct(t,r)}visitRec(t,n,r){return this.visitConstruct(n,r)}visitFunc(t,n){return this.visitConstruct(t,n)}visitService(t,n){return this.visitConstruct(t,n)}}class sc{display(){return this.name}valueToString(t){return nt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class dn extends sc{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Xr extends sc{checkType(t){if(t instanceof ur){const n=t.getType();if(typeof n>"u")throw new Error("type mismatch with uninitialized type");return n}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class Ry extends dn{accept(t,n){return t.visitEmpty(this,n)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return ct(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Py extends sc{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,n){throw t.visitType(this,n)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,n){let r=n.decodeValue(t,n);Object(r)!==r&&(r=Object(r));let i;return n instanceof ur?i=()=>n.getType():i=()=>n,Object.defineProperty(r,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),r}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class Oy extends dn{accept(t,n){return t.visitBool(this,n)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return ct(-2)}decodeValue(t,n){switch(this.checkType(n),_i(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class kl extends dn{accept(t,n){return t.visitNull(this,n)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return ct(-1)}decodeValue(t,n){return this.checkType(n),null}get name(){return"null"}}class _s extends dn{accept(t,n){return t.visitReserved(this,n)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return ct(-16)}decodeValue(t,n){return n.name!==this.name&&n.decodeValue(t,n),null}get name(){return"reserved"}}class Fy extends dn{accept(t,n){return t.visitText(this,n)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=new TextEncoder().encode(t),r=Je(n.byteLength);return Ue(r,n)}encodeType(){return ct(-15)}decodeValue(t,n){this.checkType(n);const r=ft(t),i=xi(t,Number(r));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Uy extends dn{accept(t,n){return t.visitInt(this,n)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){return ct(t)}encodeType(){return ct(-4)}decodeValue(t,n){return this.checkType(n),vr(t)}get name(){return"int"}valueToString(t){return t.toString()}}class Iy extends dn{accept(t,n){return t.visitNat(this,n)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){return Je(t)}encodeType(){return ct(-3)}decodeValue(t,n){return this.checkType(n),ft(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class Rf extends dn{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,n){return t.visitFloat(this,n)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=new ArrayBuffer(this._bits/8),r=new DataView(n);return this._bits===32?r.setFloat32(0,t,!0):r.setFloat64(0,t,!0),n}encodeType(){const t=this._bits===32?-13:-14;return ct(t)}decodeValue(t,n){this.checkType(n);const r=xi(t,this._bits/8),i=new DataView(r);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class bi extends dn{constructor(t){super(),this._bits=t}accept(t,n){return t.visitFixedInt(this,n)}covariant(t){const n=fd(this._bits-1)*BigInt(-1),r=fd(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=n&&t<=r;else if(Number.isInteger(t)){const s=BigInt(t);i=s>=n&&s<=r}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){return By(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return ct(-9-t)}decodeValue(t,n){this.checkType(n);const r=h2(t,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class zr extends dn{constructor(t){super(),this._bits=t}accept(t,n){return t.visitFixedNat(this,n)}covariant(t){const n=fd(this._bits);let r=!1;if(typeof t=="bigint"&&t>=BigInt(0)?r=t<n:Number.isInteger(t)&&t>=0?r=BigInt(t)<n:r=!1,r)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){return f2(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return ct(-5-t)}decodeValue(t,n){this.checkType(n);const r=Cy(t,this._bits/8);return this._bits<=32?Number(r):r}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class ac extends Xr{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof zr&&t._bits===8&&(this._blobOptimization=!0)}accept(t,n){return t.visitVec(this,this._type,n)}covariant(t){const n=this._type instanceof zr?this._type._bits:this._type instanceof bi?this._type._bits:0;if(ArrayBuffer.isView(t)&&n==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((r,i)=>{try{return this._type.covariant(r)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=Je(t.length);if(this._blobOptimization)return Ue(n,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ue(n,new Uint8Array(t.buffer));const r=new js(new ArrayBuffer(n.byteLength+t.length),0);r.write(n);for(const i of t){const s=this._type.encodeValue(i);r.write(new Uint8Array(s))}return r.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const n=ct(-19),r=this._type.encodeType(t);t.add(this,Ue(n,r))}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof ac))throw new Error("Not a vector type");const i=Number(ft(t));if(this._type instanceof zr){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof bi){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const s=[];for(let o=0;o<i;o++)s.push(this._type.decodeValue(t,r._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(r=>this._type.valueToString(r)).join("; ")+"}"}}class Ni extends Xr{constructor(t){super(),this._type=t}accept(t,n){return t.visitOpt(this,this._type,n)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(n){throw new Error(`Invalid ${this.display()} argument: ${nt(t)} 

-> ${n.message}`)}throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ue(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const n=ct(-18),r=this._type.encodeType(t);t.add(this,Ue(n,r))}decodeValue(t,n){if(n instanceof kl)return[];if(n instanceof _s)return[];let r=n;if(n instanceof ur){const i=n.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");r=i}if(r instanceof Ni)switch(_i(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,r._type)]}catch{return t.restore(i),r._type.decodeValue(t,r._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof kl||this._type instanceof Ni||this._type instanceof _s)return r.decodeValue(t,r),[];{const i=t.save();try{return[this._type.decodeValue(t,n)]}catch{return t.restore(i),r.decodeValue(t,n),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class za extends Xr{constructor(t={}){super(),this._fields=Object.entries(t).sort((n,r)=>$n(n[0])-$n(r[0]))}accept(t,n){return t.visitRecord(this,this._fields,n)}tryAsTuple(){const t=[];for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(r!==`_${n}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([n,r])=>{if(!t.hasOwnProperty(n))throw new Error(`Record is missing key "${n}".`);try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=this._fields.map(([i])=>t[i]),r=Aa(this._fields,n,([,i],s)=>i.encodeValue(s));return Ue(...r)}_buildTypeTableImpl(t){this._fields.forEach(([s,o])=>o.buildTypeTable(t));const n=ct(-20),r=Je(this._fields.length),i=this._fields.map(([s,o])=>Ue(Je($n(s)),o.encodeType(t)));t.add(this,Ue(n,r,Ue(...i)))}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof za))throw new Error("Not a record type");const i={};let s=0,o=0;for(;o<r._fields.length;){const[l,c]=r._fields[o];if(s>=this._fields.length){c.decodeValue(t,c),o++;continue}const[p,w]=this._fields[s],_=$n(this._fields[s][0]),E=$n(l);if(_===E)i[p]=w.decodeValue(t,c),s++,o++;else if(E>_)if(w instanceof Ni||w instanceof _s)i[p]=[],s++;else throw new Error("Cannot find required field "+p);else c.decodeValue(t,c),o++}for(const[l,c]of this._fields.slice(s))if(c instanceof Ni||c instanceof _s)i[l]=[];else throw new Error("Cannot find required field "+l);return i}get name(){return`record {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`record {${this._fields.map(([n,r])=>n+":"+r.display()).join("; ")}}`}valueToString(t){const n=this._fields.map(([i])=>t[i]);return`record {${Aa(this._fields,n,([i,s],o)=>i+"="+s.valueToString(o)).join("; ")}}`}}class oc extends za{constructor(t){const n={};t.forEach((r,i)=>n["_"+i+"_"]=r),super(n),this._components=t}accept(t,n){return t.visitTuple(this,this._components,n)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((n,r)=>{try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=Aa(this._components,t,(r,i)=>r.encodeValue(i));return Ue(...n)}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof oc))throw new Error("not a tuple type");if(r._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[s,o]of r._components.entries())s>=this._components.length?o.decodeValue(t,o):i.push(this._components[s].decodeValue(t,o));return i}display(){return`record {${this._components.map(n=>n.display()).join("; ")}}`}valueToString(t){return`record {${Aa(this._components,t,(r,i)=>r.valueToString(i)).join("; ")}}`}}class lc extends Xr{constructor(t={}){super(),this._fields=Object.entries(t).sort((n,r)=>$n(n[0])-$n(r[0]))}accept(t,n){return t.visitVariant(this,this._fields,n)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([n,r])=>{try{return!t.hasOwnProperty(n)||r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){for(let n=0;n<this._fields.length;n++){const[r,i]=this._fields[n];if(t.hasOwnProperty(r)){const s=Je(n),o=i.encodeValue(t[r]);return Ue(s,o)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,s])=>{s.buildTypeTable(t)});const n=ct(-21),r=Je(this._fields.length),i=this._fields.map(([s,o])=>Ue(Je($n(s)),o.encodeType(t)));t.add(this,Ue(n,r,...i))}decodeValue(t,n){const r=this.checkType(n);if(!(r instanceof lc))throw new Error("Not a variant type");const i=Number(ft(t));if(i>=r._fields.length)throw Error("Invalid variant index: "+i);const[s,o]=r._fields[i];for(const[l,c]of this._fields)if($n(s)===$n(l)){const p=c.decodeValue(t,o);return{[l]:p}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}display(){return`variant {${this._fields.map(([n,r])=>n+(r.name==="null"?"":`:${r.display()}`)).join("; ")}}`}valueToString(t){for(const[n,r]of this._fields)if(t.hasOwnProperty(n)){const i=r.valueToString(t[n]);return i==="null"?`variant {${n}}`:`variant {${n}=${i}}`}throw new Error("Variant has no data: "+t)}}class ur extends Xr{constructor(){super(...arguments),this._id=ur._counter++,this._type=void 0}accept(t,n){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,n)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,n){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,n)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`μ${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}ur._counter=0;function Pf(e){if(_i(e)!==1)throw new Error("Cannot decode principal");const n=Number(ft(e));return je.fromUint8Array(new Uint8Array(xi(e,n)))}class My extends dn{accept(t,n){return t.visitPrincipal(this,n)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=t.toUint8Array(),r=Je(n.byteLength);return Ue(new Uint8Array([1]),r,n)}encodeType(){return ct(-24)}decodeValue(t,n){return this.checkType(n),Pf(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class Of extends Xr{constructor(t,n,r=[]){super(),this.argTypes=t,this.retTypes=n,this.annotations=r}static argsToString(t,n){if(t.length!==n.length)throw new Error("arity mismatch");return"("+t.map((r,i)=>r.valueToString(n[i])).join(", ")+")"}accept(t,n){return t.visitFunc(this,n)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue([t,n]){const r=t.toUint8Array(),i=Je(r.byteLength),s=Ue(new Uint8Array([1]),i,r),o=new TextEncoder().encode(n),l=Je(o.byteLength);return Ue(new Uint8Array([1]),s,l,o)}_buildTypeTableImpl(t){this.argTypes.forEach(p=>p.buildTypeTable(t)),this.retTypes.forEach(p=>p.buildTypeTable(t));const n=ct(-22),r=Je(this.argTypes.length),i=Ue(...this.argTypes.map(p=>p.encodeType(t))),s=Je(this.retTypes.length),o=Ue(...this.retTypes.map(p=>p.encodeType(t))),l=Je(this.annotations.length),c=Ue(...this.annotations.map(p=>this.encodeAnnotation(p)));t.add(this,Ue(n,r,i,s,o,l,c))}decodeValue(t){if(_i(t)!==1)throw new Error("Cannot decode function reference");const r=Pf(t),i=Number(ft(t)),s=xi(t,i),l=new TextDecoder("utf8",{fatal:!0}).decode(s);return[r,l]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),n=this.retTypes.map(i=>i.name).join(", "),r=" "+this.annotations.join(" ");return`(${t}) -> (${n})${r}`}valueToString([t,n]){return`func "${t.toText()}".${n}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),n=this.retTypes.map(i=>i.display()).join(", "),r=" "+this.annotations.join(" ");return`(${t}) → (${n})${r}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class $y extends Xr{constructor(t){super(),this._fields=Object.entries(t).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0)}accept(t,n){return t.visitService(this,n)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${nt(t)}`)}encodeValue(t){const n=t.toUint8Array(),r=Je(n.length);return Ue(new Uint8Array([1]),r,n)}_buildTypeTableImpl(t){this._fields.forEach(([s,o])=>o.buildTypeTable(t));const n=ct(-23),r=Je(this._fields.length),i=this._fields.map(([s,o])=>{const l=new TextEncoder().encode(s),c=Je(l.length);return Ue(c,l,o.encodeType(t))});t.add(this,Ue(n,r,...i))}decodeValue(t){return Pf(t)}get name(){return`service {${this._fields.map(([n,r])=>n+":"+r.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function nt(e){const t=JSON.stringify(e,(n,r)=>typeof r=="bigint"?`BigInt(${r})`:r);return t&&t.length>d0?t.substring(0,d0-3)+"...":t}function hd(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const n=new p2;e.forEach(c=>c.buildTypeTable(n));const r=new TextEncoder().encode(Io),i=n.encode(),s=Je(t.length),o=Ue(...e.map(c=>c.encodeType(n))),l=Ue(...Aa(e,t,(c,p)=>{try{c.covariant(p)}catch(w){throw new Error(w.message+`

`)}return c.encodeValue(p)}));return Ue(r,i,s,o,l)}function Vy(e,t){const n=new js(t);if(t.byteLength<Io.length)throw new Error("Message length smaller than magic number");const r=xi(n,Io.length),i=new TextDecoder().decode(r);if(i!==Io)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(h){const A=[],C=Number(ft(h));for(let j=0;j<C;j++){const b=Number(vr(h));switch(b){case-18:case-19:{const x=Number(vr(h));A.push([b,x]);break}case-20:case-21:{const x=[];let I=Number(ft(h)),$;for(;I--;){const M=Number(ft(h));if(M>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof $=="number"&&$>=M)throw new Error("field id collision or not sorted");$=M;const W=Number(vr(h));x.push([M,W])}A.push([b,x]);break}case-22:{const x=[];let I=Number(ft(h));for(;I--;)x.push(Number(vr(h)));const $=[];let M=Number(ft(h));for(;M--;)$.push(Number(vr(h)));const W=[];let re=Number(ft(h));for(;re--;)switch(Number(ft(h))){case 1:{W.push("query");break}case 2:{W.push("oneway");break}case 3:{W.push("composite_query");break}default:throw new Error("unknown annotation")}A.push([b,[x,$,W]]);break}case-23:{let x=Number(ft(h));const I=[];for(;x--;){const $=Number(ft(h)),M=new TextDecoder().decode(xi(h,$)),W=vr(h);I.push([M,W])}A.push([b,I]);break}default:throw new Error("Illegal op_code: "+b)}}const Z=[],k=Number(ft(h));for(let j=0;j<k;j++)Z.push(Number(vr(h)));return[A,Z]}const[o,l]=s(n);if(l.length<e.length)throw new Error("Wrong number of return values");const c=o.map(h=>ug());function p(h){if(h<-24)throw new Error("future value not supported");if(h<0)switch(h){case-1:return Gy;case-2:return Hy;case-3:return Yy;case-4:return Wy;case-5:return eg;case-6:return tg;case-7:return ng;case-8:return rg;case-9:return Xy;case-10:return Dy;case-11:return Ly;case-12:return Jy;case-13:return Zy;case-14:return Qy;case-15:return Ky;case-16:return qy;case-17:return zy;case-24:return ig;default:throw new Error("Illegal op_code: "+h)}if(h>=o.length)throw new Error("type index out of range");return c[h]}function w(h){switch(h[0]){case-19:{const A=p(h[1]);return ag(A)}case-18:{const A=p(h[1]);return og(A)}case-20:{const A={};for(const[k,j]of h[1]){const b=`_${k}_`;A[b]=p(j)}const C=lg(A),Z=C.tryAsTuple();return Array.isArray(Z)?sg(...Z):C}case-21:{const A={};for(const[C,Z]of h[1]){const k=`_${C}_`;A[k]=p(Z)}return cg(A)}case-22:{const[A,C,Z]=h[1];return dg(A.map(k=>p(k)),C.map(k=>p(k)),Z)}case-23:{const A={},C=h[1];for(const[Z,k]of C){let j=p(k);if(j instanceof ur&&(j=j.getType()),!(j instanceof Of))throw new Error("Illegal service definition: services can only contain functions");A[Z]=j}return fg(A)}default:throw new Error("Illegal op_code: "+h[0])}}o.forEach((h,A)=>{if(h[0]===-22){const C=w(h);c[A].fill(C)}}),o.forEach((h,A)=>{if(h[0]!==-22){const C=w(h);c[A].fill(C)}});const _=l.map(h=>p(h)),E=e.map((h,A)=>h.decodeValue(n,_[A]));for(let h=e.length;h<_.length;h++)_[h].decodeValue(n,_[h]);if(n.byteLength>0)throw new Error("decode: Left-over bytes");return E}const zy=new Ry,qy=new _s,y2=new Py,Hy=new Oy,Gy=new kl,Ky=new Fy,Wy=new Uy,Yy=new Iy,Zy=new Rf(32),Qy=new Rf(64),Xy=new bi(8),Dy=new bi(16),Ly=new bi(32),Jy=new bi(64),eg=new zr(8),tg=new zr(16),ng=new zr(32),rg=new zr(64),ig=new My;function sg(...e){return new oc(e)}function ag(e){return new ac(e)}function og(e){return new Ni(e)}function lg(e){return new za(e)}function cg(e){return new lc(e)}function ug(){return new ur}function dg(e,t,n=[]){return new Of(e,t,n)}function fg(e){return new $y(e)}const g2=Object.freeze(Object.defineProperty({__proto__:null,Bool:Hy,BoolClass:Oy,ConstructType:Xr,Empty:zy,EmptyClass:Ry,FixedIntClass:bi,FixedNatClass:zr,Float32:Zy,Float64:Qy,FloatClass:Rf,Func:dg,FuncClass:Of,Int:Wy,Int16:Dy,Int32:Ly,Int64:Jy,Int8:Xy,IntClass:Uy,Nat:Yy,Nat16:tg,Nat32:ng,Nat64:rg,Nat8:eg,NatClass:Iy,Null:Gy,NullClass:kl,Opt:og,OptClass:Ni,PrimitiveType:dn,Principal:ig,PrincipalClass:My,Rec:ug,RecClass:ur,Record:lg,RecordClass:za,Reserved:qy,ReservedClass:_s,Service:fg,ServiceClass:$y,Text:Ky,TextClass:Fy,Tuple:sg,TupleClass:oc,Type:sc,Unknown:y2,UnknownClass:Py,Variant:cg,VariantClass:lc,Vec:ag,VecClass:ac,Visitor:m2,decode:Vy,encode:hd},Symbol.toStringTag,{value:"Module"}));var hg={},qa={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Ma,n=$a,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=j,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var y=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(y,u),y.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');var u=new Uint8Array(y);return Object.setPrototypeOf(u,l.prototype),u}function l(y,u,d){if(typeof y=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(y)}return c(y,u,d)}l.poolSize=8192;function c(y,u,d){if(typeof y=="string")return E(y,u);if(ArrayBuffer.isView(y))return A(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(q(y,ArrayBuffer)||y&&q(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(y,SharedArrayBuffer)||y&&q(y.buffer,SharedArrayBuffer)))return C(y,u,d);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var v=y.valueOf&&y.valueOf();if(v!=null&&v!==y)return l.from(v,u,d);var T=Z(y);if(T)return T;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return l.from(y[Symbol.toPrimitive]("string"),u,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}l.from=function(y,u,d){return c(y,u,d)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function p(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function w(y,u,d){return p(y),y<=0?o(y):u!==void 0?typeof d=="string"?o(y).fill(u,d):o(y).fill(u):o(y)}l.alloc=function(y,u,d){return w(y,u,d)};function _(y){return p(y),o(y<0?0:k(y)|0)}l.allocUnsafe=function(y){return _(y)},l.allocUnsafeSlow=function(y){return _(y)};function E(y,u){if((typeof u!="string"||u==="")&&(u="utf8"),!l.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var d=b(y,u)|0,v=o(d),T=v.write(y,u);return T!==d&&(v=v.slice(0,T)),v}function h(y){for(var u=y.length<0?0:k(y.length)|0,d=o(u),v=0;v<u;v+=1)d[v]=y[v]&255;return d}function A(y){if(q(y,Uint8Array)){var u=new Uint8Array(y);return C(u.buffer,u.byteOffset,u.byteLength)}return h(y)}function C(y,u,d){if(u<0||y.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<u+(d||0))throw new RangeError('"length" is outside of buffer bounds');var v;return u===void 0&&d===void 0?v=new Uint8Array(y):d===void 0?v=new Uint8Array(y,u):v=new Uint8Array(y,u,d),Object.setPrototypeOf(v,l.prototype),v}function Z(y){if(l.isBuffer(y)){var u=k(y.length)|0,d=o(u);return d.length===0||y.copy(d,0,0,u),d}if(y.length!==void 0)return typeof y.length!="number"||V(y.length)?o(0):h(y);if(y.type==="Buffer"&&Array.isArray(y.data))return h(y.data)}function k(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return y|0}function j(y){return+y!=y&&(y=0),l.alloc(+y)}l.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==l.prototype},l.compare=function(u,d){if(q(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),q(d,Uint8Array)&&(d=l.from(d,d.offset,d.byteLength)),!l.isBuffer(u)||!l.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===d)return 0;for(var v=u.length,T=d.length,U=0,Q=Math.min(v,T);U<Q;++U)if(u[U]!==d[U]){v=u[U],T=d[U];break}return v<T?-1:T<v?1:0},l.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(u,d){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return l.alloc(0);var v;if(d===void 0)for(d=0,v=0;v<u.length;++v)d+=u[v].length;var T=l.allocUnsafe(d),U=0;for(v=0;v<u.length;++v){var Q=u[v];if(q(Q,Uint8Array))U+Q.length>T.length?l.from(Q).copy(T,U):Uint8Array.prototype.set.call(T,Q,U);else if(l.isBuffer(Q))Q.copy(T,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=Q.length}return T};function b(y,u){if(l.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||q(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var d=y.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&d===0)return 0;for(var T=!1;;)switch(u){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return se(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return B(y).length;default:if(T)return v?-1:se(y).length;u=(""+u).toLowerCase(),T=!0}}l.byteLength=b;function x(y,u,d){var v=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,u>>>=0,d<=u))return"";for(y||(y="utf8");;)switch(y){case"hex":return D(this,u,d);case"utf8":case"utf-8":return X(this,u,d);case"ascii":return ye(this,u,d);case"latin1":case"binary":return G(this,u,d);case"base64":return F(this,u,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,u,d);default:if(v)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),v=!0}}l.prototype._isBuffer=!0;function I(y,u,d){var v=y[u];y[u]=y[d],y[d]=v}l.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<u;d+=2)I(this,d,d+1);return this},l.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<u;d+=4)I(this,d,d+3),I(this,d+1,d+2);return this},l.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<u;d+=8)I(this,d,d+7),I(this,d+1,d+6),I(this,d+2,d+5),I(this,d+3,d+4);return this},l.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?X(this,0,u):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(u){if(!l.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:l.compare(this,u)===0},l.prototype.inspect=function(){var u="",d=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(u+=" ... "),"<Buffer "+u+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(u,d,v,T,U){if(q(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(d===void 0&&(d=0),v===void 0&&(v=u?u.length:0),T===void 0&&(T=0),U===void 0&&(U=this.length),d<0||v>u.length||T<0||U>this.length)throw new RangeError("out of range index");if(T>=U&&d>=v)return 0;if(T>=U)return-1;if(d>=v)return 1;if(d>>>=0,v>>>=0,T>>>=0,U>>>=0,this===u)return 0;for(var Q=U-T,ue=v-d,ge=Math.min(Q,ue),xe=this.slice(T,U),Te=u.slice(d,v),g=0;g<ge;++g)if(xe[g]!==Te[g]){Q=xe[g],ue=Te[g];break}return Q<ue?-1:ue<Q?1:0};function $(y,u,d,v,T){if(y.length===0)return-1;if(typeof d=="string"?(v=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,V(d)&&(d=T?0:y.length-1),d<0&&(d=y.length+d),d>=y.length){if(T)return-1;d=y.length-1}else if(d<0)if(T)d=0;else return-1;if(typeof u=="string"&&(u=l.from(u,v)),l.isBuffer(u))return u.length===0?-1:M(y,u,d,v,T);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(y,u,d):Uint8Array.prototype.lastIndexOf.call(y,u,d):M(y,[u],d,v,T);throw new TypeError("val must be string, number or Buffer")}function M(y,u,d,v,T){var U=1,Q=y.length,ue=u.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(y.length<2||u.length<2)return-1;U=2,Q/=2,ue/=2,d/=2}function ge(m,R){return U===1?m[R]:m.readUInt16BE(R*U)}var xe;if(T){var Te=-1;for(xe=d;xe<Q;xe++)if(ge(y,xe)===ge(u,Te===-1?0:xe-Te)){if(Te===-1&&(Te=xe),xe-Te+1===ue)return Te*U}else Te!==-1&&(xe-=xe-Te),Te=-1}else for(d+ue>Q&&(d=Q-ue),xe=d;xe>=0;xe--){for(var g=!0,f=0;f<ue;f++)if(ge(y,xe+f)!==ge(u,f)){g=!1;break}if(g)return xe}return-1}l.prototype.includes=function(u,d,v){return this.indexOf(u,d,v)!==-1},l.prototype.indexOf=function(u,d,v){return $(this,u,d,v,!0)},l.prototype.lastIndexOf=function(u,d,v){return $(this,u,d,v,!1)};function W(y,u,d,v){d=Number(d)||0;var T=y.length-d;v?(v=Number(v),v>T&&(v=T)):v=T;var U=u.length;v>U/2&&(v=U/2);for(var Q=0;Q<v;++Q){var ue=parseInt(u.substr(Q*2,2),16);if(V(ue))return Q;y[d+Q]=ue}return Q}function re(y,u,d,v){return O(se(u,y.length-d),y,d,v)}function Y(y,u,d,v){return O(he(u),y,d,v)}function ae(y,u,d,v){return O(B(u),y,d,v)}function P(y,u,d,v){return O(S(u,y.length-d),y,d,v)}l.prototype.write=function(u,d,v,T){if(d===void 0)T="utf8",v=this.length,d=0;else if(v===void 0&&typeof d=="string")T=d,v=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(v)?(v=v>>>0,T===void 0&&(T="utf8")):(T=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var U=this.length-d;if((v===void 0||v>U)&&(v=U),u.length>0&&(v<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");for(var Q=!1;;)switch(T){case"hex":return W(this,u,d,v);case"utf8":case"utf-8":return re(this,u,d,v);case"ascii":case"latin1":case"binary":return Y(this,u,d,v);case"base64":return ae(this,u,d,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,u,d,v);default:if(Q)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),Q=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(y,u,d){return u===0&&d===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(u,d))}function X(y,u,d){d=Math.min(y.length,d);for(var v=[],T=u;T<d;){var U=y[T],Q=null,ue=U>239?4:U>223?3:U>191?2:1;if(T+ue<=d){var ge,xe,Te,g;switch(ue){case 1:U<128&&(Q=U);break;case 2:ge=y[T+1],(ge&192)===128&&(g=(U&31)<<6|ge&63,g>127&&(Q=g));break;case 3:ge=y[T+1],xe=y[T+2],(ge&192)===128&&(xe&192)===128&&(g=(U&15)<<12|(ge&63)<<6|xe&63,g>2047&&(g<55296||g>57343)&&(Q=g));break;case 4:ge=y[T+1],xe=y[T+2],Te=y[T+3],(ge&192)===128&&(xe&192)===128&&(Te&192)===128&&(g=(U&15)<<18|(ge&63)<<12|(xe&63)<<6|Te&63,g>65535&&g<1114112&&(Q=g))}}Q===null?(Q=65533,ue=1):Q>65535&&(Q-=65536,v.push(Q>>>10&1023|55296),Q=56320|Q&1023),v.push(Q),T+=ue}return oe(v)}var te=4096;function oe(y){var u=y.length;if(u<=te)return String.fromCharCode.apply(String,y);for(var d="",v=0;v<u;)d+=String.fromCharCode.apply(String,y.slice(v,v+=te));return d}function ye(y,u,d){var v="";d=Math.min(y.length,d);for(var T=u;T<d;++T)v+=String.fromCharCode(y[T]&127);return v}function G(y,u,d){var v="";d=Math.min(y.length,d);for(var T=u;T<d;++T)v+=String.fromCharCode(y[T]);return v}function D(y,u,d){var v=y.length;(!u||u<0)&&(u=0),(!d||d<0||d>v)&&(d=v);for(var T="",U=u;U<d;++U)T+=K[y[U]];return T}function ee(y,u,d){for(var v=y.slice(u,d),T="",U=0;U<v.length-1;U+=2)T+=String.fromCharCode(v[U]+v[U+1]*256);return T}l.prototype.slice=function(u,d){var v=this.length;u=~~u,d=d===void 0?v:~~d,u<0?(u+=v,u<0&&(u=0)):u>v&&(u=v),d<0?(d+=v,d<0&&(d=0)):d>v&&(d=v),d<u&&(d=u);var T=this.subarray(u,d);return Object.setPrototypeOf(T,l.prototype),T};function ne(y,u,d){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+u>d)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(u,d,v){u=u>>>0,d=d>>>0,v||ne(u,d,this.length);for(var T=this[u],U=1,Q=0;++Q<d&&(U*=256);)T+=this[u+Q]*U;return T},l.prototype.readUintBE=l.prototype.readUIntBE=function(u,d,v){u=u>>>0,d=d>>>0,v||ne(u,d,this.length);for(var T=this[u+--d],U=1;d>0&&(U*=256);)T+=this[u+--d]*U;return T},l.prototype.readUint8=l.prototype.readUInt8=function(u,d){return u=u>>>0,d||ne(u,1,this.length),this[u]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(u,d){return u=u>>>0,d||ne(u,2,this.length),this[u]|this[u+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(u,d){return u=u>>>0,d||ne(u,2,this.length),this[u]<<8|this[u+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(u,d){return u=u>>>0,d||ne(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(u,d){return u=u>>>0,d||ne(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},l.prototype.readIntLE=function(u,d,v){u=u>>>0,d=d>>>0,v||ne(u,d,this.length);for(var T=this[u],U=1,Q=0;++Q<d&&(U*=256);)T+=this[u+Q]*U;return U*=128,T>=U&&(T-=Math.pow(2,8*d)),T},l.prototype.readIntBE=function(u,d,v){u=u>>>0,d=d>>>0,v||ne(u,d,this.length);for(var T=d,U=1,Q=this[u+--T];T>0&&(U*=256);)Q+=this[u+--T]*U;return U*=128,Q>=U&&(Q-=Math.pow(2,8*d)),Q},l.prototype.readInt8=function(u,d){return u=u>>>0,d||ne(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},l.prototype.readInt16LE=function(u,d){u=u>>>0,d||ne(u,2,this.length);var v=this[u]|this[u+1]<<8;return v&32768?v|4294901760:v},l.prototype.readInt16BE=function(u,d){u=u>>>0,d||ne(u,2,this.length);var v=this[u+1]|this[u]<<8;return v&32768?v|4294901760:v},l.prototype.readInt32LE=function(u,d){return u=u>>>0,d||ne(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},l.prototype.readInt32BE=function(u,d){return u=u>>>0,d||ne(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},l.prototype.readFloatLE=function(u,d){return u=u>>>0,d||ne(u,4,this.length),n.read(this,u,!0,23,4)},l.prototype.readFloatBE=function(u,d){return u=u>>>0,d||ne(u,4,this.length),n.read(this,u,!1,23,4)},l.prototype.readDoubleLE=function(u,d){return u=u>>>0,d||ne(u,8,this.length),n.read(this,u,!0,52,8)},l.prototype.readDoubleBE=function(u,d){return u=u>>>0,d||ne(u,8,this.length),n.read(this,u,!1,52,8)};function le(y,u,d,v,T,U){if(!l.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>T||u<U)throw new RangeError('"value" argument is out of bounds');if(d+v>y.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(u,d,v,T){if(u=+u,d=d>>>0,v=v>>>0,!T){var U=Math.pow(2,8*v)-1;le(this,u,d,v,U,0)}var Q=1,ue=0;for(this[d]=u&255;++ue<v&&(Q*=256);)this[d+ue]=u/Q&255;return d+v},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(u,d,v,T){if(u=+u,d=d>>>0,v=v>>>0,!T){var U=Math.pow(2,8*v)-1;le(this,u,d,v,U,0)}var Q=v-1,ue=1;for(this[d+Q]=u&255;--Q>=0&&(ue*=256);)this[d+Q]=u/ue&255;return d+v},l.prototype.writeUint8=l.prototype.writeUInt8=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,1,255,0),this[d]=u&255,d+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,65535,0),this[d]=u&255,this[d+1]=u>>>8,d+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,65535,0),this[d]=u>>>8,this[d+1]=u&255,d+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,4294967295,0),this[d+3]=u>>>24,this[d+2]=u>>>16,this[d+1]=u>>>8,this[d]=u&255,d+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,4294967295,0),this[d]=u>>>24,this[d+1]=u>>>16,this[d+2]=u>>>8,this[d+3]=u&255,d+4},l.prototype.writeIntLE=function(u,d,v,T){if(u=+u,d=d>>>0,!T){var U=Math.pow(2,8*v-1);le(this,u,d,v,U-1,-U)}var Q=0,ue=1,ge=0;for(this[d]=u&255;++Q<v&&(ue*=256);)u<0&&ge===0&&this[d+Q-1]!==0&&(ge=1),this[d+Q]=(u/ue>>0)-ge&255;return d+v},l.prototype.writeIntBE=function(u,d,v,T){if(u=+u,d=d>>>0,!T){var U=Math.pow(2,8*v-1);le(this,u,d,v,U-1,-U)}var Q=v-1,ue=1,ge=0;for(this[d+Q]=u&255;--Q>=0&&(ue*=256);)u<0&&ge===0&&this[d+Q+1]!==0&&(ge=1),this[d+Q]=(u/ue>>0)-ge&255;return d+v},l.prototype.writeInt8=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,1,127,-128),u<0&&(u=255+u+1),this[d]=u&255,d+1},l.prototype.writeInt16LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,32767,-32768),this[d]=u&255,this[d+1]=u>>>8,d+2},l.prototype.writeInt16BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,2,32767,-32768),this[d]=u>>>8,this[d+1]=u&255,d+2},l.prototype.writeInt32LE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,2147483647,-2147483648),this[d]=u&255,this[d+1]=u>>>8,this[d+2]=u>>>16,this[d+3]=u>>>24,d+4},l.prototype.writeInt32BE=function(u,d,v){return u=+u,d=d>>>0,v||le(this,u,d,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[d]=u>>>24,this[d+1]=u>>>16,this[d+2]=u>>>8,this[d+3]=u&255,d+4};function ie(y,u,d,v,T,U){if(d+v>y.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function N(y,u,d,v,T){return u=+u,d=d>>>0,T||ie(y,u,d,4),n.write(y,u,d,v,23,4),d+4}l.prototype.writeFloatLE=function(u,d,v){return N(this,u,d,!0,v)},l.prototype.writeFloatBE=function(u,d,v){return N(this,u,d,!1,v)};function ce(y,u,d,v,T){return u=+u,d=d>>>0,T||ie(y,u,d,8),n.write(y,u,d,v,52,8),d+8}l.prototype.writeDoubleLE=function(u,d,v){return ce(this,u,d,!0,v)},l.prototype.writeDoubleBE=function(u,d,v){return ce(this,u,d,!1,v)},l.prototype.copy=function(u,d,v,T){if(!l.isBuffer(u))throw new TypeError("argument should be a Buffer");if(v||(v=0),!T&&T!==0&&(T=this.length),d>=u.length&&(d=u.length),d||(d=0),T>0&&T<v&&(T=v),T===v||u.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),u.length-d<T-v&&(T=u.length-d+v);var U=T-v;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,v,T):Uint8Array.prototype.set.call(u,this.subarray(v,T),d),U},l.prototype.fill=function(u,d,v,T){if(typeof u=="string"){if(typeof d=="string"?(T=d,d=0,v=this.length):typeof v=="string"&&(T=v,v=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!l.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(u.length===1){var U=u.charCodeAt(0);(T==="utf8"&&U<128||T==="latin1")&&(u=U)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(d<0||this.length<d||this.length<v)throw new RangeError("Out of range index");if(v<=d)return this;d=d>>>0,v=v===void 0?this.length:v>>>0,u||(u=0);var Q;if(typeof u=="number")for(Q=d;Q<v;++Q)this[Q]=u;else{var ue=l.isBuffer(u)?u:l.from(u,T),ge=ue.length;if(ge===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(Q=0;Q<v-d;++Q)this[Q+d]=ue[Q%ge]}return this};var de=/[^+/0-9A-Za-z-_]/g;function me(y){if(y=y.split("=")[0],y=y.trim().replace(de,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function se(y,u){u=u||1/0;for(var d,v=y.length,T=null,U=[],Q=0;Q<v;++Q){if(d=y.charCodeAt(Q),d>55295&&d<57344){if(!T){if(d>56319){(u-=3)>-1&&U.push(239,191,189);continue}else if(Q+1===v){(u-=3)>-1&&U.push(239,191,189);continue}T=d;continue}if(d<56320){(u-=3)>-1&&U.push(239,191,189),T=d;continue}d=(T-55296<<10|d-56320)+65536}else T&&(u-=3)>-1&&U.push(239,191,189);if(T=null,d<128){if((u-=1)<0)break;U.push(d)}else if(d<2048){if((u-=2)<0)break;U.push(d>>6|192,d&63|128)}else if(d<65536){if((u-=3)<0)break;U.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((u-=4)<0)break;U.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return U}function he(y){for(var u=[],d=0;d<y.length;++d)u.push(y.charCodeAt(d)&255);return u}function S(y,u){for(var d,v,T,U=[],Q=0;Q<y.length&&!((u-=2)<0);++Q)d=y.charCodeAt(Q),v=d>>8,T=d%256,U.push(T),U.push(v);return U}function B(y){return t.toByteArray(me(y))}function O(y,u,d,v){for(var T=0;T<v&&!(T+d>=u.length||T>=y.length);++T)u[T+d]=y[T];return T}function q(y,u){return y instanceof u||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===u.name}function V(y){return y!==y}var K=function(){for(var y="0123456789abcdef",u=new Array(256),d=0;d<16;++d)for(var v=d*16,T=0;T<16;++T)u[v+T]=y[d]+y[T];return u}()})(qa);var pg={exports:{}};(function(e){(function(t){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",l=o+"Number primitive has more than 15 significant digits: ",c=1e14,p=14,w=9007199254740991,_=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],E=1e7,h=1e9;function A($){var M,W,re,Y=N.prototype={constructor:N,toString:null,valueOf:null},ae=new N(1),P=20,F=4,X=-7,te=21,oe=-1e7,ye=1e7,G=!1,D=1,ee=0,ne={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},le="0123456789abcdefghijklmnopqrstuvwxyz",ie=!0;function N(S,B){var O,q,V,K,y,u,d,v,T=this;if(!(T instanceof N))return new N(S,B);if(B==null){if(S&&S._isBigNumber===!0){T.s=S.s,!S.c||S.e>ye?T.c=T.e=null:S.e<oe?T.c=[T.e=0]:(T.e=S.e,T.c=S.c.slice());return}if((u=typeof S=="number")&&S*0==0){if(T.s=1/S<0?(S=-S,-1):1,S===~~S){for(K=0,y=S;y>=10;y/=10,K++);K>ye?T.c=T.e=null:(T.e=K,T.c=[S]);return}v=String(S)}else{if(!r.test(v=String(S)))return re(T,v,u);T.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(K=v.indexOf("."))>-1&&(v=v.replace(".","")),(y=v.search(/e/i))>0?(K<0&&(K=y),K+=+v.slice(y+1),v=v.substring(0,y)):K<0&&(K=v.length)}else{if(j(B,2,le.length,"Base"),B==10&&ie)return T=new N(S),se(T,P+T.e+1,F);if(v=String(S),u=typeof S=="number"){if(S*0!=0)return re(T,v,u,B);if(T.s=1/S<0?(v=v.slice(1),-1):1,N.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(l+S)}else T.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(O=le.slice(0,B),K=y=0,d=v.length;y<d;y++)if(O.indexOf(q=v.charAt(y))<0){if(q=="."){if(y>K){K=d;continue}}else if(!V&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){V=!0,y=-1,K=0;continue}return re(T,String(S),u,B)}u=!1,v=W(v,B,10,T.s),(K=v.indexOf("."))>-1?v=v.replace(".",""):K=v.length}for(y=0;v.charCodeAt(y)===48;y++);for(d=v.length;v.charCodeAt(--d)===48;);if(v=v.slice(y,++d)){if(d-=y,u&&N.DEBUG&&d>15&&(S>w||S!==s(S)))throw Error(l+T.s*S);if((K=K-y-1)>ye)T.c=T.e=null;else if(K<oe)T.c=[T.e=0];else{if(T.e=K,T.c=[],y=(K+1)%p,K<0&&(y+=p),y<d){for(y&&T.c.push(+v.slice(0,y)),d-=p;y<d;)T.c.push(+v.slice(y,y+=p));y=p-(v=v.slice(y)).length}else y-=d;for(;y--;v+="0");T.c.push(+v)}}else T.c=[T.e=0]}N.clone=A,N.ROUND_UP=0,N.ROUND_DOWN=1,N.ROUND_CEIL=2,N.ROUND_FLOOR=3,N.ROUND_HALF_UP=4,N.ROUND_HALF_DOWN=5,N.ROUND_HALF_EVEN=6,N.ROUND_HALF_CEIL=7,N.ROUND_HALF_FLOOR=8,N.EUCLID=9,N.config=N.set=function(S){var B,O;if(S!=null)if(typeof S=="object"){if(S.hasOwnProperty(B="DECIMAL_PLACES")&&(O=S[B],j(O,0,h,B),P=O),S.hasOwnProperty(B="ROUNDING_MODE")&&(O=S[B],j(O,0,8,B),F=O),S.hasOwnProperty(B="EXPONENTIAL_AT")&&(O=S[B],O&&O.pop?(j(O[0],-h,0,B),j(O[1],0,h,B),X=O[0],te=O[1]):(j(O,-h,h,B),X=-(te=O<0?-O:O))),S.hasOwnProperty(B="RANGE"))if(O=S[B],O&&O.pop)j(O[0],-h,-1,B),j(O[1],1,h,B),oe=O[0],ye=O[1];else if(j(O,-h,h,B),O)oe=-(ye=O<0?-O:O);else throw Error(o+B+" cannot be zero: "+O);if(S.hasOwnProperty(B="CRYPTO"))if(O=S[B],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))G=O;else throw G=!O,Error(o+"crypto unavailable");else G=O;else throw Error(o+B+" not true or false: "+O);if(S.hasOwnProperty(B="MODULO_MODE")&&(O=S[B],j(O,0,9,B),D=O),S.hasOwnProperty(B="POW_PRECISION")&&(O=S[B],j(O,0,h,B),ee=O),S.hasOwnProperty(B="FORMAT"))if(O=S[B],typeof O=="object")ne=O;else throw Error(o+B+" not an object: "+O);if(S.hasOwnProperty(B="ALPHABET"))if(O=S[B],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))ie=O.slice(0,10)=="0123456789",le=O;else throw Error(o+B+" invalid: "+O)}else throw Error(o+"Object expected: "+S);return{DECIMAL_PLACES:P,ROUNDING_MODE:F,EXPONENTIAL_AT:[X,te],RANGE:[oe,ye],CRYPTO:G,MODULO_MODE:D,POW_PRECISION:ee,FORMAT:ne,ALPHABET:le}},N.isBigNumber=function(S){if(!S||S._isBigNumber!==!0)return!1;if(!N.DEBUG)return!0;var B,O,q=S.c,V=S.e,K=S.s;e:if({}.toString.call(q)=="[object Array]"){if((K===1||K===-1)&&V>=-h&&V<=h&&V===s(V)){if(q[0]===0){if(V===0&&q.length===1)return!0;break e}if(B=(V+1)%p,B<1&&(B+=p),String(q[0]).length==B){for(B=0;B<q.length;B++)if(O=q[B],O<0||O>=c||O!==s(O))break e;if(O!==0)return!0}}}else if(q===null&&V===null&&(K===null||K===1||K===-1))return!0;throw Error(o+"Invalid BigNumber: "+S)},N.maximum=N.max=function(){return de(arguments,-1)},N.minimum=N.min=function(){return de(arguments,1)},N.random=function(){var S=9007199254740992,B=Math.random()*S&2097151?function(){return s(Math.random()*S)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var q,V,K,y,u,d=0,v=[],T=new N(ae);if(O==null?O=P:j(O,0,h),y=i(O/p),G)if(crypto.getRandomValues){for(q=crypto.getRandomValues(new Uint32Array(y*=2));d<y;)u=q[d]*131072+(q[d+1]>>>11),u>=9e15?(V=crypto.getRandomValues(new Uint32Array(2)),q[d]=V[0],q[d+1]=V[1]):(v.push(u%1e14),d+=2);d=y/2}else if(crypto.randomBytes){for(q=crypto.randomBytes(y*=7);d<y;)u=(q[d]&31)*281474976710656+q[d+1]*1099511627776+q[d+2]*4294967296+q[d+3]*16777216+(q[d+4]<<16)+(q[d+5]<<8)+q[d+6],u>=9e15?crypto.randomBytes(7).copy(q,d):(v.push(u%1e14),d+=7);d=y/7}else throw G=!1,Error(o+"crypto unavailable");if(!G)for(;d<y;)u=B(),u<9e15&&(v[d++]=u%1e14);for(y=v[--d],O%=p,y&&O&&(u=_[p-O],v[d]=s(y/u)*u);v[d]===0;v.pop(),d--);if(d<0)v=[K=0];else{for(K=-1;v[0]===0;v.splice(0,1),K-=p);for(d=1,u=v[0];u>=10;u/=10,d++);d<p&&(K-=p-d)}return T.e=K,T.c=v,T}}(),N.sum=function(){for(var S=1,B=arguments,O=new N(B[0]);S<B.length;)O=O.plus(B[S++]);return O},W=function(){var S="0123456789";function B(O,q,V,K){for(var y,u=[0],d,v=0,T=O.length;v<T;){for(d=u.length;d--;u[d]*=q);for(u[0]+=K.indexOf(O.charAt(v++)),y=0;y<u.length;y++)u[y]>V-1&&(u[y+1]==null&&(u[y+1]=0),u[y+1]+=u[y]/V|0,u[y]%=V)}return u.reverse()}return function(O,q,V,K,y){var u,d,v,T,U,Q,ue,ge,xe=O.indexOf("."),Te=P,g=F;for(xe>=0&&(T=ee,ee=0,O=O.replace(".",""),ge=new N(q),Q=ge.pow(O.length-xe),ee=T,ge.c=B(I(Z(Q.c),Q.e,"0"),10,V,S),ge.e=ge.c.length),ue=B(O,q,V,y?(u=le,S):(u=S,le)),v=T=ue.length;ue[--T]==0;ue.pop());if(!ue[0])return u.charAt(0);if(xe<0?--v:(Q.c=ue,Q.e=v,Q.s=K,Q=M(Q,ge,Te,g,V),ue=Q.c,U=Q.r,v=Q.e),d=v+Te+1,xe=ue[d],T=V/2,U=U||d<0||ue[d+1]!=null,U=g<4?(xe!=null||U)&&(g==0||g==(Q.s<0?3:2)):xe>T||xe==T&&(g==4||U||g==6&&ue[d-1]&1||g==(Q.s<0?8:7)),d<1||!ue[0])O=U?I(u.charAt(1),-Te,u.charAt(0)):u.charAt(0);else{if(ue.length=d,U)for(--V;++ue[--d]>V;)ue[d]=0,d||(++v,ue=[1].concat(ue));for(T=ue.length;!ue[--T];);for(xe=0,O="";xe<=T;O+=u.charAt(ue[xe++]));O=I(O,v,u.charAt(0))}return O}}(),M=function(){function S(q,V,K){var y,u,d,v,T=0,U=q.length,Q=V%E,ue=V/E|0;for(q=q.slice();U--;)d=q[U]%E,v=q[U]/E|0,y=ue*d+v*Q,u=Q*d+y%E*E+T,T=(u/K|0)+(y/E|0)+ue*v,q[U]=u%K;return T&&(q=[T].concat(q)),q}function B(q,V,K,y){var u,d;if(K!=y)d=K>y?1:-1;else for(u=d=0;u<K;u++)if(q[u]!=V[u]){d=q[u]>V[u]?1:-1;break}return d}function O(q,V,K,y){for(var u=0;K--;)q[K]-=u,u=q[K]<V[K]?1:0,q[K]=u*y+q[K]-V[K];for(;!q[0]&&q.length>1;q.splice(0,1));}return function(q,V,K,y,u){var d,v,T,U,Q,ue,ge,xe,Te,g,f,m,R,H,J,L,Ee,Ae=q.s==V.s?1:-1,Se=q.c,Ne=V.c;if(!Se||!Se[0]||!Ne||!Ne[0])return new N(!q.s||!V.s||(Se?Ne&&Se[0]==Ne[0]:!Ne)?NaN:Se&&Se[0]==0||!Ne?Ae*0:Ae/0);for(xe=new N(Ae),Te=xe.c=[],v=q.e-V.e,Ae=K+v+1,u||(u=c,v=C(q.e/p)-C(V.e/p),Ae=Ae/p|0),T=0;Ne[T]==(Se[T]||0);T++);if(Ne[T]>(Se[T]||0)&&v--,Ae<0)Te.push(1),U=!0;else{for(H=Se.length,L=Ne.length,T=0,Ae+=2,Q=s(u/(Ne[0]+1)),Q>1&&(Ne=S(Ne,Q,u),Se=S(Se,Q,u),L=Ne.length,H=Se.length),R=L,g=Se.slice(0,L),f=g.length;f<L;g[f++]=0);Ee=Ne.slice(),Ee=[0].concat(Ee),J=Ne[0],Ne[1]>=u/2&&J++;do{if(Q=0,d=B(Ne,g,L,f),d<0){if(m=g[0],L!=f&&(m=m*u+(g[1]||0)),Q=s(m/J),Q>1)for(Q>=u&&(Q=u-1),ue=S(Ne,Q,u),ge=ue.length,f=g.length;B(ue,g,ge,f)==1;)Q--,O(ue,L<ge?Ee:Ne,ge,u),ge=ue.length,d=1;else Q==0&&(d=Q=1),ue=Ne.slice(),ge=ue.length;if(ge<f&&(ue=[0].concat(ue)),O(g,ue,f,u),f=g.length,d==-1)for(;B(Ne,g,L,f)<1;)Q++,O(g,L<f?Ee:Ne,f,u),f=g.length}else d===0&&(Q++,g=[0]);Te[T++]=Q,g[0]?g[f++]=Se[R]||0:(g=[Se[R]],f=1)}while((R++<H||g[0]!=null)&&Ae--);U=g[0]!=null,Te[0]||Te.splice(0,1)}if(u==c){for(T=1,Ae=Te[0];Ae>=10;Ae/=10,T++);se(xe,K+(xe.e=T+v*p-1)+1,y,U)}else xe.e=v,xe.r=+U;return xe}}();function ce(S,B,O,q){var V,K,y,u,d;if(O==null?O=F:j(O,0,8),!S.c)return S.toString();if(V=S.c[0],y=S.e,B==null)d=Z(S.c),d=q==1||q==2&&(y<=X||y>=te)?x(d,y):I(d,y,"0");else if(S=se(new N(S),B,O),K=S.e,d=Z(S.c),u=d.length,q==1||q==2&&(B<=K||K<=X)){for(;u<B;d+="0",u++);d=x(d,K)}else if(B-=y,d=I(d,K,"0"),K+1>u){if(--B>0)for(d+=".";B--;d+="0");}else if(B+=K-u,B>0)for(K+1==u&&(d+=".");B--;d+="0");return S.s<0&&V?"-"+d:d}function de(S,B){for(var O,q,V=1,K=new N(S[0]);V<S.length;V++)q=new N(S[V]),(!q.s||(O=k(K,q))===B||O===0&&K.s===B)&&(K=q);return K}function me(S,B,O){for(var q=1,V=B.length;!B[--V];B.pop());for(V=B[0];V>=10;V/=10,q++);return(O=q+O*p-1)>ye?S.c=S.e=null:O<oe?S.c=[S.e=0]:(S.e=O,S.c=B),S}re=function(){var S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,O=/^\.([^.]+)$/,q=/^-?(Infinity|NaN)$/,V=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(K,y,u,d){var v,T=u?y:y.replace(V,"");if(q.test(T))K.s=isNaN(T)?null:T<0?-1:1;else{if(!u&&(T=T.replace(S,function(U,Q,ue){return v=(ue=ue.toLowerCase())=="x"?16:ue=="b"?2:8,!d||d==v?Q:U}),d&&(v=d,T=T.replace(B,"$1").replace(O,"0.$1")),y!=T))return new N(T,v);if(N.DEBUG)throw Error(o+"Not a"+(d?" base "+d:"")+" number: "+y);K.s=null}K.c=K.e=null}}();function se(S,B,O,q){var V,K,y,u,d,v,T,U=S.c,Q=_;if(U){e:{for(V=1,u=U[0];u>=10;u/=10,V++);if(K=B-V,K<0)K+=p,y=B,d=U[v=0],T=s(d/Q[V-y-1]%10);else if(v=i((K+1)/p),v>=U.length)if(q){for(;U.length<=v;U.push(0));d=T=0,V=1,K%=p,y=K-p+1}else break e;else{for(d=u=U[v],V=1;u>=10;u/=10,V++);K%=p,y=K-p+V,T=y<0?0:s(d/Q[V-y-1]%10)}if(q=q||B<0||U[v+1]!=null||(y<0?d:d%Q[V-y-1]),q=O<4?(T||q)&&(O==0||O==(S.s<0?3:2)):T>5||T==5&&(O==4||q||O==6&&(K>0?y>0?d/Q[V-y]:0:U[v-1])%10&1||O==(S.s<0?8:7)),B<1||!U[0])return U.length=0,q?(B-=S.e+1,U[0]=Q[(p-B%p)%p],S.e=-B||0):U[0]=S.e=0,S;if(K==0?(U.length=v,u=1,v--):(U.length=v+1,u=Q[p-K],U[v]=y>0?s(d/Q[V-y]%Q[y])*u:0),q)for(;;)if(v==0){for(K=1,y=U[0];y>=10;y/=10,K++);for(y=U[0]+=u,u=1;y>=10;y/=10,u++);K!=u&&(S.e++,U[0]==c&&(U[0]=1));break}else{if(U[v]+=u,U[v]!=c)break;U[v--]=0,u=1}for(K=U.length;U[--K]===0;U.pop());}S.e>ye?S.c=S.e=null:S.e<oe&&(S.c=[S.e=0])}return S}function he(S){var B,O=S.e;return O===null?S.toString():(B=Z(S.c),B=O<=X||O>=te?x(B,O):I(B,O,"0"),S.s<0?"-"+B:B)}return Y.absoluteValue=Y.abs=function(){var S=new N(this);return S.s<0&&(S.s=1),S},Y.comparedTo=function(S,B){return k(this,new N(S,B))},Y.decimalPlaces=Y.dp=function(S,B){var O,q,V,K=this;if(S!=null)return j(S,0,h),B==null?B=F:j(B,0,8),se(new N(K),S+K.e+1,B);if(!(O=K.c))return null;if(q=((V=O.length-1)-C(this.e/p))*p,V=O[V])for(;V%10==0;V/=10,q--);return q<0&&(q=0),q},Y.dividedBy=Y.div=function(S,B){return M(this,new N(S,B),P,F)},Y.dividedToIntegerBy=Y.idiv=function(S,B){return M(this,new N(S,B),0,1)},Y.exponentiatedBy=Y.pow=function(S,B){var O,q,V,K,y,u,d,v,T,U=this;if(S=new N(S),S.c&&!S.isInteger())throw Error(o+"Exponent not an integer: "+he(S));if(B!=null&&(B=new N(B)),u=S.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!S.c||!S.c[0])return T=new N(Math.pow(+he(U),u?S.s*(2-b(S)):+he(S))),B?T.mod(B):T;if(d=S.s<0,B){if(B.c?!B.c[0]:!B.s)return new N(NaN);q=!d&&U.isInteger()&&B.isInteger(),q&&(U=U.mod(B))}else{if(S.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||u&&U.c[1]>=24e7:U.c[0]<8e13||u&&U.c[0]<=9999975e7)))return K=U.s<0&&b(S)?-0:0,U.e>-1&&(K=1/K),new N(d?1/K:K);ee&&(K=i(ee/p+2))}for(u?(O=new N(.5),d&&(S.s=1),v=b(S)):(V=Math.abs(+he(S)),v=V%2),T=new N(ae);;){if(v){if(T=T.times(U),!T.c)break;K?T.c.length>K&&(T.c.length=K):q&&(T=T.mod(B))}if(V){if(V=s(V/2),V===0)break;v=V%2}else if(S=S.times(O),se(S,S.e+1,1),S.e>14)v=b(S);else{if(V=+he(S),V===0)break;v=V%2}U=U.times(U),K?U.c&&U.c.length>K&&(U.c.length=K):q&&(U=U.mod(B))}return q?T:(d&&(T=ae.div(T)),B?T.mod(B):K?se(T,ee,F,y):T)},Y.integerValue=function(S){var B=new N(this);return S==null?S=F:j(S,0,8),se(B,B.e+1,S)},Y.isEqualTo=Y.eq=function(S,B){return k(this,new N(S,B))===0},Y.isFinite=function(){return!!this.c},Y.isGreaterThan=Y.gt=function(S,B){return k(this,new N(S,B))>0},Y.isGreaterThanOrEqualTo=Y.gte=function(S,B){return(B=k(this,new N(S,B)))===1||B===0},Y.isInteger=function(){return!!this.c&&C(this.e/p)>this.c.length-2},Y.isLessThan=Y.lt=function(S,B){return k(this,new N(S,B))<0},Y.isLessThanOrEqualTo=Y.lte=function(S,B){return(B=k(this,new N(S,B)))===-1||B===0},Y.isNaN=function(){return!this.s},Y.isNegative=function(){return this.s<0},Y.isPositive=function(){return this.s>0},Y.isZero=function(){return!!this.c&&this.c[0]==0},Y.minus=function(S,B){var O,q,V,K,y=this,u=y.s;if(S=new N(S,B),B=S.s,!u||!B)return new N(NaN);if(u!=B)return S.s=-B,y.plus(S);var d=y.e/p,v=S.e/p,T=y.c,U=S.c;if(!d||!v){if(!T||!U)return T?(S.s=-B,S):new N(U?y:NaN);if(!T[0]||!U[0])return U[0]?(S.s=-B,S):new N(T[0]?y:F==3?-0:0)}if(d=C(d),v=C(v),T=T.slice(),u=d-v){for((K=u<0)?(u=-u,V=T):(v=d,V=U),V.reverse(),B=u;B--;V.push(0));V.reverse()}else for(q=(K=(u=T.length)<(B=U.length))?u:B,u=B=0;B<q;B++)if(T[B]!=U[B]){K=T[B]<U[B];break}if(K&&(V=T,T=U,U=V,S.s=-S.s),B=(q=U.length)-(O=T.length),B>0)for(;B--;T[O++]=0);for(B=c-1;q>u;){if(T[--q]<U[q]){for(O=q;O&&!T[--O];T[O]=B);--T[O],T[q]+=c}T[q]-=U[q]}for(;T[0]==0;T.splice(0,1),--v);return T[0]?me(S,T,v):(S.s=F==3?-1:1,S.c=[S.e=0],S)},Y.modulo=Y.mod=function(S,B){var O,q,V=this;return S=new N(S,B),!V.c||!S.s||S.c&&!S.c[0]?new N(NaN):!S.c||V.c&&!V.c[0]?new N(V):(D==9?(q=S.s,S.s=1,O=M(V,S,0,3),S.s=q,O.s*=q):O=M(V,S,0,D),S=V.minus(O.times(S)),!S.c[0]&&D==1&&(S.s=V.s),S)},Y.multipliedBy=Y.times=function(S,B){var O,q,V,K,y,u,d,v,T,U,Q,ue,ge,xe,Te,g=this,f=g.c,m=(S=new N(S,B)).c;if(!f||!m||!f[0]||!m[0])return!g.s||!S.s||f&&!f[0]&&!m||m&&!m[0]&&!f?S.c=S.e=S.s=null:(S.s*=g.s,!f||!m?S.c=S.e=null:(S.c=[0],S.e=0)),S;for(q=C(g.e/p)+C(S.e/p),S.s*=g.s,d=f.length,U=m.length,d<U&&(ge=f,f=m,m=ge,V=d,d=U,U=V),V=d+U,ge=[];V--;ge.push(0));for(xe=c,Te=E,V=U;--V>=0;){for(O=0,Q=m[V]%Te,ue=m[V]/Te|0,y=d,K=V+y;K>V;)v=f[--y]%Te,T=f[y]/Te|0,u=ue*v+T*Q,v=Q*v+u%Te*Te+ge[K]+O,O=(v/xe|0)+(u/Te|0)+ue*T,ge[K--]=v%xe;ge[K]=O}return O?++q:ge.splice(0,1),me(S,ge,q)},Y.negated=function(){var S=new N(this);return S.s=-S.s||null,S},Y.plus=function(S,B){var O,q=this,V=q.s;if(S=new N(S,B),B=S.s,!V||!B)return new N(NaN);if(V!=B)return S.s=-B,q.minus(S);var K=q.e/p,y=S.e/p,u=q.c,d=S.c;if(!K||!y){if(!u||!d)return new N(V/0);if(!u[0]||!d[0])return d[0]?S:new N(u[0]?q:V*0)}if(K=C(K),y=C(y),u=u.slice(),V=K-y){for(V>0?(y=K,O=d):(V=-V,O=u),O.reverse();V--;O.push(0));O.reverse()}for(V=u.length,B=d.length,V-B<0&&(O=d,d=u,u=O,B=V),V=0;B;)V=(u[--B]=u[B]+d[B]+V)/c|0,u[B]=c===u[B]?0:u[B]%c;return V&&(u=[V].concat(u),++y),me(S,u,y)},Y.precision=Y.sd=function(S,B){var O,q,V,K=this;if(S!=null&&S!==!!S)return j(S,1,h),B==null?B=F:j(B,0,8),se(new N(K),S,B);if(!(O=K.c))return null;if(V=O.length-1,q=V*p+1,V=O[V]){for(;V%10==0;V/=10,q--);for(V=O[0];V>=10;V/=10,q++);}return S&&K.e+1>q&&(q=K.e+1),q},Y.shiftedBy=function(S){return j(S,-w,w),this.times("1e"+S)},Y.squareRoot=Y.sqrt=function(){var S,B,O,q,V,K=this,y=K.c,u=K.s,d=K.e,v=P+4,T=new N("0.5");if(u!==1||!y||!y[0])return new N(!u||u<0&&(!y||y[0])?NaN:y?K:1/0);if(u=Math.sqrt(+he(K)),u==0||u==1/0?(B=Z(y),(B.length+d)%2==0&&(B+="0"),u=Math.sqrt(+B),d=C((d+1)/2)-(d<0||d%2),u==1/0?B="5e"+d:(B=u.toExponential(),B=B.slice(0,B.indexOf("e")+1)+d),O=new N(B)):O=new N(u+""),O.c[0]){for(d=O.e,u=d+v,u<3&&(u=0);;)if(V=O,O=T.times(V.plus(M(K,V,v,1))),Z(V.c).slice(0,u)===(B=Z(O.c)).slice(0,u))if(O.e<d&&--u,B=B.slice(u-3,u+1),B=="9999"||!q&&B=="4999"){if(!q&&(se(V,V.e+P+2,0),V.times(V).eq(K))){O=V;break}v+=4,u+=4,q=1}else{(!+B||!+B.slice(1)&&B.charAt(0)=="5")&&(se(O,O.e+P+2,1),S=!O.times(O).eq(K));break}}return se(O,O.e+P+1,F,S)},Y.toExponential=function(S,B){return S!=null&&(j(S,0,h),S++),ce(this,S,B,1)},Y.toFixed=function(S,B){return S!=null&&(j(S,0,h),S=S+this.e+1),ce(this,S,B)},Y.toFormat=function(S,B,O){var q,V=this;if(O==null)S!=null&&B&&typeof B=="object"?(O=B,B=null):S&&typeof S=="object"?(O=S,S=B=null):O=ne;else if(typeof O!="object")throw Error(o+"Argument not an object: "+O);if(q=V.toFixed(S,B),V.c){var K,y=q.split("."),u=+O.groupSize,d=+O.secondaryGroupSize,v=O.groupSeparator||"",T=y[0],U=y[1],Q=V.s<0,ue=Q?T.slice(1):T,ge=ue.length;if(d&&(K=u,u=d,d=K,ge-=K),u>0&&ge>0){for(K=ge%u||u,T=ue.substr(0,K);K<ge;K+=u)T+=v+ue.substr(K,u);d>0&&(T+=v+ue.slice(K)),Q&&(T="-"+T)}q=U?T+(O.decimalSeparator||"")+((d=+O.fractionGroupSize)?U.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):U):T}return(O.prefix||"")+q+(O.suffix||"")},Y.toFraction=function(S){var B,O,q,V,K,y,u,d,v,T,U,Q,ue=this,ge=ue.c;if(S!=null&&(u=new N(S),!u.isInteger()&&(u.c||u.s!==1)||u.lt(ae)))throw Error(o+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+he(u));if(!ge)return new N(ue);for(B=new N(ae),v=O=new N(ae),q=d=new N(ae),Q=Z(ge),K=B.e=Q.length-ue.e-1,B.c[0]=_[(y=K%p)<0?p+y:y],S=!S||u.comparedTo(B)>0?K>0?B:v:u,y=ye,ye=1/0,u=new N(Q),d.c[0]=0;T=M(u,B,0,1),V=O.plus(T.times(q)),V.comparedTo(S)!=1;)O=q,q=V,v=d.plus(T.times(V=v)),d=V,B=u.minus(T.times(V=B)),u=V;return V=M(S.minus(O),q,0,1),d=d.plus(V.times(v)),O=O.plus(V.times(q)),d.s=v.s=ue.s,K=K*2,U=M(v,q,K,F).minus(ue).abs().comparedTo(M(d,O,K,F).minus(ue).abs())<1?[v,q]:[d,O],ye=y,U},Y.toNumber=function(){return+he(this)},Y.toPrecision=function(S,B){return S!=null&&j(S,1,h),ce(this,S,B,2)},Y.toString=function(S){var B,O=this,q=O.s,V=O.e;return V===null?q?(B="Infinity",q<0&&(B="-"+B)):B="NaN":(S==null?B=V<=X||V>=te?x(Z(O.c),V):I(Z(O.c),V,"0"):S===10&&ie?(O=se(new N(O),P+V+1,F),B=I(Z(O.c),O.e,"0")):(j(S,2,le.length,"Base"),B=W(I(Z(O.c),V,"0"),10,S,q,!0)),q<0&&O.c[0]&&(B="-"+B)),B},Y.valueOf=Y.toJSON=function(){return he(this)},Y._isBigNumber=!0,$!=null&&N.set($),N}function C($){var M=$|0;return $>0||$===M?M:M-1}function Z($){for(var M,W,re=1,Y=$.length,ae=$[0]+"";re<Y;){for(M=$[re++]+"",W=p-M.length;W--;M="0"+M);ae+=M}for(Y=ae.length;ae.charCodeAt(--Y)===48;);return ae.slice(0,Y+1||1)}function k($,M){var W,re,Y=$.c,ae=M.c,P=$.s,F=M.s,X=$.e,te=M.e;if(!P||!F)return null;if(W=Y&&!Y[0],re=ae&&!ae[0],W||re)return W?re?0:-F:P;if(P!=F)return P;if(W=P<0,re=X==te,!Y||!ae)return re?0:!Y^W?1:-1;if(!re)return X>te^W?1:-1;for(F=(X=Y.length)<(te=ae.length)?X:te,P=0;P<F;P++)if(Y[P]!=ae[P])return Y[P]>ae[P]^W?1:-1;return X==te?0:X>te^W?1:-1}function j($,M,W,re){if($<M||$>W||$!==s($))throw Error(o+(re||"Argument")+(typeof $=="number"?$<M||$>W?" out of range: ":" not an integer: ":" not a primitive number: ")+String($))}function b($){var M=$.c.length-1;return C($.e/p)==M&&$.c[M]%2!=0}function x($,M){return($.length>1?$.charAt(0)+"."+$.slice(1):$)+(M<0?"e":"e+")+M}function I($,M,W){var re,Y;if(M<0){for(Y=W+".";++M;Y+=W);$=Y+$}else if(re=$.length,++M>re){for(Y=W,M-=re;--M;Y+=W);$+=Y}else M<re&&($=$.slice(0,M)+"."+$.slice(M));return $}n=A(),n.default=n.BigNumber=n,e.exports?e.exports=n:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=n)})(fs)})(pg);var cc=pg.exports,w2=function(t,n,r){var i=new t.Uint8Array(r),s=n.pushInt,o=n.pushInt32,l=n.pushInt32Neg,c=n.pushInt64,p=n.pushInt64Neg,w=n.pushFloat,_=n.pushFloatSingle,E=n.pushFloatDouble,h=n.pushTrue,A=n.pushFalse,C=n.pushUndefined,Z=n.pushNull,k=n.pushInfinity,j=n.pushInfinityNeg,b=n.pushNaN,x=n.pushNaNNeg,I=n.pushArrayStart,$=n.pushArrayStartFixed,M=n.pushArrayStartFixed32,W=n.pushArrayStartFixed64,re=n.pushObjectStart,Y=n.pushObjectStartFixed,ae=n.pushObjectStartFixed32,P=n.pushObjectStartFixed64,F=n.pushByteString,X=n.pushByteStringStart,te=n.pushUtf8String,oe=n.pushUtf8StringStart,ye=n.pushSimpleUnassigned,G=n.pushTagStart,D=n.pushTagStart4,ee=n.pushTagStart8,ne=n.pushTagUnassigned,le=n.pushBreak,ie=t.Math.pow,N=0,ce=0,de=0;function me(z){for(z=z|0,N=0,ce=z;(N|0)<(ce|0)&&(de=H1[i[N]&255](i[N]|0)|0,!((de|0)>0)););return de|0}function se(z){return z=z|0,((N|0)+(z|0)|0)<(ce|0)?0:1}function he(z){return z=z|0,i[z|0]<<8|i[z+1|0]|0}function S(z){return z=z|0,i[z|0]<<24|i[z+1|0]<<16|i[z+2|0]<<8|i[z+3|0]|0}function B(z){return z=z|0,s(z|0),N=N+1|0,0}function O(z){return z=z|0,se(1)|0?1:(s(i[N+1|0]|0),N=N+2|0,0)}function q(z){return z=z|0,se(2)|0?1:(s(he(N+1|0)|0),N=N+3|0,0)}function V(z){return z=z|0,se(4)|0?1:(o(he(N+1|0)|0,he(N+3|0)|0),N=N+5|0,0)}function K(z){return z=z|0,se(8)|0?1:(c(he(N+1|0)|0,he(N+3|0)|0,he(N+5|0)|0,he(N+7|0)|0),N=N+9|0,0)}function y(z){return z=z|0,s(-1-(z-32|0)|0),N=N+1|0,0}function u(z){return z=z|0,se(1)|0?1:(s(-1-(i[N+1|0]|0)|0),N=N+2|0,0)}function d(z){z=z|0;var Re=0;return se(2)|0?1:(Re=he(N+1|0)|0,s(-1-(Re|0)|0),N=N+3|0,0)}function v(z){return z=z|0,se(4)|0?1:(l(he(N+1|0)|0,he(N+3|0)|0),N=N+5|0,0)}function T(z){return z=z|0,se(8)|0?1:(p(he(N+1|0)|0,he(N+3|0)|0,he(N+5|0)|0,he(N+7|0)|0),N=N+9|0,0)}function U(z){z=z|0;var Re=0,Pe=0,Be=0;return Be=z-64|0,se(Be|0)|0?1:(Re=N+1|0,Pe=(N+1|0)+(Be|0)|0,F(Re|0,Pe|0),N=Pe|0,0)}function Q(z){z=z|0;var Re=0,Pe=0,Be=0;return se(1)|0||(Be=i[N+1|0]|0,Re=N+2|0,Pe=(N+2|0)+(Be|0)|0,se(Be+1|0)|0)?1:(F(Re|0,Pe|0),N=Pe|0,0)}function ue(z){z=z|0;var Re=0,Pe=0,Be=0;return se(2)|0||(Be=he(N+1|0)|0,Re=N+3|0,Pe=(N+3|0)+(Be|0)|0,se(Be+2|0)|0)?1:(F(Re|0,Pe|0),N=Pe|0,0)}function ge(z){z=z|0;var Re=0,Pe=0,Be=0;return se(4)|0||(Be=S(N+1|0)|0,Re=N+5|0,Pe=(N+5|0)+(Be|0)|0,se(Be+4|0)|0)?1:(F(Re|0,Pe|0),N=Pe|0,0)}function xe(z){return z=z|0,1}function Te(z){return z=z|0,X(),N=N+1|0,0}function g(z){z=z|0;var Re=0,Pe=0,Be=0;return Be=z-96|0,se(Be|0)|0?1:(Re=N+1|0,Pe=(N+1|0)+(Be|0)|0,te(Re|0,Pe|0),N=Pe|0,0)}function f(z){z=z|0;var Re=0,Pe=0,Be=0;return se(1)|0||(Be=i[N+1|0]|0,Re=N+2|0,Pe=(N+2|0)+(Be|0)|0,se(Be+1|0)|0)?1:(te(Re|0,Pe|0),N=Pe|0,0)}function m(z){z=z|0;var Re=0,Pe=0,Be=0;return se(2)|0||(Be=he(N+1|0)|0,Re=N+3|0,Pe=(N+3|0)+(Be|0)|0,se(Be+2|0)|0)?1:(te(Re|0,Pe|0),N=Pe|0,0)}function R(z){z=z|0;var Re=0,Pe=0,Be=0;return se(4)|0||(Be=S(N+1|0)|0,Re=N+5|0,Pe=(N+5|0)+(Be|0)|0,se(Be+4|0)|0)?1:(te(Re|0,Pe|0),N=Pe|0,0)}function H(z){return z=z|0,1}function J(z){return z=z|0,oe(),N=N+1|0,0}function L(z){return z=z|0,$(z-128|0),N=N+1|0,0}function Ee(z){return z=z|0,se(1)|0?1:($(i[N+1|0]|0),N=N+2|0,0)}function Ae(z){return z=z|0,se(2)|0?1:($(he(N+1|0)|0),N=N+3|0,0)}function Se(z){return z=z|0,se(4)|0?1:(M(he(N+1|0)|0,he(N+3|0)|0),N=N+5|0,0)}function Ne(z){return z=z|0,se(8)|0?1:(W(he(N+1|0)|0,he(N+3|0)|0,he(N+5|0)|0,he(N+7|0)|0),N=N+9|0,0)}function Fe(z){return z=z|0,I(),N=N+1|0,0}function ze(z){z=z|0;var Re=0;return Re=z-160|0,se(Re|0)|0?1:(Y(Re|0),N=N+1|0,0)}function yc(z){return z=z|0,se(1)|0?1:(Y(i[N+1|0]|0),N=N+2|0,0)}function gc(z){return z=z|0,se(2)|0?1:(Y(he(N+1|0)|0),N=N+3|0,0)}function wc(z){return z=z|0,se(4)|0?1:(ae(he(N+1|0)|0,he(N+3|0)|0),N=N+5|0,0)}function vc(z){return z=z|0,se(8)|0?1:(P(he(N+1|0)|0,he(N+3|0)|0,he(N+5|0)|0,he(N+7|0)|0),N=N+9|0,0)}function xc(z){return z=z|0,re(),N=N+1|0,0}function dr(z){return z=z|0,G(z-192|0|0),N=N+1|0,0}function rE(z){return z=z|0,G(z|0),N=N+1|0,0}function iE(z){return z=z|0,G(z|0),N=N+1|0,0}function sE(z){return z=z|0,G(z|0),N=N+1|0,0}function aE(z){return z=z|0,G(z|0),N=N+1|0,0}function dt(z){return z=z|0,G(z-192|0|0),N=N+1|0,0}function oE(z){return z=z|0,G(z|0),N=N+1|0,0}function lE(z){return z=z|0,G(z|0),N=N+1|0,0}function cE(z){return z=z|0,G(z|0),N=N+1|0,0}function B1(z){return z=z|0,se(1)|0?1:(G(i[N+1|0]|0),N=N+2|0,0)}function C1(z){return z=z|0,se(2)|0?1:(G(he(N+1|0)|0),N=N+3|0,0)}function R1(z){return z=z|0,se(4)|0?1:(D(he(N+1|0)|0,he(N+3|0)|0),N=N+5|0,0)}function P1(z){return z=z|0,se(8)|0?1:(ee(he(N+1|0)|0,he(N+3|0)|0,he(N+5|0)|0,he(N+7|0)|0),N=N+9|0,0)}function rt(z){return z=z|0,ye((z|0)-224|0),N=N+1|0,0}function O1(z){return z=z|0,A(),N=N+1|0,0}function F1(z){return z=z|0,h(),N=N+1|0,0}function U1(z){return z=z|0,Z(),N=N+1|0,0}function I1(z){return z=z|0,C(),N=N+1|0,0}function M1(z){return z=z|0,se(1)|0?1:(ye(i[N+1|0]|0),N=N+2|0,0)}function $1(z){z=z|0;var Re=0,Pe=0,Be=1,Wa=0,ks=0,uE=0;return se(2)|0?1:(Re=i[N+1|0]|0,Pe=i[N+2|0]|0,(Re|0)&128&&(Be=-1),Wa=+(((Re|0)&124)>>2),ks=+(((Re|0)&3)<<8|Pe),+Wa==0?w(+(+Be*5960464477539063e-23*+ks)):+Wa==31?+Be==1?+ks>0?b():k():+ks>0?x():j():w(+(+Be*ie(2,+(+Wa-25))*+(1024+ks))),N=N+3|0,0)}function V1(z){return z=z|0,se(4)|0?1:(_(i[N+1|0]|0,i[N+2|0]|0,i[N+3|0]|0,i[N+4|0]|0),N=N+5|0,0)}function z1(z){return z=z|0,se(8)|0?1:(E(i[N+1|0]|0,i[N+2|0]|0,i[N+3|0]|0,i[N+4|0]|0,i[N+5|0]|0,i[N+6|0]|0,i[N+7|0]|0,i[N+8|0]|0),N=N+9|0,0)}function $e(z){return z=z|0,1}function q1(z){return z=z|0,le(),N=N+1|0,0}var H1=[B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,O,q,V,K,$e,$e,$e,$e,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,u,d,v,T,$e,$e,$e,$e,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,Q,ue,ge,xe,$e,$e,$e,Te,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,f,m,R,H,$e,$e,$e,J,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,Ee,Ae,Se,Ne,$e,$e,$e,Fe,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,ze,yc,gc,wc,vc,$e,$e,$e,xc,dr,dr,dr,dr,dr,dr,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,dt,B1,C1,R1,P1,$e,$e,$e,$e,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,O1,F1,U1,I1,M1,$1,V1,z1,$e,$e,$e,q1];return{parse:me}},uc={},Bt={};const Ff=cc.BigNumber;Bt.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Bt.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Bt.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Bt.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Bt.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Bt.SHIFT32=Math.pow(2,32);Bt.SHIFT16=Math.pow(2,16);Bt.MAX_SAFE_HIGH=2097151;Bt.NEG_ONE=new Ff(-1);Bt.TEN=new Ff(10);Bt.TWO=new Ff(2);Bt.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=qa,n=cc.BigNumber,r=Bt,i=r.SHIFT32,s=r.SHIFT16,o=2097151;e.parseHalf=function(p){var w,_,E;return E=p[0]&128?-1:1,w=(p[0]&124)>>2,_=(p[0]&3)<<8|p[1],w?w===31?E*(_?0/0:1/0):E*Math.pow(2,w-25)*(1024+_):E*5960464477539063e-23*_};function l(c){return c<16?"0"+c.toString(16):c.toString(16)}e.arrayBufferToBignumber=function(c){const p=c.byteLength;let w="";for(let _=0;_<p;_++)w+=l(c[_]);return new n(w,16)},e.buildMap=c=>{const p=new Map,w=Object.keys(c),_=w.length;for(let E=0;E<_;E++)p.set(w[E],c[w[E]]);return p},e.buildInt32=(c,p)=>c*s+p,e.buildInt64=(c,p,w,_)=>{const E=e.buildInt32(c,p),h=e.buildInt32(w,_);return E>o?new n(E).times(i).plus(h):E*i+h},e.writeHalf=function(p,w){const _=t.allocUnsafe(4);_.writeFloatBE(w,0);const E=_.readUInt32BE(0);if(E&8191)return!1;var h=E>>16&32768;const A=E>>23&255,C=E&8388607;if(A>=113&&A<=142)h+=(A-112<<10)+(C>>13);else if(A>=103&&A<113){if(C&(1<<126-A)-1)return!1;h+=C+8388608>>126-A}else return!1;return p.writeUInt16BE(h,0),!0},e.keySorter=function(c,p){var w=c[0].byteLength,_=p[0].byteLength;return w>_?1:_>w?-1:c[0].compare(p[0])},e.isNegativeZero=c=>c===0&&1/c<0,e.nextPowerOf2=c=>{let p=0;if(c&&!(c&c-1))return c;for(;c!==0;)c>>=1,p+=1;return 1<<p}})(uc);const Uf=Bt,v2=Uf.MT,mo=Uf.SIMPLE,Xc=Uf.SYMS;let x2=class pd{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,v2.SIMPLE_FLOAT)}static isSimple(t){return t instanceof pd}static decode(t,n){switch(n==null&&(n=!0),t){case mo.FALSE:return!1;case mo.TRUE:return!0;case mo.NULL:return n?null:Xc.NULL;case mo.UNDEFINED:return n?void 0:Xc.UNDEFINED;case-1:if(!n)throw new Error("Invalid BREAK");return Xc.BREAK;default:return new pd(t)}}};var mg=x2;let _2=class md{constructor(t,n,r){if(this.tag=t,this.value=n,this.err=r,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var n,r;if(r=t!=null?t[this.tag]:void 0,typeof r!="function"&&(r=md["_tag"+this.tag],typeof r!="function"))return this;try{return r.call(md,this.value)}catch(i){return n=i,this.err=n,this}}};var yg=_2;const gg=self.location?self.location.protocol+"//"+self.location.host:"",yd=self.URL;let b2=class{constructor(t="",n=gg){this.super=new yd(t,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function N2(e){if(typeof e=="string")return new yd(e).toString();if(!(e instanceof yd)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",s=e.host||"",o=e.hostname||"",l=e.search||(e.query?"?"+e.query:""),c=e.hash||"",p=e.pathname||"",w=e.path||p+l;return`${i}${t||n}${s||o+r}${w}${c}`}}var wg={URLWithLegacySupport:b2,URLSearchParams:self.URLSearchParams,defaultBase:gg,format:N2};const{URLWithLegacySupport:f0,format:E2}=wg;var S2=(e,t={},n={},r)=>{let i=t.protocol?t.protocol.replace(":",""):"http";i=(n[i]||r||i)+":";let s;try{s=new f0(e)}catch{s={}}const o=Object.assign({},t,{protocol:i||s.protocol,host:t.host||s.host});return new f0(e,E2(o)).toString()};const{URLWithLegacySupport:j2,format:T2,URLSearchParams:A2,defaultBase:k2}=wg,B2=S2;var vg={URL:j2,URLSearchParams:A2,format:T2,relative:B2,defaultBase:k2};const{Buffer:Ri}=qa,h0=$a,C2=cc.BigNumber,R2=w2,Ct=uc,Me=Bt,P2=mg,O2=yg,{URL:F2}=vg;let gd=class wd{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Ct.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Ri.from(this._heap),this._reset(),this._knownTags=Object.assign({0:n=>new Date(n),1:n=>new Date(n*1e3),2:n=>Ct.arrayBufferToBignumber(n),3:n=>Me.NEG_ONE.minus(Ct.arrayBufferToBignumber(n)),4:n=>Me.TEN.pow(n[0]).times(n[1]),5:n=>Me.TWO.pow(n[0]).times(n[1]),32:n=>new F2(n),35:n=>new RegExp(n)},t.tags),this.parser=R2(fs,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Me.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Me.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Me.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Me.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Me.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Me.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Me.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,n){const r=this._currentParent;switch(r.values++,r.type){case Me.PARENT.ARRAY:case Me.PARENT.BYTE_STRING:case Me.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=t:this._ref.push(t),this._dec();break;case Me.PARENT.OBJECT:r.tmpKey!=null?(this._ref[r.tmpKey]=t,r.tmpKey=null,this._dec()):(r.tmpKey=t,typeof r.tmpKey!="string"&&(r.type=Me.PARENT.MAP,r.ref=Ct.buildMap(r.ref)));break;case Me.PARENT.MAP:r.tmpKey!=null?(this._ref.set(r.tmpKey,t),r.tmpKey=null,this._dec()):r.tmpKey=t;break;case Me.PARENT.TAG:this._ref.push(t),n||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,n,r){this._parents[this._depth]={type:n,length:r,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Me.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,n){const r=this._knownTags[t];return r?r(n):new O2(t,n)}createMap(t,n){return t}createObject(t,n){return t}createArray(t,n){return t}createByteString(t,n){return Ri.concat(t)}createByteStringFromHeap(t,n){return t===n?Ri.alloc(0):Ri.from(this._heap.slice(t,n))}createInt(t){return t}createInt32(t,n){return Ct.buildInt32(t,n)}createInt64(t,n,r,i){return Ct.buildInt64(t,n,r,i)}createFloat(t){return t}createFloatSingle(t,n,r,i){return h0.read([t,n,r,i],0,!1,23,4)}createFloatDouble(t,n,r,i,s,o,l,c){return h0.read([t,n,r,i,s,o,l,c],0,!1,52,8)}createInt32Neg(t,n){return-1-Ct.buildInt32(t,n)}createInt64Neg(t,n,r,i){const s=Ct.buildInt32(t,n),o=Ct.buildInt32(r,i);return s>Me.MAX_SAFE_HIGH?Me.NEG_ONE.minus(new C2(s).times(Me.SHIFT32).plus(o)):-1-(s*Me.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,n){return t.join("")}createUtf8StringFromHeap(t,n){return t===n?"":this._buffer.toString("utf8",t,n)}createSimpleUnassigned(t){return new P2(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,n){this._push(this.createInt32(t,n))}pushInt64(t,n,r,i){this._push(this.createInt64(t,n,r,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,n,r,i){this._push(this.createFloatSingle(t,n,r,i))}pushFloatDouble(t,n,r,i,s,o,l,c){this._push(this.createFloatDouble(t,n,r,i,s,o,l,c))}pushInt32Neg(t,n){this._push(this.createInt32Neg(t,n))}pushInt64Neg(t,n,r,i){this._push(this.createInt64Neg(t,n,r,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Me.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,n){const r=Ct.buildInt32(t,n);this._createArrayStartFixed(r)}pushArrayStartFixed64(t,n,r,i){const s=Ct.buildInt64(t,n,r,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,n){const r=Ct.buildInt32(t,n);this._createObjectStartFixed(r)}pushObjectStartFixed64(t,n,r,i){const s=Ct.buildInt64(t,n,r,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:Me.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,n){this._push(this.createByteStringFromHeap(t,n))}pushUtf8StringStart(){this._parents[this._depth]={type:Me.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,n){this._push(this.createUtf8StringFromHeap(t,n))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Me.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,n){this.pushTagStart(Ct.buildInt32(t,n))}pushTagStart8(t,n,r,i){this.pushTagStart(Ct.buildInt64(t,n,r,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Me.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Me.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const n=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(n>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,n){return typeof t=="string"&&(t=Ri.from(t,n||"hex")),new wd({size:t.length}).decodeFirst(t)}static decodeAll(t,n){return typeof t=="string"&&(t=Ri.from(t,n||"hex")),new wd({size:t.length}).decodeAll(t)}};gd.decodeFirst=gd.decode;var xg=gd;const{Buffer:Dc}=qa,U2=xg,I2=uc;class If extends U2{createTag(t,n){return`${t}(${n})`}createInt(t){return super.createInt(t).toString()}createInt32(t,n){return super.createInt32(t,n).toString()}createInt64(t,n,r,i){return super.createInt64(t,n,r,i).toString()}createInt32Neg(t,n){return super.createInt32Neg(t,n).toString()}createInt64Neg(t,n,r,i){return super.createInt64Neg(t,n,r,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const n=super.createFloat(t);return I2.isNegativeZero(t)?"-0_1":`${n}_1`}createFloatSingle(t,n,r,i){return`${super.createFloatSingle(t,n,r,i)}_2`}createFloatDouble(t,n,r,i,s,o,l,c){return`${super.createFloatDouble(t,n,r,i,s,o,l,c)}_3`}createByteString(t,n){const r=t.join(", ");return n===-1?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(t,n){return`h'${Dc.from(super.createByteStringFromHeap(t,n)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,n){const r=super.createArray(t,n);return n===-1?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(t,n){const r=super.createMap(t),i=Array.from(r.keys()).reduce(p0(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createObject(t,n){const r=super.createObject(t),i=Object.keys(r).reduce(p0(r),"");return n===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,n){const r=t.join(", ");return n===-1?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(t,n){return`"${Dc.from(super.createUtf8StringFromHeap(t,n)).toString("utf8")}"`}static diagnose(t,n){return typeof t=="string"&&(t=Dc.from(t,n||"hex")),new If().decodeFirst(t)}}var M2=If;function p0(e){return(t,n)=>t?`${t}, ${n}: ${e[n]}`:`${n}: ${e[n]}`}const{Buffer:Fn}=qa,{URL:$2}=vg,vd=cc.BigNumber,Lc=uc,ut=Bt,hn=ut.MT,yo=ut.NUMBYTES,m0=ut.SHIFT32,y0=ut.SYMS,Pi=ut.TAG,V2=ut.MT.SIMPLE_FLOAT<<5|ut.NUMBYTES.TWO,z2=ut.MT.SIMPLE_FLOAT<<5|ut.NUMBYTES.FOUR,q2=ut.MT.SIMPLE_FLOAT<<5|ut.NUMBYTES.EIGHT,H2=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.TRUE,G2=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.FALSE,K2=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.UNDEFINED,g0=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.NULL,W2=new vd("0x20000000000000"),Y2=Fn.from("f97e00","hex"),Z2=Fn.from("f9fc00","hex"),Q2=Fn.from("f97c00","hex");function X2(e){return{}.toString.call(e).slice(8,-1)}class Bl{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[$2,this._pushUrl],[vd,this._pushBigNumber]];const n=t.genTypes||[],r=n.length;for(let i=0;i<r;i++)this.addSemanticType(n[i][0],n[i][1]);this._reset()}addSemanticType(t,n){const r=this.semanticTypes.length;for(let i=0;i<r;i++)if(this.semanticTypes[i][0]===t){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=n,o}return this.semanticTypes.push([t,n]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,n,r){return this.result[this.offset]=t,this.resultMethod[this.offset]=n,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(Y2)}_pushInfinity(t){const n=t<0?Z2:Q2;return this.push(n)}_pushFloat(t){const n=Fn.allocUnsafe(2);if(Lc.writeHalf(n,t)&&Lc.parseHalf(n)===t)return this._pushUInt8(V2)&&this.push(n);const r=Fn.allocUnsafe(4);return r.writeFloatBE(t,0),r.readFloatBE(0)===t?this._pushUInt8(z2)&&this.push(r):this._pushUInt8(q2)&&this._pushDoubleBE(t)}_pushInt(t,n,r){const i=n<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|yo.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|yo.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|yo.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|yo.EIGHT)&&this._pushUInt32BE(Math.floor(t/m0))&&this._pushUInt32BE(t%m0):n===hn.NEG_INT?this._pushFloat(r):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,hn.NEG_INT,t):this._pushInt(t,hn.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const n=Fn.byteLength(t,"utf8");return this._pushInt(n,hn.UTF8_STRING)&&this.pushWrite(t,5,n)}_pushBoolean(t){return this._pushUInt8(t?H2:G2)}_pushUndefined(t){return this._pushUInt8(K2)}_pushArray(t,n){const r=n.length;if(!t._pushInt(r,hn.ARRAY))return!1;for(let i=0;i<r;i++)if(!t.pushAny(n[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,hn.TAG)}_pushDate(t,n){return t._pushTag(Pi.DATE_EPOCH)&&t.pushAny(Math.round(n/1e3))}_pushBuffer(t,n){return t._pushInt(n.length,hn.BYTE_STRING)&&t.push(n)}_pushNoFilter(t,n){return t._pushBuffer(t,n.slice())}_pushRegexp(t,n){return t._pushTag(Pi.REGEXP)&&t.pushAny(n.source)}_pushSet(t,n){if(!t._pushInt(n.size,hn.ARRAY))return!1;for(const r of n)if(!t.pushAny(r))return!1;return!0}_pushUrl(t,n){return t._pushTag(Pi.URI)&&t.pushAny(n.format())}_pushBigint(t){let n=Pi.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),n=Pi.NEG_BIGINT);let r=t.toString(16);r.length%2&&(r="0"+r);const i=Fn.from(r,"hex");return this._pushTag(n)&&this._pushBuffer(this,i)}_pushBigNumber(t,n){if(n.isNaN())return t._pushNaN();if(!n.isFinite())return t._pushInfinity(n.isNegative()?-1/0:1/0);if(n.isInteger())return t._pushBigint(n);if(!(t._pushTag(Pi.DECIMAL_FRAC)&&t._pushInt(2,hn.ARRAY)))return!1;const r=n.decimalPlaces(),i=n.multipliedBy(new vd(10).pow(r));return t._pushIntNum(-r)?i.abs().isLessThan(W2)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,n){return t._pushInt(n.size,hn.MAP)?this._pushRawMap(n.size,Array.from(n)):!1}_pushObject(t){if(!t)return this._pushUInt8(g0);for(var n=this.semanticTypes.length,r=0;r<n;r++)if(t instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var s=Object.keys(t),o=s.length;return this._pushInt(o,hn.MAP)?this._pushRawMap(o,s.map(l=>[l,t[l]])):!1}_pushRawMap(t,n){n=n.map(function(i){return i[0]=Bl.encode(i[0]),i}).sort(Lc.keySorter);for(var r=0;r<t;r++)if(!this.push(n[r][0])||!this.pushAny(n[r][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var n=X2(t);switch(n){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Fn.isBuffer(t)?t:Fn.from(t));case"Null":return this._pushUInt8(g0);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case y0.NULL:return this._pushObject(null);case y0.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,n=this.resultLength,r=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=n[o];var l=Fn.allocUnsafe(s),c=0,p=0;for(o=0;o<i;o++){switch(p=n[o],r[o]){case 0:t[o].copy(l,c);break;case 1:l.writeUInt8(t[o],c,!0);break;case 2:l.writeUInt16BE(t[o],c,!0);break;case 3:l.writeUInt32BE(t[o],c,!0);break;case 4:l.writeDoubleBE(t[o],c,!0);break;case 5:l.write(t[o],c,p,"utf8");break;default:throw new Error("unkown method")}c+=p}var w=l;return this._reset(),w}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const n=new Bl;if(!n.pushAny(t))throw new Error("Failed to encode input");return n.finalize()}}var D2=Bl;(function(e){e.Diagnose=M2,e.Decoder=xg,e.Encoder=D2,e.Simple=mg,e.Tagged=yg,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(hg);const _g=lp(hg);function _n(e){return ia(r2.create().update(new Uint8Array(e)).digest())}function Mo(e){if(e instanceof _g.Tagged)return Mo(e.value);if(typeof e=="string")return bg(e);if(typeof e=="number")return _n(Je(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return _n(e);if(Array.isArray(e)){const t=e.map(Mo);return _n(En(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return _n(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return Mo(e.toHash());if(typeof e=="object")return Cl(e);if(typeof e=="bigint")return _n(Je(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const bg=e=>{const t=new TextEncoder().encode(e);return _n(t)};function ka(e){return Cl(e)}function Cl(e){const r=Object.entries(e).filter(([,o])=>o!==void 0).map(([o,l])=>{const c=bg(o),p=Mo(l);return[c,p]}).sort(([o],[l])=>Ay(o,l)),i=En(...r.map(o=>En(...o)));return _n(i)}var L2=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const J2=new TextEncoder().encode(`
ic-request`);class Mf{getPrincipal(){return this._principal||(this._principal=je.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:n}=t,r=L2(t,["body"]),i=ka(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(En(J2,i))}})}}class Rl{getPrincipal(){return je.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var zt={},Ts={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});const e_=9007199254740992;function lr(e,...t){const n=new Uint8Array(e.byteLength+t.reduce((i,s)=>i+s.byteLength,0));n.set(new Uint8Array(e),0);let r=e.byteLength;for(const i of t)n.set(new Uint8Array(i),r),r+=i.byteLength;return n.buffer}function jn(e,t,n){n=n.replace(/[^0-9a-fA-F]/g,"");const r=2**(t-24);n=n.slice(-r*2).padStart(r*2,"0");const i=[(e<<5)+t].concat(n.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}function dc(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const n=t<=255?24:t<=65535?25:t<=4294967295?26:27;return jn(e,n,t.toString(16))}}function Ng(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|r&63):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|r&63):(n++,r=(r&1023)<<10|e.charCodeAt(n)&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return lr(new Uint8Array(dc(3,e.length)),new Uint8Array(t))}function t_(e,t){if(e==14277111)return lr(new Uint8Array([217,217,247]),t);if(e<24)return lr(new Uint8Array([192+e]),t);{const n=e<=255?24:e<=65535?25:e<=4294967295?26:27,r=2**(n-24),i=e.toString(16).slice(-r*2).padStart(r*2,"0"),s=[192+n].concat(i.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}}Ve.tagged=t_;function Ha(e){return new Uint8Array(e).buffer}Ve.raw=Ha;function $f(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Ve.uSmall=$f;function Eg(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),jn(0,24,e)}Ve.u8=Eg;function Sg(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),jn(0,25,e)}Ve.u16=Sg;function jg(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),jn(0,26,e)}Ve.u32=jg;function Vf(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return jn(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),e_),e=e.toString(16),jn(0,27,e)}Ve.u64=Vf;function Tg(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return $f(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Ve.iSmall=Tg;function Ag(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),jn(1,24,e)}Ve.i8=Ag;function kg(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),jn(1,25,e)}Ve.i16=kg;function Bg(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),jn(1,26,e)}Ve.i32=Bg;function Cg(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let n=!1,r=e.split("").reduceRight((i,s)=>{if(n)return s+i;let o=parseInt(s,16)-1;return o>=0?(n=!0,o.toString(16)+i):"f"+i},"");return n?jn(1,27,r):Vf(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),jn(1,27,e)}Ve.i64=Cg;function n_(e){return e>=0?e<24?$f(e):e<=255?Eg(e):e<=65535?Sg(e):e<=4294967295?jg(e):Vf(e):e>=-24?Tg(e):e>=-255?Ag(e):e>=-65535?kg(e):e>=-4294967295?Bg(e):Cg(e)}Ve.number=n_;function r_(e){return lr(dc(2,e.byteLength),e)}Ve.bytes=r_;function i_(e){return Ng(e)}Ve.string=i_;function s_(e){return lr(dc(4,e.length),...e)}Ve.array=s_;function a_(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let n=Array.from(e.entries());return t&&(n=n.sort(([r],[i])=>r.localeCompare(i))),lr(dc(5,e.size),...n.map(([r,i])=>lr(Ng(r),i)))}Ve.map=a_;function o_(e){const t=new Float32Array([e]);return lr(new Uint8Array([224+26]),new Uint8Array(t.buffer))}Ve.singleFloat=o_;function l_(e){const t=new Float64Array([e]);return lr(new Uint8Array([224+27]),new Uint8Array(t.buffer))}Ve.doubleFloat=l_;function c_(e){return e?Rg():Pg()}Ve.bool=c_;function Rg(){return Ha(new Uint8Array([224+21]))}Ve.true_=Rg;function Pg(){return Ha(new Uint8Array([224+20]))}Ve.false_=Pg;function u_(){return Ha(new Uint8Array([224+22]))}Ve.null_=u_;function d_(){return Ha(new Uint8Array([224+23]))}Ve.undefined_=d_;var f_=fs&&fs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Ts,"__esModule",{value:!0});const pn=f_(Ve),h_=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class Og{constructor(t,n=!1){this._serializer=t,this._stable=n,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return pn.undefined_();case"boolean":return pn.bool(t);case"number":return Math.floor(t)===t?pn.number(t):pn.doubleFloat(t);case"string":return pn.string(t);case"object":if(t===null)return pn.null_();if(Array.isArray(t))return pn.array(t.map(n=>this._serializer.serializeValue(n)));if(h_.find(n=>t instanceof n))return pn.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const n=new Map;for(const[r,i]of t.entries())n.set(r,this._serializer.serializeValue(i));return pn.map(n,this._stable)}else{const n=new Map;for(const[r,i]of Object.entries(t))n.set(r,this._serializer.serializeValue(i));return pn.map(n,this._stable)}default:throw new Error("Invalid value.")}}}Ts.JsonDefaultCborEncoder=Og;class Fg{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}Ts.ToCborEncoder=Fg;class Ug{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const n=new this;return n.addEncoder(new Og(n,t)),n.addEncoder(new Fg),n}removeEncoder(t){for(const n of this._encoders.values())n.name==t&&this._encoders.delete(n)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let n=null;for(const r of this._encoders)(!n||r.priority>n.priority)&&r.match(t)&&(n=r);if(n===null)throw new Error("Could not find an encoder for value.");return n}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}Ts.CborSerializer=Ug;class p_ extends Ug{serialize(t){return pn.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}Ts.SelfDescribeCborSerializer=p_;(function(e){function t(i){for(var s in i)e.hasOwnProperty(s)||(e[s]=i[s])}var n=fs&&fs.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(e,"__esModule",{value:!0}),t(Ts);const r=n(Ve);e.value=r})(zt);class m_{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return zt.value.bytes(t.toUint8Array())}}class y_{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return zt.value.bytes(new Uint8Array(t))}}class g_{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?zt.value.tagged(2,zt.value.bytes(rr(t.toString(16)))):zt.value.tagged(3,zt.value.bytes(rr((BigInt("-1")*t).toString(16))))}}const fc=zt.SelfDescribeCborSerializer.withDefaultEncoders(!0);fc.addEncoder(new m_);fc.addEncoder(new y_);fc.addEncoder(new g_);var xd;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(xd||(xd={}));function Jc(e){return fc.serialize(e)}function w0(e){const t=e.byteLength;let n=BigInt(0);for(let r=0;r<t;r++)n=n*BigInt(256)+BigInt(e[r]);return n}class w_ extends _g.Decoder{createByteString(t){return En(...t)}createByteStringFromHeap(t,n){return t===n?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,n))}}function er(e){const t=new Uint8Array(e),n=new w_({size:t.byteLength,tags:{2:r=>w0(r),3:r=>-w0(r),[xd.Semantic]:r=>r}});try{return n.decodeFirst(t)}catch(r){throw new Error(`Failed to decode CBOR: ${r}, input: ${Ke(t)}`)}}const go=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var _d;(function(e){e.Call="call"})(_d||(_d={}));function bd(){const e=new ArrayBuffer(16),t=new DataView(e),n=go(),r=go(),i=go(),s=go();return t.setUint32(0,n),t.setUint32(4,r),t.setUint32(8,i),t.setUint32(12,s),e}const v0=BigInt(1e6),v_=60*1e3;class wo{constructor(t){if(t<90*1e3){const l=BigInt(Date.now()+t)*v0/BigInt(1e9);this._value=l*BigInt(1e9);return}const s=BigInt(Math.floor(Date.now()+t-v_))*v0/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=s}toCBOR(){return zt.value.u64(this._value.toString(16),16)}toHash(){return Je(this._value)}}function x0(e=bd){return async t=>{const n=t.request.headers;t.request.headers=n,t.endpoint==="call"&&(t.body.nonce=e())}}function Hs(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}class eu extends Le{constructor(t,n){super(t),this.response=n,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class x_ extends Le{constructor(t,n,r,i,s,o){super(t),this.response=n,this.requestId=r,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class __ extends Le{constructor(t,n,r,i,s,o){super(t),this.response=n,this.requestId=r,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class b_ extends Le{constructor(t,n,r,i,s,o){super(t),this.response=n,this.requestId=r,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zf=BigInt(0),Pl=BigInt(1);function hc(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Wr(e){if(!hc(e))throw new Error("Uint8Array expected")}function sa(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ig(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?zf:BigInt("0x"+e)}const Mg=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",N_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ei(e){if(Wr(e),Mg)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=N_[e[n]];return t}const Hn={_0:48,_9:57,A:65,F:70,a:97,f:102};function _0(e){if(e>=Hn._0&&e<=Hn._9)return e-Hn._0;if(e>=Hn.A&&e<=Hn.F)return e-(Hn.A-10);if(e>=Hn.a&&e<=Hn.f)return e-(Hn.a-10)}function $g(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Mg)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=_0(e.charCodeAt(s)),l=_0(e.charCodeAt(s+1));if(o===void 0||l===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+l}return r}function vn(e){return Ig(Ei(e))}function aa(e){return Wr(e),Ig(Ei(Uint8Array.from(e).reverse()))}function wt(e,t){return $g(e.toString(16).padStart(t*2,"0"))}function Ol(e,t){return wt(e,t).reverse()}function Ut(e,t,n){let r;if(typeof t=="string")try{r=$g(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(hc(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function it(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Wr(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function qf(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const tu=e=>typeof e=="bigint"&&zf<=e;function Vg(e,t,n){return tu(e)&&tu(t)&&tu(n)&&t<=e&&e<n}function Ar(e,t,n,r){if(!Vg(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function oa(e){let t;for(t=0;e>zf;e>>=Pl,t+=1);return t}function E_(e,t){return e>>BigInt(t)&Pl}const us=e=>(Pl<<BigInt(e))-Pl,S_={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||hc(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ga(e,t,n={}){const r=(i,s,o)=>{const l=S_[s];if(typeof l!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!l(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const b0=()=>{throw new Error("not implemented")};function Ba(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ht=BigInt(0),xt=BigInt(1),ci=BigInt(2),j_=BigInt(3),zg=BigInt(4),qg=BigInt(5),Hg=BigInt(8);function De(e,t){const n=e%t;return n>=Ht?n:t+n}function kn(e,t,n){let r=e;for(;t-- >Ht;)r*=r,r%=n;return r}function N0(e,t){if(e===Ht)throw new Error("invert: expected non-zero number");if(t<=Ht)throw new Error("invert: expected positive modulus, got "+t);let n=De(e,t),r=t,i=Ht,s=xt;for(;n!==Ht;){const l=r/n,c=r%n,p=i-s*l;r=n,n=c,i=s,s=p}if(r!==xt)throw new Error("invert: does not exist");return De(i,t)}function Gg(e,t){const n=(e.ORDER+xt)/zg,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function T_(e,t){const n=(e.ORDER-qg)/Hg,r=e.mul(t,ci),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,ci),i),l=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(l),t))throw new Error("Cannot find square root");return l}function A_(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-xt,n=0;for(;t%ci===Ht;)t/=ci,n++;let r=ci;const i=As(e);for(;Fl(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Gg;let s=i.pow(r,t);const o=(t+xt)/ci;return function(c,p){if(c.is0(p))return p;if(Fl(c,p)!==1)throw new Error("Cannot find square root");let w=n,_=c.mul(c.ONE,s),E=c.pow(p,t),h=c.pow(p,o);for(;!c.eql(E,c.ONE);){if(c.is0(E))return c.ZERO;let A=1,C=c.sqr(E);for(;!c.eql(C,c.ONE);)if(A++,C=c.sqr(C),A===w)throw new Error("Cannot find square root");const Z=xt<<BigInt(w-A-1),k=c.pow(_,Z);w=A,_=c.sqr(k),E=c.mul(E,_),h=c.mul(h,k)}return h}}function k_(e){return e%zg===j_?Gg:e%Hg===qg?T_:A_(e)}const B_=(e,t)=>(De(e,t)&xt)===xt,C_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kg(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=C_.reduce((r,i)=>(r[i]="function",r),t);return Ga(e,n)}function $o(e,t,n){if(n<Ht)throw new Error("invalid exponent, negatives unsupported");if(n===Ht)return e.ONE;if(n===xt)return t;let r=e.ONE,i=t;for(;n>Ht;)n&xt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=xt;return r}function qr(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,l,c)=>e.is0(l)?o:(r[c]=o,e.mul(o,l)),e.ONE),s=e.inv(i);return t.reduceRight((o,l,c)=>e.is0(l)?o:(r[c]=e.mul(o,r[c]),e.mul(o,l)),s),r}function Fl(e,t){const n=(e.ORDER-xt)/ci,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Wg(e,t){t!==void 0&&Fx(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function As(e,t,n=!1,r={}){if(e<=Ht)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Wg(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:us(i),ZERO:Ht,ONE:xt,create:c=>De(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ht<=c&&c<e},is0:c=>c===Ht,isOdd:c=>(c&xt)===xt,neg:c=>De(-c,e),eql:(c,p)=>c===p,sqr:c=>De(c*c,e),add:(c,p)=>De(c+p,e),sub:(c,p)=>De(c-p,e),mul:(c,p)=>De(c*p,e),pow:(c,p)=>$o(l,c,p),div:(c,p)=>De(c*N0(p,e),e),sqrN:c=>c*c,addN:(c,p)=>c+p,subN:(c,p)=>c-p,mulN:(c,p)=>c*p,inv:c=>N0(c,e),sqrt:r.sqrt||(c=>(o||(o=k_(e)),o(l,c))),toBytes:c=>n?Ol(c,s):wt(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?aa(c):vn(c)},invertBatch:c=>qr(l,c),cmov:(c,p,w)=>w?p:c});return Object.freeze(l)}function Yg(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Zg(e){const t=Yg(e);return t+Math.ceil(t/2)}function R_(e,t,n=!1){const r=e.length,i=Yg(t),s=Zg(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?aa(e):vn(e),l=De(o,t-xt)+xt;return n?Ol(l,i):wt(l,i)}const P_=vn;function br(e,t){if(Ca(e),Ca(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function O_(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Ca(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function F_(e,t,n,r){Wr(e),Wr(t),Ca(n),t.length>255&&(t=r(it(qf("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const l=it(t,br(t.length,1)),c=br(0,s),p=br(n,2),w=new Array(o),_=r(it(c,e,p,br(0,1),l));w[0]=r(it(_,br(1,1),l));for(let h=1;h<=o;h++){const A=[O_(_,w[h-1]),br(h+1,1),l];w[h]=r(it(...A))}return it(...w).slice(0,n)}function U_(e,t,n,r,i){if(Wr(e),Wr(t),Ca(n),t.length>255){const s=Math.ceil(2*r/8);t=i.create({dkLen:s}).update(qf("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(br(n,2)).update(t).update(br(t.length,1)).digest()}function E0(e,t,n){Ga(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:l,DST:c}=n;Wr(e),Ca(t);const p=typeof c=="string"?qf(c):c,w=r.toString(2).length,_=Math.ceil((w+i)/8),E=t*s*_;let h;if(l==="xmd")h=F_(e,p,E,o);else if(l==="xof")h=U_(e,p,E,i,o);else if(l==="_internal_pass")h=e;else throw new Error('expand must be "xmd" or "xof"');const A=new Array(t);for(let C=0;C<t;C++){const Z=new Array(s);for(let k=0;k<s;k++){const j=_*(k+C*s),b=h.subarray(j,j+_);Z[k]=De(P_(b),r)}A[C]=Z}return A}function Qg(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,l,c]=n.map(_=>_.reduce((E,h)=>e.add(e.mul(E,r),h))),[p,w]=qr(e,[o,c],!0);return r=e.mul(s,p),i=e.mul(i,e.mul(l,w)),{x:r,y:i}}}function S0(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(s){return e.fromAffine(t(s))}function i(s){const o=s.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:n,hashToCurve(s,o){const l=E0(s,2,{...n,DST:n.DST,...o}),c=r(l[0]),p=r(l[1]);return i(c.add(p))},encodeToCurve(s,o){const l=E0(s,1,{...n,DST:n.encodeDST,...o});return i(r(l[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(r(s))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const j0=BigInt(0),Nd=BigInt(1);function nu(e,t){const n=t.negate();return e?n:t}function Xg(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ru(e,t){Xg(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=us(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function T0(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let l=Number(e&i),c=e>>o;l>r&&(l-=s,c+=Nd);const p=t*r,w=p+Math.abs(l)-1,_=l===0,E=l<0,h=t%2!==0;return{nextN:c,offset:w,isZero:_,isNeg:E,isNegF:h,offsetF:p}}function I_(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function M_(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const iu=new WeakMap,Dg=new WeakMap;function su(e){return Dg.get(e)||1}function Lg(e,t){return{constTimeNegate:nu,hasPrecomputes(n){return su(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>j0;)r&Nd&&(i=i.add(s)),s=s.double(),r>>=Nd;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=ru(r,t),o=[];let l=n,c=l;for(let p=0;p<i;p++){c=l,o.push(c);for(let w=1;w<s;w++)c=c.add(l),o.push(c);l=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const l=ru(n,t);for(let c=0;c<l.windows;c++){const{nextN:p,offset:w,isZero:_,isNeg:E,isNegF:h,offsetF:A}=T0(i,c,l);i=p,_?o=o.add(nu(h,r[A])):s=s.add(nu(E,r[w]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=ru(n,t);for(let l=0;l<o.windows&&i!==j0;l++){const{nextN:c,offset:p,isZero:w,isNeg:_}=T0(i,l,o);if(i=c,!w){const E=r[p];s=s.add(_?E.negate():E)}}return s},getPrecomputes(n,r,i){let s=iu.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&iu.set(r,i(s))),s},wNAFCached(n,r,i){const s=su(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=su(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Xg(r,t),Dg.set(n,r),iu.delete(n)}}}function Jg(e,t,n,r){I_(n,e),M_(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,l=oa(BigInt(i));let c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);const p=us(c),w=new Array(Number(p)+1).fill(o),_=Math.floor((t.BITS-1)/c)*c;let E=o;for(let h=_;h>=0;h-=c){w.fill(o);for(let C=0;C<s;C++){const Z=r[C],k=Number(Z>>BigInt(h)&p);w[k]=w[k].add(n[C])}let A=o;for(let C=w.length-1,Z=o;C>0;C--)Z=Z.add(w[C]),A=A.add(Z);if(E=E.add(A),h!==0)for(let C=0;C<c;C++)E=E.double()}return E}function e1(e){return Kg(e.Fp),Ga(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Wg(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $_(e){const t=e1(e);Ga(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}const ii=BigInt(0),et=BigInt(1),wr=BigInt(2),la=BigInt(3),Ed=BigInt(4);function A0(e){const t=$_(e),{Fp:n}=t,r=As(t.n,t.nBitLength),i=t.toBytes||((b,x,I)=>{const $=x.toAffine();return it(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),s=t.fromBytes||(b=>{const x=b.subarray(1),I=n.fromBytes(x.subarray(0,n.BYTES)),$=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:I,y:$}});function o(b){const{a:x,b:I}=t,$=n.sqr(b),M=n.mul($,b);return n.add(n.add(M,n.mul(b,x)),I)}function l(b,x){const I=n.sqr(x),$=o(b);return n.eql(I,$)}if(!l(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,la),Ed),p=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,p)))throw new Error("bad curve params: a or b");function w(b){return Vg(b,et,t.n)}function _(b){const{allowedPrivateKeyLengths:x,nByteLength:I,wrapPrivateKey:$,n:M}=t;if(x&&typeof b!="bigint"){if(hc(b)&&(b=Ei(b)),typeof b!="string"||!x.includes(b.length))throw new Error("invalid private key");b=b.padStart(I*2,"0")}let W;try{W=typeof b=="bigint"?b:vn(Ut("private key",b,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof b)}return $&&(W=De(W,M)),Ar("private key",W,et,M),W}function E(b){if(!(b instanceof C))throw new Error("ProjectivePoint expected")}const h=Ba((b,x)=>{const{px:I,py:$,pz:M}=b;if(n.eql(M,n.ONE))return{x:I,y:$};const W=b.is0();x==null&&(x=W?n.ONE:n.inv(M));const re=n.mul(I,x),Y=n.mul($,x),ae=n.mul(M,x);if(W)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ae,n.ONE))throw new Error("invZ was invalid");return{x:re,y:Y}}),A=Ba(b=>{if(b.is0()){if(t.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x,y:I}=b.toAffine();if(!n.isValid(x)||!n.isValid(I))throw new Error("bad point: x or y not FE");if(!l(x,I))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class C{constructor(x,I,$){if(x==null||!n.isValid(x))throw new Error("x required");if(I==null||!n.isValid(I)||n.is0(I))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=x,this.py=I,this.pz=$,Object.freeze(this)}static fromAffine(x){const{x:I,y:$}=x||{};if(!x||!n.isValid(I)||!n.isValid($))throw new Error("invalid affine point");if(x instanceof C)throw new Error("projective point not allowed");const M=W=>n.eql(W,n.ZERO);return M(I)&&M($)?C.ZERO:new C(I,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const I=qr(n,x.map($=>$.pz));return x.map(($,M)=>$.toAffine(I[M])).map(C.fromAffine)}static fromHex(x){const I=C.fromAffine(s(Ut("pointHex",x)));return I.assertValidity(),I}static fromPrivateKey(x){return C.BASE.multiply(_(x))}static msm(x,I){return Jg(C,r,x,I)}_setWindowSize(x){j.setWindowSize(this,x)}assertValidity(){A(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){E(x);const{px:I,py:$,pz:M}=this,{px:W,py:re,pz:Y}=x,ae=n.eql(n.mul(I,Y),n.mul(W,M)),P=n.eql(n.mul($,Y),n.mul(re,M));return ae&&P}negate(){return new C(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:I}=t,$=n.mul(I,la),{px:M,py:W,pz:re}=this;let Y=n.ZERO,ae=n.ZERO,P=n.ZERO,F=n.mul(M,M),X=n.mul(W,W),te=n.mul(re,re),oe=n.mul(M,W);return oe=n.add(oe,oe),P=n.mul(M,re),P=n.add(P,P),Y=n.mul(x,P),ae=n.mul($,te),ae=n.add(Y,ae),Y=n.sub(X,ae),ae=n.add(X,ae),ae=n.mul(Y,ae),Y=n.mul(oe,Y),P=n.mul($,P),te=n.mul(x,te),oe=n.sub(F,te),oe=n.mul(x,oe),oe=n.add(oe,P),P=n.add(F,F),F=n.add(P,F),F=n.add(F,te),F=n.mul(F,oe),ae=n.add(ae,F),te=n.mul(W,re),te=n.add(te,te),F=n.mul(te,oe),Y=n.sub(Y,F),P=n.mul(te,X),P=n.add(P,P),P=n.add(P,P),new C(Y,ae,P)}add(x){E(x);const{px:I,py:$,pz:M}=this,{px:W,py:re,pz:Y}=x;let ae=n.ZERO,P=n.ZERO,F=n.ZERO;const X=t.a,te=n.mul(t.b,la);let oe=n.mul(I,W),ye=n.mul($,re),G=n.mul(M,Y),D=n.add(I,$),ee=n.add(W,re);D=n.mul(D,ee),ee=n.add(oe,ye),D=n.sub(D,ee),ee=n.add(I,M);let ne=n.add(W,Y);return ee=n.mul(ee,ne),ne=n.add(oe,G),ee=n.sub(ee,ne),ne=n.add($,M),ae=n.add(re,Y),ne=n.mul(ne,ae),ae=n.add(ye,G),ne=n.sub(ne,ae),F=n.mul(X,ee),ae=n.mul(te,G),F=n.add(ae,F),ae=n.sub(ye,F),F=n.add(ye,F),P=n.mul(ae,F),ye=n.add(oe,oe),ye=n.add(ye,oe),G=n.mul(X,G),ee=n.mul(te,ee),ye=n.add(ye,G),G=n.sub(oe,G),G=n.mul(X,G),ee=n.add(ee,G),oe=n.mul(ye,ee),P=n.add(P,oe),oe=n.mul(ne,ee),ae=n.mul(D,ae),ae=n.sub(ae,oe),oe=n.mul(D,ye),F=n.mul(ne,F),F=n.add(F,oe),new C(ae,P,F)}subtract(x){return this.add(x.negate())}is0(){return this.equals(C.ZERO)}wNAF(x){return j.wNAFCached(this,x,C.normalizeZ)}multiplyUnsafe(x){const{endo:I,n:$}=t;Ar("scalar",x,ii,$);const M=C.ZERO;if(x===ii)return M;if(this.is0()||x===et)return this;if(!I||j.hasPrecomputes(this))return j.wNAFCachedUnsafe(this,x,C.normalizeZ);let{k1neg:W,k1:re,k2neg:Y,k2:ae}=I.splitScalar(x),P=M,F=M,X=this;for(;re>ii||ae>ii;)re&et&&(P=P.add(X)),ae&et&&(F=F.add(X)),X=X.double(),re>>=et,ae>>=et;return W&&(P=P.negate()),Y&&(F=F.negate()),F=new C(n.mul(F.px,I.beta),F.py,F.pz),P.add(F)}multiply(x){const{endo:I,n:$}=t;Ar("scalar",x,et,$);let M,W;if(I){const{k1neg:re,k1:Y,k2neg:ae,k2:P}=I.splitScalar(x);let{p:F,f:X}=this.wNAF(Y),{p:te,f:oe}=this.wNAF(P);F=j.constTimeNegate(re,F),te=j.constTimeNegate(ae,te),te=new C(n.mul(te.px,I.beta),te.py,te.pz),M=F.add(te),W=X.add(oe)}else{const{p:re,f:Y}=this.wNAF(x);M=re,W=Y}return C.normalizeZ([M,W])[0]}multiplyAndAddUnsafe(x,I,$){const M=C.BASE,W=(Y,ae)=>ae===ii||ae===et||!Y.equals(M)?Y.multiplyUnsafe(ae):Y.multiply(ae),re=W(this,I).add(W(x,$));return re.is0()?void 0:re}toAffine(x){return h(this,x)}isTorsionFree(){const{h:x,isTorsionFree:I}=t;if(x===et)return!0;if(I)return I(C,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:I}=t;return x===et?this:I?I(C,this):this.multiplyUnsafe(t.h)}toRawBytes(x=!0){return sa("isCompressed",x),this.assertValidity(),i(C,this,x)}toHex(x=!0){return sa("isCompressed",x),Ei(this.toRawBytes(x))}}C.BASE=new C(t.Gx,t.Gy,n.ONE),C.ZERO=new C(n.ZERO,n.ONE,n.ZERO);const{endo:Z,nBitLength:k}=t,j=Lg(C,Z?Math.ceil(k/2):k);return{CURVE:t,ProjectivePoint:C,normPrivateKeyToScalar:_,weierstrassEquation:o,isWithinCurveOrder:w}}function V_(e,t){const n=e.ORDER;let r=ii;for(let A=n-et;A%wr===ii;A/=wr)r+=et;const i=r,s=wr<<i-et-et,o=s*wr,l=(n-et)/o,c=(l-et)/wr,p=o-et,w=s,_=e.pow(t,l),E=e.pow(t,(l+et)/wr);let h=(A,C)=>{let Z=_,k=e.pow(C,p),j=e.sqr(k);j=e.mul(j,C);let b=e.mul(A,j);b=e.pow(b,c),b=e.mul(b,k),k=e.mul(b,C),j=e.mul(b,A);let x=e.mul(j,k);b=e.pow(x,w);let I=e.eql(b,e.ONE);k=e.mul(j,E),b=e.mul(x,Z),j=e.cmov(k,j,I),x=e.cmov(b,x,I);for(let $=i;$>et;$--){let M=$-wr;M=wr<<M-et;let W=e.pow(x,M);const re=e.eql(W,e.ONE);k=e.mul(j,Z),Z=e.mul(Z,Z),W=e.mul(x,Z),j=e.cmov(k,j,re),x=e.cmov(W,x,re)}return{isValid:I,value:j}};if(e.ORDER%Ed===la){const A=(e.ORDER-la)/Ed,C=e.sqrt(e.neg(t));h=(Z,k)=>{let j=e.sqr(k);const b=e.mul(Z,k);j=e.mul(j,b);let x=e.pow(j,A);x=e.mul(x,b);const I=e.mul(x,C),$=e.mul(e.sqr(x),k),M=e.eql($,Z);let W=e.cmov(I,x,M);return{isValid:M,value:W}}}return h}function t1(e,t){if(Kg(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=V_(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,l,c,p,w,_;i=e.sqr(r),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),l=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),l=e.mul(l,t.A),s=e.sqr(o),p=e.sqr(l),c=e.mul(p,t.A),s=e.add(s,c),s=e.mul(s,o),p=e.mul(p,l),c=e.mul(p,t.B),s=e.add(s,c),w=e.mul(i,o);const{isValid:E,value:h}=n(s,p);_=e.mul(i,r),_=e.mul(_,h),w=e.cmov(w,o,E),_=e.cmov(_,h,E);const A=e.isOdd(r)===e.isOdd(_);_=e.cmov(e.neg(_),_,A);const C=qr(e,[l],!0)[0];return w=e.mul(w,C),{x:w,y:_}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z_=BigInt(0),vo=BigInt(1),k0=BigInt(2),ts=BigInt(3);function q_(e){const t=[];for(;e>vo;e>>=vo)(e&vo)===z_?t.unshift(0):(e&ts)===ts?(t.unshift(-1),e+=vo):t.unshift(1);return t}function H_(e){const{Fp:t,Fr:n,Fp2:r,Fp6:i,Fp12:s}=e.fields,o=e.params.xNegative,l=e.params.twistType,c=A0({n:n.ORDER,...e.G1}),p=Object.assign(c,S0(c.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),w=A0({n:n.ORDER,...e.G2}),_=Object.assign(w,S0(w.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let E;if(l==="multiplicative")E=(ie,N,ce,de,me,se)=>s.mul014(de,ie,r.mul(N,me),r.mul(ce,se));else if(l==="divisive")E=(ie,N,ce,de,me,se)=>s.mul034(de,r.mul(ce,se),r.mul(N,me),ie);else throw new Error("bls: unknown twist type");const h=r.div(r.ONE,r.mul(r.ONE,k0));function A(ie,N,ce,de){const me=r.sqr(ce),se=r.sqr(de),he=r.mulByB(r.mul(se,ts)),S=r.mul(he,ts),B=r.sub(r.sub(r.sqr(r.add(ce,de)),se),me),O=r.sub(he,me),q=r.mul(r.sqr(N),ts),V=r.neg(B);return ie.push([O,q,V]),N=r.mul(r.mul(r.mul(r.sub(me,S),N),ce),h),ce=r.sub(r.sqr(r.mul(r.add(me,S),h)),r.mul(r.sqr(he),ts)),de=r.mul(me,B),{Rx:N,Ry:ce,Rz:de}}function C(ie,N,ce,de,me,se){const he=r.sub(ce,r.mul(se,de)),S=r.sub(N,r.mul(me,de)),B=r.sub(r.mul(he,me),r.mul(S,se)),O=r.neg(he),q=S;ie.push([B,O,q]);const V=r.sqr(S),K=r.mul(V,S),y=r.mul(V,N),u=r.add(r.sub(K,r.mul(y,k0)),r.mul(r.sqr(he),de));return N=r.mul(S,u),ce=r.sub(r.mul(r.sub(y,u),he),r.mul(K,ce)),de=r.mul(de,K),{Rx:N,Ry:ce,Rz:de}}const Z=q_(e.params.ateLoopSize),k=Ba(ie=>{const N=ie,{x:ce,y:de}=N.toAffine(),me=ce,se=de,he=r.neg(de);let S=me,B=se,O=r.ONE;const q=[];for(const V of Z){const K=[];({Rx:S,Ry:B,Rz:O}=A(K,S,B,O)),V&&({Rx:S,Ry:B,Rz:O}=C(K,S,B,O,me,V===-1?he:se)),q.push(K)}if(e.postPrecompute){const V=q[q.length-1];e.postPrecompute(S,B,O,me,se,C.bind(null,V))}return q});function j(ie,N=!1){let ce=s.ONE;if(ie.length){const de=ie[0][0].length;for(let me=0;me<de;me++){ce=s.sqr(ce);for(const[se,he,S]of ie)for(const[B,O,q]of se[me])ce=E(B,O,q,ce,he,S)}}return o&&(ce=s.conjugate(ce)),N?s.finalExponentiate(ce):ce}function b(ie,N=!0){const ce=[];p.ProjectivePoint.normalizeZ(ie.map(({g1:de})=>de)),_.ProjectivePoint.normalizeZ(ie.map(({g2:de})=>de));for(const{g1:de,g2:me}of ie){if(de.equals(p.ProjectivePoint.ZERO)||me.equals(_.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");de.assertValidity(),me.assertValidity();const se=de.toAffine();ce.push([k(me),se.x,se.y])}return j(ce,N)}function x(ie,N,ce=!0){return b([{g1:ie,g2:N}],ce)}const I={randomPrivateKey:()=>{const ie=Zg(n.ORDER);return R_(e.randomBytes(ie),n.ORDER)},calcPairingPrecomputes:k},{ShortSignature:$}=e.G1,{Signature:M}=e.G2;function W(ie){return ie instanceof p.ProjectivePoint?ie:p.ProjectivePoint.fromHex(ie)}function re(ie,N){return ie instanceof p.ProjectivePoint?ie:p.hashToCurve(Ut("point",ie),N)}function Y(ie){return ie instanceof _.ProjectivePoint?ie:M.fromHex(ie)}function ae(ie,N){return ie instanceof _.ProjectivePoint?ie:_.hashToCurve(Ut("point",ie),N)}function P(ie){return p.ProjectivePoint.fromPrivateKey(ie).toRawBytes(!0)}function F(ie){return _.ProjectivePoint.fromPrivateKey(ie).toRawBytes(!0)}function X(ie,N,ce){const de=ae(ie,ce);de.assertValidity();const me=de.multiply(p.normPrivateKeyToScalar(N));return ie instanceof _.ProjectivePoint?me:M.toRawBytes(me)}function te(ie,N,ce){const de=re(ie,ce);de.assertValidity();const me=de.multiply(p.normPrivateKeyToScalar(N));return ie instanceof p.ProjectivePoint?me:$.toRawBytes(me)}function oe(ie,N,ce,de){const me=W(ce),se=ae(N,de),he=p.ProjectivePoint.BASE,S=Y(ie),B=b([{g1:me.negate(),g2:se},{g1:he,g2:S}]);return s.eql(B,s.ONE)}function ye(ie,N,ce,de){const me=Y(ce),se=re(N,de),he=_.ProjectivePoint.BASE,S=W(ie),B=b([{g1:se,g2:me},{g1:S,g2:he.negate()}]);return s.eql(B,s.ONE)}function G(ie){if(!Array.isArray(ie)||ie.length===0)throw new Error("expected non-empty array")}function D(ie){G(ie);const ce=ie.map(W).reduce((de,me)=>de.add(me),p.ProjectivePoint.ZERO);return ie[0]instanceof p.ProjectivePoint?(ce.assertValidity(),ce):ce.toRawBytes(!0)}function ee(ie){G(ie);const ce=ie.map(Y).reduce((de,me)=>de.add(me),_.ProjectivePoint.ZERO);return ie[0]instanceof _.ProjectivePoint?(ce.assertValidity(),ce):M.toRawBytes(ce)}function ne(ie){G(ie);const ce=ie.map(W).reduce((de,me)=>de.add(me),p.ProjectivePoint.ZERO);return ie[0]instanceof p.ProjectivePoint?(ce.assertValidity(),ce):$.toRawBytes(ce)}function le(ie,N,ce,de){if(G(N),ce.length!==N.length)throw new Error("amount of public keys and messages should be equal");const me=Y(ie),se=N.map(O=>ae(O,de)),he=ce.map(W),S=new Map;for(let O=0;O<he.length;O++){const q=he[O],V=se[O];let K=S.get(V);K===void 0&&(K=[],S.set(V,K)),K.push(q)}const B=[];try{for(const[O,q]of S){const V=q.reduce((K,y)=>K.add(y));B.push({g1:V,g2:O})}return B.push({g1:p.ProjectivePoint.BASE.negate(),g2:me}),s.eql(b(B),s.ONE)}catch{return!1}}return p.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:P,getPublicKeyForShortSignatures:F,sign:X,signShortSignature:te,verify:oe,verifyBatch:le,verifyShortSignature:ye,aggregatePublicKeys:D,aggregateSignatures:ee,aggregateShortSignatures:ne,millerLoopBatch:j,pairing:x,pairingBatch:b,G1:p,G2:_,Signature:M,ShortSignature:$,fields:{Fr:n,Fp:t,Fp2:r,Fp6:i,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G_=BigInt(0),ns=BigInt(1),Qn=BigInt(2),B0=BigInt(3);function au(e,t,n,r,i=1,s){const o=BigInt(s===void 0?r:s),l=n**BigInt(r),c=[];for(let p=0;p<i;p++){const w=BigInt(p+1),_=[];for(let E=0,h=ns;E<r;E++){const A=(w*h-w)/o%l;_.push(e.pow(t,A)),h*=n}c.push(_)}return c}function K_(e,t,n){const r=t.pow(n,(e.ORDER-ns)/B0),i=t.pow(n,(e.ORDER-ns)/Qn);function s(E,h){const A=t.mul(t.frobeniusMap(E,1),r),C=t.mul(t.frobeniusMap(h,1),i);return[A,C]}const o=t.pow(n,(e.ORDER**Qn-ns)/B0),l=t.pow(n,(e.ORDER**Qn-ns)/Qn);if(!t.eql(l,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(E,h){return[t.mul(E,o),t.neg(h)]}const p=E=>(h,A)=>{const C=A.toAffine(),Z=E(C.x,C.y);return h.fromAffine({x:Z[0],y:Z[1]})},w=p(s),_=p(c);return{psi:s,psi2:c,G2psi:w,G2psi2:_,PSI_X:r,PSI_Y:i,PSI2_X:o,PSI2_Y:l}}function W_(e){const{ORDER:t}=e,n=As(t),r=n.create(e.NONRESIDUE||BigInt(-1)),i=n.div(n.ONE,Qn),s=au(n,r,n.ORDER,2)[0],o=({c0:P,c1:F},{c0:X,c1:te})=>({c0:n.add(P,X),c1:n.add(F,te)}),l=({c0:P,c1:F},{c0:X,c1:te})=>({c0:n.sub(P,X),c1:n.sub(F,te)}),c=({c0:P,c1:F},X)=>{if(typeof X=="bigint")return{c0:n.mul(P,X),c1:n.mul(F,X)};const{c0:te,c1:oe}=X;let ye=n.mul(P,te),G=n.mul(F,oe);const D=n.sub(ye,G),ee=n.sub(n.mul(n.add(P,F),n.add(te,oe)),n.add(ye,G));return{c0:D,c1:ee}},p=({c0:P,c1:F})=>{const X=n.add(P,F),te=n.sub(P,F),oe=n.add(P,P);return{c0:n.mul(X,te),c1:n.mul(oe,F)}},w=P=>{if(P.length!==2)throw new Error("invalid tuple");const F=P.map(X=>n.create(X));return{c0:F[0],c1:F[1]}},_=t*t,E=w(e.FP2_NONRESIDUE),h={ORDER:_,isLE:n.isLE,NONRESIDUE:E,BITS:oa(_),BYTES:Math.ceil(oa(_)/8),MASK:us(oa(_)),ZERO:{c0:n.ZERO,c1:n.ZERO},ONE:{c0:n.ONE,c1:n.ZERO},create:P=>P,isValid:({c0:P,c1:F})=>typeof P=="bigint"&&typeof F=="bigint",is0:({c0:P,c1:F})=>n.is0(P)&&n.is0(F),eql:({c0:P,c1:F},{c0:X,c1:te})=>n.eql(P,X)&&n.eql(F,te),neg:({c0:P,c1:F})=>({c0:n.neg(P),c1:n.neg(F)}),pow:(P,F)=>$o(h,P,F),invertBatch:P=>qr(h,P),add:o,sub:l,mul:c,sqr:p,addN:o,subN:l,mulN:c,sqrN:p,div:(P,F)=>h.mul(P,typeof F=="bigint"?n.inv(n.create(F)):h.inv(F)),inv:({c0:P,c1:F})=>{const X=n.inv(n.create(P*P+F*F));return{c0:n.mul(X,n.create(P)),c1:n.mul(X,n.create(-F))}},sqrt:P=>{if(e.Fp2sqrt)return e.Fp2sqrt(P);const{c0:F,c1:X}=P;if(n.is0(X))return Fl(n,F)===1?h.create({c0:n.sqrt(F),c1:n.ZERO}):h.create({c0:n.ZERO,c1:n.sqrt(n.div(F,r))});const te=n.sqrt(n.sub(n.sqr(F),n.mul(n.sqr(X),r)));let oe=n.mul(n.add(te,F),i);Fl(n,oe)===-1&&(oe=n.sub(oe,te));const G=n.sqrt(oe),D=h.create({c0:G,c1:n.div(n.mul(X,i),G)});if(!h.eql(h.sqr(D),P))throw new Error("Cannot find square root");const ee=D,ne=h.neg(ee),{re:le,im:ie}=h.reim(ee),{re:N,im:ce}=h.reim(ne);return ie>ce||ie===ce&&le>N?ee:ne},isOdd:P=>{const{re:F,im:X}=h.reim(P),te=F%Qn,oe=F===G_,ye=X%Qn;return BigInt(te||oe&&ye)==ns},fromBytes(P){if(P.length!==h.BYTES)throw new Error("fromBytes invalid length="+P.length);return{c0:n.fromBytes(P.subarray(0,n.BYTES)),c1:n.fromBytes(P.subarray(n.BYTES))}},toBytes:({c0:P,c1:F})=>it(n.toBytes(P),n.toBytes(F)),cmov:({c0:P,c1:F},{c0:X,c1:te},oe)=>({c0:n.cmov(P,X,oe),c1:n.cmov(F,te,oe)}),reim:({c0:P,c1:F})=>({re:P,im:F}),mulByNonresidue:({c0:P,c1:F})=>h.mul({c0:P,c1:F},E),mulByB:e.Fp2mulByB,fromBigTuple:w,frobeniusMap:({c0:P,c1:F},X)=>({c0:P,c1:n.mul(F,s[X%2])})},A=({c0:P,c1:F,c2:X},{c0:te,c1:oe,c2:ye})=>({c0:h.add(P,te),c1:h.add(F,oe),c2:h.add(X,ye)}),C=({c0:P,c1:F,c2:X},{c0:te,c1:oe,c2:ye})=>({c0:h.sub(P,te),c1:h.sub(F,oe),c2:h.sub(X,ye)}),Z=({c0:P,c1:F,c2:X},te)=>{if(typeof te=="bigint")return{c0:h.mul(P,te),c1:h.mul(F,te),c2:h.mul(X,te)};const{c0:oe,c1:ye,c2:G}=te,D=h.mul(P,oe),ee=h.mul(F,ye),ne=h.mul(X,G);return{c0:h.add(D,h.mulByNonresidue(h.sub(h.mul(h.add(F,X),h.add(ye,G)),h.add(ee,ne)))),c1:h.add(h.sub(h.mul(h.add(P,F),h.add(oe,ye)),h.add(D,ee)),h.mulByNonresidue(ne)),c2:h.sub(h.add(ee,h.mul(h.add(P,X),h.add(oe,G))),h.add(D,ne))}},k=({c0:P,c1:F,c2:X})=>{let te=h.sqr(P),oe=h.mul(h.mul(P,F),Qn),ye=h.mul(h.mul(F,X),Qn),G=h.sqr(X);return{c0:h.add(h.mulByNonresidue(ye),te),c1:h.add(h.mulByNonresidue(G),oe),c2:h.sub(h.sub(h.add(h.add(oe,h.sqr(h.add(h.sub(P,F),X))),ye),te),G)}},[j,b]=au(h,E,n.ORDER,6,2,3),x={ORDER:h.ORDER,isLE:h.isLE,BITS:3*h.BITS,BYTES:3*h.BYTES,MASK:us(3*h.BITS),ZERO:{c0:h.ZERO,c1:h.ZERO,c2:h.ZERO},ONE:{c0:h.ONE,c1:h.ZERO,c2:h.ZERO},create:P=>P,isValid:({c0:P,c1:F,c2:X})=>h.isValid(P)&&h.isValid(F)&&h.isValid(X),is0:({c0:P,c1:F,c2:X})=>h.is0(P)&&h.is0(F)&&h.is0(X),neg:({c0:P,c1:F,c2:X})=>({c0:h.neg(P),c1:h.neg(F),c2:h.neg(X)}),eql:({c0:P,c1:F,c2:X},{c0:te,c1:oe,c2:ye})=>h.eql(P,te)&&h.eql(F,oe)&&h.eql(X,ye),sqrt:b0,div:(P,F)=>x.mul(P,typeof F=="bigint"?n.inv(n.create(F)):x.inv(F)),pow:(P,F)=>$o(x,P,F),invertBatch:P=>qr(x,P),add:A,sub:C,mul:Z,sqr:k,addN:A,subN:C,mulN:Z,sqrN:k,inv:({c0:P,c1:F,c2:X})=>{let te=h.sub(h.sqr(P),h.mulByNonresidue(h.mul(X,F))),oe=h.sub(h.mulByNonresidue(h.sqr(X)),h.mul(P,F)),ye=h.sub(h.sqr(F),h.mul(P,X)),G=h.inv(h.add(h.mulByNonresidue(h.add(h.mul(X,oe),h.mul(F,ye))),h.mul(P,te)));return{c0:h.mul(G,te),c1:h.mul(G,oe),c2:h.mul(G,ye)}},fromBytes:P=>{if(P.length!==x.BYTES)throw new Error("fromBytes invalid length="+P.length);return{c0:h.fromBytes(P.subarray(0,h.BYTES)),c1:h.fromBytes(P.subarray(h.BYTES,2*h.BYTES)),c2:h.fromBytes(P.subarray(2*h.BYTES))}},toBytes:({c0:P,c1:F,c2:X})=>it(h.toBytes(P),h.toBytes(F),h.toBytes(X)),cmov:({c0:P,c1:F,c2:X},{c0:te,c1:oe,c2:ye},G)=>({c0:h.cmov(P,te,G),c1:h.cmov(F,oe,G),c2:h.cmov(X,ye,G)}),fromBigSix:P=>{if(!Array.isArray(P)||P.length!==6)throw new Error("invalid Fp6 usage");return{c0:h.fromBigTuple(P.slice(0,2)),c1:h.fromBigTuple(P.slice(2,4)),c2:h.fromBigTuple(P.slice(4,6))}},frobeniusMap:({c0:P,c1:F,c2:X},te)=>({c0:h.frobeniusMap(P,te),c1:h.mul(h.frobeniusMap(F,te),j[te%6]),c2:h.mul(h.frobeniusMap(X,te),b[te%6])}),mulByFp2:({c0:P,c1:F,c2:X},te)=>({c0:h.mul(P,te),c1:h.mul(F,te),c2:h.mul(X,te)}),mulByNonresidue:({c0:P,c1:F,c2:X})=>({c0:h.mulByNonresidue(X),c1:P,c2:F}),mul1:({c0:P,c1:F,c2:X},te)=>({c0:h.mulByNonresidue(h.mul(X,te)),c1:h.mul(P,te),c2:h.mul(F,te)}),mul01({c0:P,c1:F,c2:X},te,oe){let ye=h.mul(P,te),G=h.mul(F,oe);return{c0:h.add(h.mulByNonresidue(h.sub(h.mul(h.add(F,X),oe),G)),ye),c1:h.sub(h.sub(h.mul(h.add(te,oe),h.add(P,F)),ye),G),c2:h.add(h.sub(h.mul(h.add(P,X),te),ye),G)}}},I=au(h,E,n.ORDER,12,1,6)[0],$=({c0:P,c1:F},{c0:X,c1:te})=>({c0:x.add(P,X),c1:x.add(F,te)}),M=({c0:P,c1:F},{c0:X,c1:te})=>({c0:x.sub(P,X),c1:x.sub(F,te)}),W=({c0:P,c1:F},X)=>{if(typeof X=="bigint")return{c0:x.mul(P,X),c1:x.mul(F,X)};let{c0:te,c1:oe}=X,ye=x.mul(P,te),G=x.mul(F,oe);return{c0:x.add(ye,x.mulByNonresidue(G)),c1:x.sub(x.mul(x.add(P,F),x.add(te,oe)),x.add(ye,G))}},re=({c0:P,c1:F})=>{let X=x.mul(P,F);return{c0:x.sub(x.sub(x.mul(x.add(x.mulByNonresidue(F),P),x.add(P,F)),X),x.mulByNonresidue(X)),c1:x.add(X,X)}};function Y(P,F){const X=h.sqr(P),te=h.sqr(F);return{first:h.add(h.mulByNonresidue(te),X),second:h.sub(h.sub(h.sqr(h.add(P,F)),X),te)}}const ae={ORDER:h.ORDER,isLE:x.isLE,BITS:2*x.BITS,BYTES:2*x.BYTES,MASK:us(2*x.BITS),ZERO:{c0:x.ZERO,c1:x.ZERO},ONE:{c0:x.ONE,c1:x.ZERO},create:P=>P,isValid:({c0:P,c1:F})=>x.isValid(P)&&x.isValid(F),is0:({c0:P,c1:F})=>x.is0(P)&&x.is0(F),neg:({c0:P,c1:F})=>({c0:x.neg(P),c1:x.neg(F)}),eql:({c0:P,c1:F},{c0:X,c1:te})=>x.eql(P,X)&&x.eql(F,te),sqrt:b0,inv:({c0:P,c1:F})=>{let X=x.inv(x.sub(x.sqr(P),x.mulByNonresidue(x.sqr(F))));return{c0:x.mul(P,X),c1:x.neg(x.mul(F,X))}},div:(P,F)=>ae.mul(P,typeof F=="bigint"?n.inv(n.create(F)):ae.inv(F)),pow:(P,F)=>$o(ae,P,F),invertBatch:P=>qr(ae,P),add:$,sub:M,mul:W,sqr:re,addN:$,subN:M,mulN:W,sqrN:re,fromBytes:P=>{if(P.length!==ae.BYTES)throw new Error("fromBytes invalid length="+P.length);return{c0:x.fromBytes(P.subarray(0,x.BYTES)),c1:x.fromBytes(P.subarray(x.BYTES))}},toBytes:({c0:P,c1:F})=>it(x.toBytes(P),x.toBytes(F)),cmov:({c0:P,c1:F},{c0:X,c1:te},oe)=>({c0:x.cmov(P,X,oe),c1:x.cmov(F,te,oe)}),fromBigTwelve:P=>({c0:x.fromBigSix(P.slice(0,6)),c1:x.fromBigSix(P.slice(6,12))}),frobeniusMap(P,F){const{c0:X,c1:te,c2:oe}=x.frobeniusMap(P.c1,F),ye=I[F%12];return{c0:x.frobeniusMap(P.c0,F),c1:x.create({c0:h.mul(X,ye),c1:h.mul(te,ye),c2:h.mul(oe,ye)})}},mulByFp2:({c0:P,c1:F},X)=>({c0:x.mulByFp2(P,X),c1:x.mulByFp2(F,X)}),conjugate:({c0:P,c1:F})=>({c0:P,c1:x.neg(F)}),mul014:({c0:P,c1:F},X,te,oe)=>{let ye=x.mul01(P,X,te),G=x.mul1(F,oe);return{c0:x.add(x.mulByNonresidue(G),ye),c1:x.sub(x.sub(x.mul01(x.add(F,P),X,h.add(te,oe)),ye),G)}},mul034:({c0:P,c1:F},X,te,oe)=>{const ye=x.create({c0:h.mul(P.c0,X),c1:h.mul(P.c1,X),c2:h.mul(P.c2,X)}),G=x.mul01(F,te,oe),D=x.mul01(x.add(P,F),h.add(X,te),oe);return{c0:x.add(x.mulByNonresidue(G),ye),c1:x.sub(D,x.add(ye,G))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:n,Fp2:h,Fp6:x,Fp4Square:Y,Fp12:ae}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ot=BigInt(0),Ul=BigInt(1),ht=BigInt(2),xo=BigInt(3),ca=BigInt(4),Nr=BigInt("0xd201000000010000"),Y_=oa(Nr),{Fp:ve,Fp2:_e,Fp6:Sd,Fp4Square:ou,Fp12:Ce}=W_({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[Ul,Ul],Fp2mulByB:({c0:e,c1:t})=>{const n=ve.mul(e,ca),r=ve.mul(t,ca);return{c0:ve.sub(n,r),c1:ve.add(n,r)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:n,c1:r,c2:i}=e,{c0:s,c1:o,c2:l}=t,{first:c,second:p}=ou(n,o),{first:w,second:_}=ou(s,i),{first:E,second:h}=ou(r,l),A=_e.mulByNonresidue(h);return{c0:Sd.create({c0:_e.add(_e.mul(_e.sub(c,n),ht),c),c1:_e.add(_e.mul(_e.sub(w,r),ht),w),c2:_e.add(_e.mul(_e.sub(E,i),ht),E)}),c1:Sd.create({c0:_e.add(_e.mul(_e.add(A,s),ht),A),c1:_e.add(_e.mul(_e.add(p,o),ht),p),c2:_e.add(_e.mul(_e.add(_,l),ht),_)})}},Fp12cyclotomicExp(e,t){let n=Ce.ONE;for(let r=Y_-1;r>=0;r--)n=Ce._cyclotomicSquare(n),E_(t,r)&&(n=Ce.mul(n,e));return n},Fp12finalExponentiate:e=>{const t=Nr,n=Ce.div(Ce.frobeniusMap(e,6),e),r=Ce.mul(Ce.frobeniusMap(n,2),n),i=Ce.conjugate(Ce._cyclotomicExp(r,t)),s=Ce.mul(Ce.conjugate(Ce._cyclotomicSquare(r)),i),o=Ce.conjugate(Ce._cyclotomicExp(s,t)),l=Ce.conjugate(Ce._cyclotomicExp(o,t)),c=Ce.mul(Ce.conjugate(Ce._cyclotomicExp(l,t)),Ce._cyclotomicSquare(i)),p=Ce.conjugate(Ce._cyclotomicExp(c,t)),w=Ce.frobeniusMap(Ce.mul(i,l),2),_=Ce.frobeniusMap(Ce.mul(o,r),3),E=Ce.frobeniusMap(Ce.mul(c,Ce.conjugate(r)),1),h=Ce.mul(Ce.mul(p,Ce.conjugate(s)),r);return Ce.mul(Ce.mul(Ce.mul(w,_),E),h)}}),C0=As(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),Z_=Qg(_e,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>_e.fromBigTuple(t.map(BigInt))))),Q_=Qg(ve,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),X_=t1(_e,{A:_e.create({c0:ve.create(Ot),c1:ve.create(BigInt(240))}),B:_e.create({c0:ve.create(BigInt(1012)),c1:ve.create(BigInt(1012))}),Z:_e.create({c0:ve.create(BigInt(-2)),c1:ve.create(BigInt(-1))})}),D_=t1(ve,{A:ve.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:ve.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:ve.create(BigInt(11))}),{G2psi:R0,G2psi2:L_}=K_(ve,_e,_e.div(_e.ONE,_e.NONRESIDUE)),lu=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:ve.ORDER,m:2,k:128,expand:"xmd",hash:Cf}),Il=Ra(ve.toBytes(Ot),{infinity:!0,compressed:!0});function _o(e){e=e.slice();const t=e[0]&224,n=!!(t>>7&1),r=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:n,infinity:r,sort:i,value:e}}function Ra(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function P0(e){e.assertValidity();const t=e.equals(tn.G1.ProjectivePoint.ZERO),{x:n,y:r}=e.toAffine();if(t)return Il.slice();const i=ve.ORDER,s=!!(r*ht/i);return Ra(wt(n,ve.BYTES),{compressed:!0,sort:s})}function O0(e){e.assertValidity();const t=ve.BYTES;if(e.equals(tn.G2.ProjectivePoint.ZERO))return it(Il,wt(Ot,t));const{x:n,y:r}=e.toAffine(),{re:i,im:s}=_e.reim(n),{re:o,im:l}=_e.reim(r),p=!!((l>Ot?l*ht:o*ht)/ve.ORDER&Ul),w=i;return it(Ra(wt(s,t),{sort:p,compressed:!0}),wt(w,t))}const tn=H_({fields:{Fp:ve,Fp2:_e,Fp6:Sd,Fp12:Ce,Fr:C0},G1:{Fp:ve,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:ve.ZERO,b:ca,htfDefaults:{...lu,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),r=new e(ve.mul(t.px,n),t.py,t.pz);return t.multiplyUnsafe(Nr).negate().multiplyUnsafe(Nr).equals(r)},clearCofactor:(e,t)=>t.multiplyUnsafe(Nr).add(t),mapToCurve:e=>{const{x:t,y:n}=D_(ve.create(e[0]));return Q_(t,n)},fromBytes:e=>{const{compressed:t,infinity:n,sort:r,value:i}=_o(e);if(i.length===48&&t){const s=ve.ORDER,o=vn(i),l=ve.create(o&ve.MASK);if(n){if(l!==Ot)throw new Error("G1: non-empty compressed point at infinity");return{x:Ot,y:Ot}}const c=ve.add(ve.pow(l,xo),ve.create(tn.params.G1b));let p=ve.sqrt(c);if(!p)throw new Error("invalid compressed G1 point");return p*ht/s!==BigInt(r)&&(p=ve.neg(p)),{x:ve.create(l),y:ve.create(p)}}else if(i.length===96&&!t){const s=vn(i.subarray(0,ve.BYTES)),o=vn(i.subarray(ve.BYTES));if(n){if(s!==Ot||o!==Ot)throw new Error("G1: non-empty point at infinity");return tn.G1.ProjectivePoint.ZERO.toAffine()}return{x:ve.create(s),y:ve.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(e,t,n)=>{const r=t.equals(e.ZERO),{x:i,y:s}=t.toAffine();if(n){if(r)return Il.slice();const o=ve.ORDER,l=!!(s*ht/o);return Ra(wt(i,ve.BYTES),{compressed:!0,sort:l})}else return r?it(new Uint8Array([64]),new Uint8Array(2*ve.BYTES-1)):it(wt(i,ve.BYTES),wt(s,ve.BYTES))},ShortSignature:{fromHex(e){const{infinity:t,sort:n,value:r}=_o(Ut("signatureHex",e,48)),i=ve.ORDER,s=vn(r);if(t)return tn.G1.ProjectivePoint.ZERO;const o=ve.create(s&ve.MASK),l=ve.add(ve.pow(o,xo),ve.create(tn.params.G1b));let c=ve.sqrt(l);if(!c)throw new Error("invalid compressed G1 point");const p=BigInt(n);c*ht/i!==p&&(c=ve.neg(c));const w=tn.G1.ProjectivePoint.fromAffine({x:o,y:c});return w.assertValidity(),w},toRawBytes(e){return P0(e)},toHex(e){return Ei(P0(e))}}},G2:{Fp:_e,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:_e.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:_e.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:_e.ZERO,b:_e.fromBigTuple([ca,ca]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...lu},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{const{x:t,y:n}=X_(_e.fromBigTuple(e));return Z_(t,n)},isTorsionFree:(e,t)=>t.multiplyUnsafe(Nr).negate().equals(R0(e,t)),clearCofactor:(e,t)=>{const n=Nr;let r=t.multiplyUnsafe(n).negate(),i=R0(e,t),s=t.double();return s=L_(e,s),s=s.subtract(i),i=r.add(i),i=i.multiplyUnsafe(n).negate(),s=s.add(i),s=s.subtract(r),s.subtract(t)},fromBytes:e=>{const{compressed:t,infinity:n,sort:r,value:i}=_o(e);if(!t&&!n&&r||!t&&n&&r||r&&n&&t)throw new Error("invalid encoding flag: "+(e[0]&224));const s=ve.BYTES,o=(l,c,p)=>vn(l.slice(c,p));if(i.length===96&&t){const l=tn.params.G2b,c=ve.ORDER;if(n){if(i.reduce((C,Z)=>C!==0?Z+1:Z,0)>0)throw new Error("invalid compressed G2 point");return{x:_e.ZERO,y:_e.ZERO}}const p=o(i,0,s),w=o(i,s,2*s),_=_e.create({c0:ve.create(w),c1:ve.create(p)}),E=_e.add(_e.pow(_,xo),l);let h=_e.sqrt(E);const A=h.c1===Ot?h.c0*ht/c:h.c1*ht/c?Ul:Ot;return h=r&&A>0?h:_e.neg(h),{x:_,y:h}}else if(i.length===192&&!t){if(n){if(i.reduce((_,E)=>_!==0?E+1:E,0)>0)throw new Error("invalid uncompressed G2 point");return{x:_e.ZERO,y:_e.ZERO}}const l=o(i,0,s),c=o(i,s,2*s),p=o(i,2*s,3*s),w=o(i,3*s,4*s);return{x:_e.fromBigTuple([c,l]),y:_e.fromBigTuple([w,p])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(e,t,n)=>{const{BYTES:r,ORDER:i}=ve,s=t.equals(e.ZERO),{x:o,y:l}=t.toAffine();if(n){if(s)return it(Il,wt(Ot,r));const c=!!(l.c1===Ot?l.c0*ht/i:l.c1*ht/i);return it(Ra(wt(o.c1,r),{compressed:!0,sort:c}),wt(o.c0,r))}else{if(s)return it(new Uint8Array([64]),new Uint8Array(4*r-1));const{re:c,im:p}=_e.reim(o),{re:w,im:_}=_e.reim(l);return it(wt(p,r),wt(c,r),wt(_,r),wt(w,r))}},Signature:{fromHex(e){const{infinity:t,sort:n,value:r}=_o(Ut("signatureHex",e)),i=ve.ORDER,s=r.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=vn(r.slice(0,s)),l=vn(r.slice(s));if(t)return tn.G2.ProjectivePoint.ZERO;const c=ve.create(o&ve.MASK),p=ve.create(l),w=_e.create({c0:p,c1:c}),_=_e.add(_e.pow(w,xo),tn.params.G2b);let E=_e.sqrt(_);if(!E)throw new Error("Failed to find a square root");const{re:h,im:A}=_e.reim(E),C=BigInt(n),Z=A>Ot&&A*ht/i!==C,k=A===Ot&&h*ht/i!==C;(Z||k)&&(E=_e.neg(E));const j=tn.G2.ProjectivePoint.fromAffine({x:w,y:E});return j.assertValidity(),j},toRawBytes(e){return O0(e)},toHex(e){return Ei(O0(e))}}},params:{ateLoopSize:Nr,r:C0.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:lu,hash:Cf,randomBytes:Ey});function J_(e,t,n){const r=typeof e=="string"?e:Ke(e),i=typeof t=="string"?t:Ke(t),s=typeof n=="string"?n:Ke(n);return tn.verifyShortSignature(i,s,r)}const n1=e=>ft(new js(e)),Hf=e=>{const t=n1(e);return new Date(Number(t)/1e6)};var eb=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},tb=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Vo;class Un extends Le{constructor(t){super(`Invalid certificate: ${t}`)}}var Zt;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Zt||(Zt={}));function nb(e,t){const n=new Uint8Array(e),r=new Uint8Array(t);for(let i=0;i<n.length;i++)if(n[i]>r[i])return!0;return!1}class hi{constructor(t,n,r,i,s=5,o=!1){this._rootKey=n,this._canisterId=r,this._blsVerify=i,this._maxAgeInMinutes=s,Vo.set(this,!1),eb(this,Vo,o,"f"),this.cert=er(new Uint8Array(t))}static async create(t){const n=hi.createUnverified(t);return await n.verify(),n}static createUnverified(t){let n=t.blsVerify;return n||(n=J_),new hi(t.certificate,t.rootKey,t.canisterId,n,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return bs(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await zo(this.cert.tree),n=await this._checkDelegationAndGetKey(this.cert.delegation),r=this.cert.signature,i=ib(n),s=En(Gs("ic-state-root"),t);let o=!1;const l=an(this.lookup(["time"]));if(!l)throw new Un("Certificate does not contain a time");if(!tb(this,Vo,"f")){const p=this._maxAgeInMinutes*60*1e3,w=Date.now(),_=w-p,E=w+3e5,h=Hf(l);if(h.getTime()<_)throw new Un(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+h.toISOString()+" Current time: "+new Date(w).toISOString());if(h.getTime()>E)throw new Un("Certificate is signed more than 5 minutes in the future. Certificate time: "+h.toISOString()+" Current time: "+new Date(w).toISOString())}try{o=await this._blsVerify(new Uint8Array(i),new Uint8Array(r),new Uint8Array(s))}catch{o=!1}if(!o)throw new Un("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const n=await hi.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(n.cert.delegation)throw new Un("Delegation certificates cannot be nested");if(await n.verify(),this._canisterId.toString()!==Sb&&!r1({canisterId:this._canisterId,subnetId:je.fromUint8Array(new Uint8Array(t.subnet_id)),tree:n.cert.tree}))throw new Un(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Ke(t.subnet_id)}`);const r=an(n.lookup(["subnet",t.subnet_id,"public_key"]));if(!r)throw new Error(`Could not find subnet key for subnet 0x${Ke(t.subnet_id)}`);return r}}Vo=new WeakMap;const Ms=rr("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),rb=96;function ib(e){const t=Ms.byteLength+rb;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const n=e.slice(0,Ms.byteLength);if(!Va(n,Ms))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Ms}, but get ${n}`);return e.slice(Ms.byteLength)}function an(e){if(e.status===ot.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function zo(e){switch(e[0]){case Zt.Empty:return _n(Gs("ic-hashtree-empty"));case Zt.Pruned:return e[1];case Zt.Leaf:return _n(En(Gs("ic-hashtree-leaf"),e[1]));case Zt.Labeled:return _n(En(Gs("ic-hashtree-labeled"),e[1],await zo(e[2])));case Zt.Fork:return _n(En(Gs("ic-hashtree-fork"),await zo(e[1]),await zo(e[2])));default:throw new Error("unreachable")}}function Gs(e){const t=new Uint8Array([e.length]),n=new TextEncoder().encode(e);return En(t,n)}var ot;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(ot||(ot={}));var Xn;(function(e){e.Less="less",e.Greater="greater"})(Xn||(Xn={}));function bs(e,t){if(e.length===0)switch(t[0]){case Zt.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:ot.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:ot.Found,value:t[1].buffer}:{status:ot.Found,value:t[1]}}default:return{status:ot.Found,value:t}}const n=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],r=qo(n,t);switch(r.status){case ot.Found:return bs(e.slice(1),r.value);case Xn.Greater:case Xn.Less:return{status:ot.Absent};default:return r}}function jd(e){switch(e[0]){case Zt.Empty:return[];case Zt.Fork:return jd(e[1]).concat(jd(e[2]));default:return[e]}}function qo(e,t){switch(t[0]){case Zt.Labeled:return nb(e,t[1])?{status:Xn.Greater}:Va(e,t[1])?{status:ot.Found,value:t[2]}:{status:Xn.Less};case Zt.Fork:const n=qo(e,t[1]);switch(n.status){case Xn.Greater:{const r=qo(e,t[2]);return r.status===Xn.Less?{status:ot.Absent}:r}case ot.Unknown:{let r=qo(e,t[2]);return r.status===Xn.Less?{status:ot.Unknown}:r}default:return n}case Zt.Pruned:return{status:ot.Unknown};default:return{status:ot.Absent}}}function r1(e){const{canisterId:t,subnetId:n,tree:r}=e,i=bs(["subnet",n.toUint8Array(),"canister_ranges"],r);if(i.status!==ot.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${n}`);return er(i.value).map(c=>[je.fromUint8Array(c[0]),je.fromUint8Array(c[1])]).some(c=>c[0].ltEq(t)&&c[1].gtEq(t))}class sb{constructor(t,n,r){this.key=t,this.path=n,this.decodeStrategy=r}}const i1=async e=>{const{agent:t,paths:n}=e,r=je.from(e.canisterId),i=[...new Set(n)],s=i.map(c=>Td(c,r)),o=new Map,l=i.map((c,p)=>(async()=>{var w;try{const _=await t.readState(r,{paths:[s[p]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const E=await hi.create({certificate:_.certificate,rootKey:t.rootKey,canisterId:r,disableTimeVerification:!0}),h=(Z,k)=>{if(k==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const j=s1(_.certificate,r,t.rootKey);return{path:k,data:j}}else return{path:k,data:an(Z.lookup(Td(k,r)))}},{path:A,data:C}=h(E,i[p]);if(!C)console.warn(`Expected to find result for path ${A}, but instead found nothing.`),typeof A=="string"?o.set(A,null):o.set(A.key,null);else switch(A){case"time":{o.set(A,Hf(C));break}case"controllers":{o.set(A,ob(C));break}case"module_hash":{o.set(A,F0(C));break}case"subnet":{o.set(A,C);break}case"candid":{o.set(A,new TextDecoder().decode(C));break}default:if(typeof A!="string"&&"key"in A&&"path"in A)switch(A.decodeStrategy){case"raw":o.set(A.key,C);break;case"leb128":{o.set(A.key,n1(C));break}case"cbor":{o.set(A.key,a1(C));break}case"hex":{o.set(A.key,F0(C));break}case"utf-8":o.set(A.key,ab(C))}}}catch(_){if(!((w=_==null?void 0:_.message)===null||w===void 0)&&w.includes("Invalid certificate"))throw new Le(_.message);typeof c!="string"&&"key"in c&&"path"in c?o.set(c.key,null):o.set(c,null),console.group(),console.warn(`Expected to find result for path ${c}, but instead found nothing.`),console.warn(_),console.groupEnd()}})());return await Promise.all(l),o},s1=(e,t,n)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const r=er(new Uint8Array(e)),i=r.tree;let s=r.delegation,o;if(s&&s.subnet_id?o=je.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof n<"u"?(o=je.selfAuthenticating(new Uint8Array(n)),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}):(o=je.selfAuthenticating(je.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}),!r1({canisterId:t,subnetId:o,tree:i}))throw new Error("Canister not in range");const c=bs(["subnet",s.subnet_id,"node"],i);if(c.status!==ot.Found)throw new Error("Node not found");if(c.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const p=jd(c.value),w=new Map;return p.forEach(_=>{const E=je.from(new Uint8Array(_[1])).toText(),h=bs(["public_key"],_[2]);if(h.status!==ot.Found)throw new Error("Public key not found");const A=h.value;if(A.byteLength!==44)throw new Error("Invalid public key length");w.set(E,A)}),{subnetId:je.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:w}},Td=(e,t)=>{const n=new TextEncoder,r=s=>new DataView(n.encode(s).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[r("time")];case"controllers":return[r("canister"),i,r("controllers")];case"module_hash":return[r("canister"),i,r("module_hash")];case"subnet":return[r("subnet")];case"candid":return[r("canister"),i,r("metadata"),r("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const s=e.path,o=typeof s=="string"?r(s):s;return[r("canister"),i,r("metadata"),o]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},F0=e=>Ke(e),a1=e=>er(e),ab=e=>new TextDecoder().decode(e),ob=e=>a1(e).map(n=>je.fromUint8Array(new Uint8Array(n))),lb=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:sb,encodePath:Td,fetchNodeKeys:s1,request:i1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bn=BigInt(0),Rt=BigInt(1),U0=BigInt(2),cb=BigInt(8),ub={zip215:!0};function db(e){const t=e1(e);return Ga(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function fb(e){const t=db(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:l,h:c}=t,p=U0<<BigInt(l*8)-Rt,w=n.create,_=As(t.n,t.nBitLength);function E(G,D){const ee=n.sqr(G),ne=n.sqr(D),le=n.add(n.mul(t.a,ee),ne),ie=n.add(n.ONE,n.mul(t.d,n.mul(ee,ne)));return n.eql(le,ie)}if(!E(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const h=t.uvRatio||((G,D)=>{try{return{isValid:!0,value:n.sqrt(G*n.inv(D))}}catch{return{isValid:!1,value:Bn}}}),A=t.adjustScalarBytes||(G=>G),C=t.domain||((G,D,ee)=>{if(sa("phflag",ee),D.length||ee)throw new Error("Contexts/pre-hash are not supported");return G});function Z(G,D,ee=!1){const ne=ee?Rt:Bn;Ar("coordinate "+G,D,ne,p)}function k(G){if(!(G instanceof x))throw new Error("ExtendedPoint expected")}const j=Ba((G,D)=>{const{ex:ee,ey:ne,ez:le}=G,ie=G.is0();D==null&&(D=ie?cb:n.inv(le));const N=w(ee*D),ce=w(ne*D),de=w(le*D);if(ie)return{x:Bn,y:Rt};if(de!==Rt)throw new Error("invZ was invalid");return{x:N,y:ce}}),b=Ba(G=>{const{a:D,d:ee}=t;if(G.is0())throw new Error("bad point: ZERO");const{ex:ne,ey:le,ez:ie,et:N}=G,ce=w(ne*ne),de=w(le*le),me=w(ie*ie),se=w(me*me),he=w(ce*D),S=w(me*w(he+de)),B=w(se+w(ee*w(ce*de)));if(S!==B)throw new Error("bad point: equation left != right (1)");const O=w(ne*le),q=w(ie*N);if(O!==q)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(D,ee,ne,le){Z("x",D),Z("y",ee),Z("z",ne,!0),Z("t",le),this.ex=D,this.ey=ee,this.ez=ne,this.et=le,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(D){if(D instanceof x)throw new Error("extended point not allowed");const{x:ee,y:ne}=D||{};return Z("x",ee),Z("y",ne),new x(ee,ne,Rt,w(ee*ne))}static normalizeZ(D){const ee=qr(n,D.map(ne=>ne.ez));return D.map((ne,le)=>ne.toAffine(ee[le])).map(x.fromAffine)}static msm(D,ee){return Jg(x,_,D,ee)}_setWindowSize(D){M.setWindowSize(this,D)}assertValidity(){b(this)}equals(D){k(D);const{ex:ee,ey:ne,ez:le}=this,{ex:ie,ey:N,ez:ce}=D,de=w(ee*ce),me=w(ie*le),se=w(ne*ce),he=w(N*le);return de===me&&se===he}is0(){return this.equals(x.ZERO)}negate(){return new x(w(-this.ex),this.ey,this.ez,w(-this.et))}double(){const{a:D}=t,{ex:ee,ey:ne,ez:le}=this,ie=w(ee*ee),N=w(ne*ne),ce=w(U0*w(le*le)),de=w(D*ie),me=ee+ne,se=w(w(me*me)-ie-N),he=de+N,S=he-ce,B=de-N,O=w(se*S),q=w(he*B),V=w(se*B),K=w(S*he);return new x(O,q,K,V)}add(D){k(D);const{a:ee,d:ne}=t,{ex:le,ey:ie,ez:N,et:ce}=this,{ex:de,ey:me,ez:se,et:he}=D,S=w(le*de),B=w(ie*me),O=w(ce*ne*he),q=w(N*se),V=w((le+ie)*(de+me)-S-B),K=q-O,y=q+O,u=w(B-ee*S),d=w(V*K),v=w(y*u),T=w(V*u),U=w(K*y);return new x(d,v,U,T)}subtract(D){return this.add(D.negate())}wNAF(D){return M.wNAFCached(this,D,x.normalizeZ)}multiply(D){const ee=D;Ar("scalar",ee,Rt,r);const{p:ne,f:le}=this.wNAF(ee);return x.normalizeZ([ne,le])[0]}multiplyUnsafe(D,ee=x.ZERO){const ne=D;return Ar("scalar",ne,Bn,r),ne===Bn?$:this.is0()||ne===Rt?this:M.wNAFCachedUnsafe(this,ne,x.normalizeZ,ee)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return M.unsafeLadder(this,r).is0()}toAffine(D){return j(this,D)}clearCofactor(){const{h:D}=t;return D===Rt?this:this.multiplyUnsafe(D)}static fromHex(D,ee=!1){const{d:ne,a:le}=t,ie=n.BYTES;D=Ut("pointHex",D,ie),sa("zip215",ee);const N=D.slice(),ce=D[ie-1];N[ie-1]=ce&-129;const de=aa(N),me=ee?p:n.ORDER;Ar("pointHex.y",de,Bn,me);const se=w(de*de),he=w(se-Rt),S=w(ne*se-le);let{isValid:B,value:O}=h(he,S);if(!B)throw new Error("Point.fromHex: invalid y coordinate");const q=(O&Rt)===Rt,V=(ce&128)!==0;if(!ee&&O===Bn&&V)throw new Error("Point.fromHex: x=0 and x_0=1");return V!==q&&(O=w(-O)),x.fromAffine({x:O,y:de})}static fromPrivateKey(D){const{scalar:ee}=Y(D);return I.multiply(ee)}toRawBytes(){const{x:D,y:ee}=this.toAffine(),ne=Ol(ee,n.BYTES);return ne[ne.length-1]|=D&Rt?128:0,ne}toHex(){return Ei(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,Rt,w(t.Gx*t.Gy)),x.ZERO=new x(Bn,Rt,Rt,Bn);const{BASE:I,ZERO:$}=x,M=Lg(x,l*8);function W(G){return De(G,r)}function re(G){return W(aa(G))}function Y(G){const D=n.BYTES;G=Ut("private key",G,D);const ee=Ut("hashed private key",s(G),2*D),ne=A(ee.slice(0,D)),le=ee.slice(D,2*D),ie=re(ne);return{head:ne,prefix:le,scalar:ie}}function ae(G){const{head:D,prefix:ee,scalar:ne}=Y(G),le=I.multiply(ne),ie=le.toRawBytes();return{head:D,prefix:ee,scalar:ne,point:le,pointBytes:ie}}function P(G){return ae(G).pointBytes}function F(G=Uint8Array.of(),...D){const ee=it(...D);return re(s(C(ee,Ut("context",G),!!i)))}function X(G,D,ee={}){G=Ut("message",G),i&&(G=i(G));const{prefix:ne,scalar:le,pointBytes:ie}=ae(D),N=F(ee.context,ne,G),ce=I.multiply(N).toRawBytes(),de=F(ee.context,ce,ie,G),me=W(N+de*le);Ar("signature.s",me,Bn,r);const se=it(ce,Ol(me,n.BYTES));return Ut("result",se,n.BYTES*2)}const te=ub;function oe(G,D,ee,ne=te){const{context:le,zip215:ie}=ne,N=n.BYTES;G=Ut("signature",G,2*N),D=Ut("message",D),ee=Ut("publicKey",ee,N),ie!==void 0&&sa("zip215",ie),i&&(D=i(D));const ce=aa(G.slice(N,2*N));let de,me,se;try{de=x.fromHex(ee,ie),me=x.fromHex(G.slice(0,N),ie),se=I.multiplyUnsafe(ce)}catch{return!1}if(!ie&&de.isSmallOrder())return!1;const he=F(le,me.toRawBytes(),de.toRawBytes(),D);return me.add(de.multiplyUnsafe(he)).subtract(se).clearCofactor().equals(x.ZERO)}return I._setWindowSize(8),{CURVE:t,getPublicKey:P,sign:X,verify:oe,ExtendedPoint:x,utils:{getExtendedPublicKey:ae,randomPrivateKey:()=>o(n.BYTES),precompute(G=8,D=x.BASE){return D._setWindowSize(G),D.multiply(BigInt(3)),D}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gf=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),I0=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hb=BigInt(1),M0=BigInt(2);BigInt(3);const pb=BigInt(5),mb=BigInt(8);function yb(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Gf,l=e*e%s*e%s,c=kn(l,M0,s)*l%s,p=kn(c,hb,s)*e%s,w=kn(p,pb,s)*p%s,_=kn(w,t,s)*w%s,E=kn(_,n,s)*_%s,h=kn(E,r,s)*E%s,A=kn(h,i,s)*h%s,C=kn(A,i,s)*h%s,Z=kn(C,t,s)*w%s;return{pow_p_5_8:kn(Z,M0,s)*e%s,b2:l}}function gb(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function wb(e,t){const n=Gf,r=De(t*t*t,n),i=De(r*r*t,n),s=yb(e*i).pow_p_5_8;let o=De(e*r*s,n);const l=De(t*o*o,n),c=o,p=De(o*I0,n),w=l===e,_=l===De(-e,n),E=l===De(-e*I0,n);return w&&(o=c),(_||E)&&(o=p),B_(o,n)&&(o=De(-o,n)),{isValid:w||_,value:o}}const $0=(()=>As(Gf,void 0,!0))(),vb=(()=>({a:$0.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$0,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mb,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:n2,randomBytes:Ey,adjustScalarBytes:gb,uvRatio:wb}))(),Ui=(()=>fb(vb))();var V0=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Pt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},jt,Ks,o1,l1;class xb{constructor(t={}){jt.set(this,void 0),Ks.set(this,void 0),this[o1]=this.entries.bind(this),this[l1]="ExpirableMap";const{source:n=[],expirationTime:r=10*60*1e3}=t,i=Date.now();V0(this,jt,new Map([...n].map(([s,o])=>[s,{value:o,timestamp:i}])),"f"),V0(this,Ks,r,"f")}prune(){const t=Date.now();for(const[n,r]of Pt(this,jt,"f").entries())t-r.timestamp>Pt(this,Ks,"f")&&Pt(this,jt,"f").delete(n);return this}set(t,n){this.prune();const r={value:n,timestamp:Date.now()};return Pt(this,jt,"f").set(t,r),this}get(t){const n=Pt(this,jt,"f").get(t);if(n!==void 0){if(Date.now()-n.timestamp>Pt(this,Ks,"f")){Pt(this,jt,"f").delete(t);return}return n.value}}clear(){Pt(this,jt,"f").clear()}entries(){const t=Pt(this,jt,"f").entries();return function*(){for(const[r,i]of t)yield[r,i.value]}()}values(){const t=Pt(this,jt,"f").values();return function*(){for(const r of t)yield r.value}()}keys(){return Pt(this,jt,"f").keys()}forEach(t,n){for(const[r,i]of Pt(this,jt,"f").entries())t.call(n,i.value,r,this)}has(t){return Pt(this,jt,"f").has(t)}delete(t){return Pt(this,jt,"f").delete(t)}get size(){return Pt(this,jt,"f").size}}jt=new WeakMap,Ks=new WeakMap,o1=Symbol.iterator,l1=Symbol.toStringTag;const z0=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},q0=(e,t,n)=>{if(n<=127)return e[t]=n,1;if(n<=255)return e[t]=129,e[t+1]=n,2;if(n<=65535)return e[t]=130,e[t+1]=n>>8,e[t+2]=n,3;if(n<=16777215)return e[t]=131,e[t+1]=n>>16,e[t+2]=n>>8,e[t+3]=n,4;throw new Error("Length too long (> 4 bytes)")},Ad=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},_b=(e,t)=>{const n=Ad(e,t);if(n===1)return e[t];if(n===2)return e[t+1];if(n===3)return(e[t+1]<<8)+e[t+2];if(n===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Ml=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function c1(e,t){const n=2+z0(e.byteLength+1),r=t.byteLength+n+e.byteLength;let i=0;const s=new Uint8Array(1+z0(r)+r);return s[i++]=48,i+=q0(s,i,r),s.set(t,i),i+=t.byteLength,s[i++]=3,i+=q0(s,i,e.byteLength+1),s[i++]=0,s.set(new Uint8Array(e),i),s}const u1=(e,t)=>{let n=0;const r=(l,c)=>{if(i[n++]!==l)throw new Error("Expected: "+c)},i=new Uint8Array(e);if(r(48,"sequence"),n+=Ad(i,n),!Va(i.slice(n,n+t.byteLength),t))throw new Error("Not the expected OID.");n+=t.byteLength,r(3,"bit string");const s=_b(i,n)-1;n+=Ad(i,n),r(0,"0 padding");const o=i.slice(n);if(s!==o.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${o.length}`);return o};var H0=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},G0=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ho,Go;let d1=class Ws{constructor(t){if(Ho.set(this,void 0),Go.set(this,void 0),t.byteLength!==Ws.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");H0(this,Ho,t,"f"),H0(this,Go,Ws.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Ws(t)}static fromDer(t){return new Ws(this.derDecode(t))}static derEncode(t){return c1(t,Ml).buffer}static derDecode(t){const n=u1(t,Ml);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return n}get rawKey(){return G0(this,Ho,"f")}get derKey(){return G0(this,Go,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Ho=new WeakMap,Go=new WeakMap;d1.RAW_KEY_LENGTH=32;class bb{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(n=>n!==t)}notify(t,...n){this.observers.forEach(r=>r(t,...n))}}class Nb extends bb{constructor(){super()}print(t,...n){this.notify({message:t,level:"info"},...n)}warn(t,...n){this.notify({message:t,level:"warn"},...n)}error(t,n,...r){this.notify({message:t,level:"error",error:n},...r)}}var Cn=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},St=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Rn,Ko,Wo,Yo,Zo,Qo,Xo,Do,Ii;const f1=.5,h1=1.5,p1=500,m1=6e4,y1=9e5,g1=10;class pc{constructor(t=pc.default){Rn.set(this,void 0),Ko.set(this,void 0),Wo.set(this,void 0),Yo.set(this,void 0),Zo.set(this,void 0),Qo.set(this,void 0),Xo.set(this,void 0),Do.set(this,void 0),Ii.set(this,0);const{initialInterval:n=p1,randomizationFactor:r=f1,multiplier:i=h1,maxInterval:s=m1,maxElapsedTime:o=y1,maxIterations:l=g1,date:c=Date}=t;Cn(this,Rn,n,"f"),Cn(this,Ko,r,"f"),Cn(this,Wo,i,"f"),Cn(this,Yo,s,"f"),Cn(this,Do,c,"f"),Cn(this,Zo,c.now(),"f"),Cn(this,Qo,o,"f"),Cn(this,Xo,l,"f")}get ellapsedTimeInMsec(){return St(this,Do,"f").now()-St(this,Zo,"f")}get currentInterval(){return St(this,Rn,"f")}get count(){return St(this,Ii,"f")}get randomValueFromInterval(){const t=St(this,Ko,"f")*St(this,Rn,"f"),n=St(this,Rn,"f")-t,r=St(this,Rn,"f")+t;return Math.random()*(r-n)+n}incrementCurrentInterval(){var t;return Cn(this,Rn,Math.min(St(this,Rn,"f")*St(this,Wo,"f"),St(this,Yo,"f")),"f"),Cn(this,Ii,(t=St(this,Ii,"f"),t++,t),"f"),St(this,Rn,"f")}next(){return this.ellapsedTimeInMsec>=St(this,Qo,"f")||St(this,Ii,"f")>=St(this,Xo,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Rn=new WeakMap,Ko=new WeakMap,Wo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,Do=new WeakMap,Ii=new WeakMap;pc.default={initialInterval:p1,randomizationFactor:f1,multiplier:h1,maxInterval:m1,maxElapsedTime:y1,maxIterations:g1,date:Date};var yt=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},pe=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Tt,Jr,ds,Pn,Wn,rs,Ys,Mi,mn,gn,ei,ti,Zs,$i,Vi,ni,si,w1,Lo,Jo,ri,Yn;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Yn||(Yn={}));const bo=60*1e3,Eb="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Sb="aaaaa-aa",jb="ic0.app",Tb=".ic0.app",Ab="icp0.io",kb=".icp0.io",Bb="icp-api.io",Cb=".icp-api.io";class cu extends Le{constructor(t){super(t),this.message=t}}class No extends Le{constructor(t){super(t),this.message=t}}function Rb(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new cu("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new cu("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new cu("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function Pb(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const n=["ic0.app","icp0.io","127.0.0.1","localhost"],r=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,s=i==null?void 0:i.hostname;let o;s&&typeof s=="string"&&(r.some(l=>s.endsWith(l))?o=s:o=n.find(l=>s.endsWith(l))),i&&o?t=new URL(`${i.protocol}//${o}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class ui{constructor(t={}){var n,r;Tt.add(this),Jr.set(this,null),ds.set(this,!1),Pn.set(this,void 0),Wn.set(this,void 0),rs.set(this,void 0),Ys.set(this,void 0),Mi.set(this,0),mn.set(this,void 0),gn.set(this,void 0),ei.set(this,void 0),ti.set(this,void 0),this._isAgent=!0,this.config={},Zs.set(this,0),this.log=new Nb,$i.set(this,[]),Vi.set(this,[]),ni.set(this,new xb({expirationTime:5*60*1e3})),si.set(this,!0),Jo.set(this,(o,l)=>{if(pe(this,si,"f")===!1)return o;if(!l)throw new Un("Invalid signature from replica signed query: no matching node key found.");const{status:c,signatures:p=[],requestId:w}=o,_=Jn(new TextEncoder().encode("\vic-response"));for(const E of p){const{timestamp:h,identity:A}=E,C=je.fromUint8Array(A).toText();let Z;if(c==="replied"){const{reply:I}=o;Z=Cl({status:c,reply:I,timestamp:BigInt(h),request_id:w})}else if(c==="rejected"){const{reject_code:I,reject_message:$,error_code:M}=o;Z=Cl({status:c,reject_code:I,reject_message:$,error_code:M,timestamp:BigInt(h),request_id:w})}else throw new Error(`Unknown status: ${c}`);const k=En(_,Jn(new Uint8Array(Z))),j=l==null?void 0:l.nodeKeys.get(C);if(!j)throw new Un("Invalid signature from replica signed query: no matching node key found.");const b=d1.fromDer(j).rawKey;if(Ui.verify(E.signature,new Uint8Array(k),new Uint8Array(b)))return o;throw new Un(`Invalid signature from replica ${C} signed query.`)}return o}),this.config=t,yt(this,Wn,t.fetch||Rb()||fetch.bind(global),"f"),yt(this,rs,t.fetchOptions,"f"),yt(this,Ys,t.callOptions,"f"),yt(this,ds,(n=t.shouldFetchRootKey)!==null&&n!==void 0?n:!1,"f"),t.rootKey?this.rootKey=t.rootKey:pe(this,ds,"f")?this.rootKey=null:this.rootKey=rr(Eb);const i=Pb(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&yt(this,si,t.verifyQuerySignatures,"f"),yt(this,gn,(r=t.retryTimes)!==null&&r!==void 0?r:3,"f");const s=()=>new pc({maxIterations:pe(this,gn,"f")});if(yt(this,ei,t.backoffStrategy||s,"f"),this.host.hostname.endsWith(Tb)?this.host.hostname=jb:this.host.hostname.endsWith(kb)?this.host.hostname=Ab:this.host.hostname.endsWith(Cb)&&(this.host.hostname=Bb),t.credentials){const{name:o,password:l}=t.credentials;yt(this,mn,`${o}${l?":"+l:""}`,"f")}if(yt(this,Pn,Promise.resolve(t.identity||new Rl),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new Le(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new Le(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);yt(this,ti,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",x0(bd)),t.useQueryNonces&&this.addTransform("query",x0(bd)),t.logToConsole&&this.log.subscribe(o=>{o.level==="error"?console.error(o.message):o.level==="warn"?console.warn(o.message):console.log(o.message)})}get waterMark(){return pe(this,Zs,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const n=ui.createSync(t),r=[n.syncTime()];return n.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&r.push(n.fetchRootKey()),await Promise.all(r),n}static async from(t){var n;try{return"config"in t?await ui.create(t.config):await ui.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(n=t._identity)!==null&&n!==void 0?n:void 0})}catch{throw new Le("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,n,r=n.priority||0){if(t==="update"){const i=pe(this,Vi,"f").findIndex(s=>(s.priority||0)<r);pe(this,Vi,"f").splice(i>=0?i:pe(this,Vi,"f").length,0,Object.assign(n,{priority:r}))}else if(t==="query"){const i=pe(this,$i,"f").findIndex(s=>(s.priority||0)<r);pe(this,$i,"f").splice(i>=0?i:pe(this,$i,"f").length,0,Object.assign(n,{priority:r}))}}async getPrincipal(){if(!pe(this,Pn,"f"))throw new No("This identity has expired due this application's security policy. Please refresh your authentication.");return(await pe(this,Pn,"f")).getPrincipal()}async call(t,n,r){var i,s;await pe(this,Tt,"m",ri).call(this);const o=(i=n.callSync)!==null&&i!==void 0?i:!0,l=await(r!==void 0?await r:await pe(this,Pn,"f"));if(!l)throw new No("This identity has expired due this application's security policy. Please refresh your authentication.");const c=je.from(t),p=n.effectiveCanisterId?je.from(n.effectiveCanisterId):c,w=l.getPrincipal()||je.anonymous();let _=new wo(pe(this,ti,"f")*bo);Math.abs(pe(this,Mi,"f"))>1e3*30&&(_=new wo(pe(this,ti,"f")*bo+pe(this,Mi,"f")));const E={request_type:_d.Call,canister_id:c,method_name:n.methodName,arg:n.arg,sender:w,ingress_expiry:_};let h=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},pe(this,mn,"f")?{Authorization:"Basic "+btoa(pe(this,mn,"f"))}:{})},endpoint:"call",body:E}),A;n!=null&&n.nonce?A=C(n.nonce):h.body.nonce?A=C(h.body.nonce):A=void 0,E.nonce=A;function C(b){return new Uint8Array(b)}h=await l.transformRequest(h);const Z=Jc(h.body),k=pe(this,ei,"f").call(this),j=ka(E);try{const b=()=>(this.log.print(`fetching "/api/v3/canister/${p.toText()}/call" with request:`,h),pe(this,Wn,"f").call(this,""+new URL(`/api/v3/canister/${p.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,Ys,"f")),h.request),{body:Z}))),x=()=>(this.log.print(`fetching "/api/v2/canister/${p.toText()}/call" with request:`,h),pe(this,Wn,"f").call(this,""+new URL(`/api/v2/canister/${p.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,Ys,"f")),h.request),{body:Z}))),$=await pe(this,Tt,"m",Lo).call(this,{request:o?b:x,backoff:k,tries:0}),M=await $.arrayBuffer(),W=$.status===200&&M.byteLength>0?er(M):null;if(W&&"certificate"in W){const re=await this.parseTimeFromResponse({certificate:W.certificate});yt(this,Zs,re,"f")}return{requestId:j,response:{ok:$.ok,status:$.status,statusText:$.statusText,body:W,headers:Hs($.headers)},requestDetails:E}}catch(b){if(b.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},n),{callSync:!1}),r);const x=`Error while making call: ${(s=b.message)!==null&&s!==void 0?s:String(b)}`,I=new x_(x,b,Ke(j),Ke(h.body.sender_pubkey),Ke(h.body.sender_sig),String(h.body.content.ingress_expiry._value));throw this.log.error(x,I),I}}async query(t,n,r){var i,s,o,l;await pe(this,Tt,"m",ri).call(this);const c=pe(this,ei,"f").call(this),p=n.effectiveCanisterId?je.from(n.effectiveCanisterId):je.from(t);this.log.print(`ecid ${p.toString()}`),this.log.print(`canisterId ${t.toString()}`);let w,_;const E=await(r!==void 0?r:pe(this,Pn,"f"));if(!E)throw new No("This identity has expired due this application's security policy. Please refresh your authentication.");const h=je.from(t),A=(E==null?void 0:E.getPrincipal())||je.anonymous(),C={request_type:"query",canister_id:h,method_name:n.methodName,arg:n.arg,sender:A,ingress_expiry:new wo(pe(this,ti,"f")*bo)},Z=ka(C);w=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},pe(this,mn,"f")?{Authorization:"Basic "+btoa(pe(this,mn,"f"))}:{})},endpoint:"read",body:C}),w=await(E==null?void 0:E.transformRequest(w));const k=Jc(w.body),j={canister:h.toText(),ecid:p,transformedRequest:w,body:k,requestId:Z,backoff:c,tries:0},b=async()=>({requestDetails:C,query:await pe(this,Tt,"m",w1).call(this,j)}),x=async()=>{if(!pe(this,si,"f"))return;const I=pe(this,ni,"f").get(p.toString());return I||(await this.fetchSubnetKeys(p.toString()),pe(this,ni,"f").get(p.toString()))};try{const[I,$]=await Promise.all([b(),x()]);_=I;const{requestDetails:M,query:W}=_,re=Object.assign(Object.assign({},W),{requestDetails:M});if(this.log.print("Query response:",re),!pe(this,si,"f"))return re;try{return pe(this,Jo,"f").call(this,re,$)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),pe(this,ni,"f").delete(t.toString()),await this.fetchSubnetKeys(p.toString());const ae=pe(this,ni,"f").get(t.toString());if(!ae)throw new Un("Invalid signature from replica signed query: no matching node key found.");return pe(this,Jo,"f").call(this,re,ae)}}catch(I){const $=`Error while making call: ${(i=I.message)!==null&&i!==void 0?i:String(I)}`,M=new __($,I,String(Z),Ke((s=w==null?void 0:w.body)===null||s===void 0?void 0:s.sender_pubkey),Ke((o=w==null?void 0:w.body)===null||o===void 0?void 0:o.sender_sig),String((l=w==null?void 0:w.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error($,M),M}}async createReadStateRequest(t,n){await pe(this,Tt,"m",ri).call(this);const r=await(n!==void 0?await n:await pe(this,Pn,"f"));if(!r)throw new No("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(r==null?void 0:r.getPrincipal())||je.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},pe(this,mn,"f")?{Authorization:"Basic "+btoa(pe(this,mn,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new wo(pe(this,ti,"f")*bo)}});return r==null?void 0:r.transformRequest(s)}async readState(t,n,r,i){var s,o,l,c;function p(C){for(const Z of C.paths){const[k,j]=Z,b=Jn(new TextEncoder().encode("request_status"));if(Va(k,b))return j}}const w=p(n);await pe(this,Tt,"m",ri).call(this);const _=typeof t=="string"?je.fromText(t):t,E=i??await this.createReadStateRequest(n,r),h=Jc(E.body);this.log.print(`fetching "/api/v2/canister/${_}/read_state" with request:`,E);const A=pe(this,ei,"f").call(this);try{const C=await pe(this,Tt,"m",Lo).call(this,{request:()=>pe(this,Wn,"f").call(this,""+new URL(`/api/v2/canister/${_.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,rs,"f")),E.request),{body:h})),backoff:A,tries:0});if(!C.ok)throw new Error(`Server returned an error:
  Code: ${C.status} (${C.statusText})
  Body: ${await C.text()}
`);const Z=er(await C.arrayBuffer());this.log.print("Read state response:",Z);const k=await this.parseTimeFromResponse(Z);return k>0&&(this.log.print("Read state response time:",k),yt(this,Zs,k,"f")),Z}catch(C){const Z=`Caught exception while attempting to read state: ${(s=C.message)!==null&&s!==void 0?s:String(C)}`,k=new b_(Z,C,String(w),Ke((o=E==null?void 0:E.body)===null||o===void 0?void 0:o.sender_pubkey),Ke((l=E==null?void 0:E.body)===null||l===void 0?void 0:l.sender_sig),String((c=E==null?void 0:E.body)===null||c===void 0?void 0:c.content.ingress_expiry._value));throw this.log.error(Z,k),k}}async parseTimeFromResponse(t){let n;if(t.certificate){const r=er(t.certificate);if(r&&"tree"in r)n=r.tree;else throw new Error("Could not decode time from response");const i=bs(["time"],n);if(i.status!==ot.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const s=Hf(Jn(i.value));return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await pe(this,Tt,"m",ri).call(this);const n=await kx(()=>Promise.resolve().then(()=>lb),void 0),r=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=ui.createSync({identity:new Rl,host:this.host.toString(),fetch:pe(this,Wn,"f"),retryTimes:0}),o=(await n.request({canisterId:t??je.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");o&&(yt(this,Mi,Number(o)-Number(r),"f"),this.log.notify({message:`Syncing time: offset of ${pe(this,Mi,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=pe(this,mn,"f")?{Authorization:"Basic "+btoa(pe(this,mn,"f"))}:{};this.log.print('fetching "/api/v2/status"');const n=pe(this,ei,"f").call(this),r=await pe(this,Tt,"m",Lo).call(this,{backoff:n,request:()=>pe(this,Wn,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},pe(this,rs,"f"))),tries:0});return er(await r.arrayBuffer())}async fetchRootKey(){let t;return pe(this,Jr,"f")?t=await pe(this,Jr,"f"):(yt(this,Jr,new Promise((n,r)=>{this.status().then(i=>{const s=i.root_key;this.rootKey=s,n(s)}).catch(r)}),"f"),t=await pe(this,Jr,"f")),yt(this,Jr,null,"f"),t}invalidateIdentity(){yt(this,Pn,null,"f")}replaceIdentity(t){yt(this,Pn,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await pe(this,Tt,"m",ri).call(this);const n=je.from(t),i=(await i1({canisterId:n,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return pe(this,ni,"f").set(n.toText(),i),i}_transform(t){let n=Promise.resolve(t);if(t.endpoint==="call")for(const r of pe(this,Vi,"f"))n=n.then(i=>r(i).then(s=>s||i));else for(const r of pe(this,$i,"f"))n=n.then(i=>r(i).then(s=>s||i));return n}}Jr=new WeakMap,ds=new WeakMap,Pn=new WeakMap,Wn=new WeakMap,rs=new WeakMap,Ys=new WeakMap,Mi=new WeakMap,mn=new WeakMap,gn=new WeakMap,ei=new WeakMap,ti=new WeakMap,Zs=new WeakMap,$i=new WeakMap,Vi=new WeakMap,ni=new WeakMap,si=new WeakMap,Jo=new WeakMap,Tt=new WeakSet,w1=async function e(t){var n,r;const{ecid:i,transformedRequest:s,body:o,requestId:l,backoff:c,tries:p}=t,w=p===0?0:c.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:p,backoff:c,delay:w}),w===null)throw new Le(`Timestamp failed to pass the watermark after retrying the configured ${pe(this,gn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);w>0&&await new Promise(A=>setTimeout(A,w));let _;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);const A=await pe(this,Wn,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,rs,"f")),s.request),{body:o}));if(A.status===200){const C=er(await A.arrayBuffer());_=Object.assign(Object.assign({},C),{httpDetails:{ok:A.ok,status:A.status,statusText:A.statusText,headers:Hs(A.headers)},requestId:l})}else throw new eu(`Gateway returned an error:
  Code: ${A.status} (${A.statusText})
  Body: ${await A.text()}
`,{ok:A.ok,status:A.status,statusText:A.statusText,headers:Hs(A.headers)})}catch(A){if(p<pe(this,gn,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${A}
  Retrying query.`),await pe(this,Tt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:p+1}));throw A}const E=(r=(n=_.signatures)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.timestamp;if(!pe(this,si,"f"))return _;if(!E)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const h=Number(BigInt(E)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:h}),Number(this.waterMark)>h){const A=new Le("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",A,{timestamp:E,waterMark:this.waterMark}),p<pe(this,gn,"f"))return await pe(this,Tt,"m",e).call(this,Object.assign(Object.assign({},t),{tries:p+1}));throw new Le(`Timestamp failed to pass the watermark after retrying the configured ${pe(this,gn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return _},Lo=async function e(t){const{request:n,backoff:r,tries:i}=t,s=i===0?0:r.next();if(s===null)throw new Le(`Timestamp failed to pass the watermark after retrying the configured ${pe(this,gn,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(p=>setTimeout(p,s));let o;try{o=await n()}catch(p){if(pe(this,gn,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${p}
  Retrying request.`),await pe(this,Tt,"m",e).call(this,{request:n,backoff:r,tries:i+1});throw p}if(o.ok)return o;const l=await o.clone().text(),c=`Server returned an error:
  Code: ${o.status} (${o.statusText})
  Body: ${l}
`;if(o.status===404&&o.url.includes("api/v3"))throw new eu("v3 api not supported. Fall back to v2",{ok:o.ok,status:o.status,statusText:o.statusText,headers:Hs(o.headers)});if(i<pe(this,gn,"f"))return await pe(this,Tt,"m",e).call(this,{request:n,backoff:r,tries:i+1});throw new eu(c,{ok:o.ok,status:o.status,statusText:o.statusText,headers:Hs(o.headers)})},ri=async function(){if(!this.rootKey)if(this.rootKey===null&&pe(this,ds,"f"))await this.fetchRootKey();else throw new Le(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${pe(this,ds,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var K0;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(K0||(K0={}));function W0(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const Ob=5*60*1e3;function v1(){return $b(Ub(Fb(),1e3),Mb(1e3,1.2),Ib(Ob))}function Fb(){let e=!0;return async()=>e?(e=!1,!0):!1}function Ub(e,t){return async(n,r,i)=>{if(await e(n,r,i))return new Promise(s=>setTimeout(s,t))}}function Ib(e){const t=Date.now()+e;return async(n,r,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${Ke(r)}
  Request status: ${i}
`)}}function Mb(e,t){let n=e;return()=>new Promise(r=>setTimeout(()=>{n*=t,r()},n))}function $b(...e){return async(t,n,r)=>{for(const i of e)await i(t,n,r)}}async function x1(e,t,n,r=v1(),i,s){var o;const l=[new TextEncoder().encode("request_status"),n],c=i??await((o=e.createReadStateRequest)===null||o===void 0?void 0:o.call(e,{paths:[l]})),p=await e.readState(t,{paths:[l]},void 0,c);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const w=await hi.create({certificate:p.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:s}),_=an(w.lookup([...l,new TextEncoder().encode("status")]));let E;switch(typeof _>"u"?E=Yn.Unknown:E=new TextDecoder().decode(_),E){case Yn.Replied:return{reply:an(w.lookup([...l,"reply"])),certificate:w};case Yn.Received:case Yn.Unknown:case Yn.Processing:return await r(t,n,E),x1(e,t,n,r,c,s);case Yn.Rejected:{const h=new Uint8Array(an(w.lookup([...l,"reject_code"])))[0],A=new TextDecoder().decode(an(w.lookup([...l,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Ke(n)}
  Reject code: ${h}
  Reject text: ${A}
`)}case Yn.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Ke(n)}
`)}throw new Error("unreachable")}const Vb=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),n=e.Text,r=e.Record({network:t,address:n,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,s=i,o=e.Nat32,l=e.Record({start_height:o,end_height:e.Opt(o),network:t}),c=e.Vec(e.Nat8),p=e.Record({tip_height:o,block_headers:e.Vec(c)}),w=e.Record({network:t}),_=e.Nat64,E=e.Vec(_),h=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:n}),A=e.Vec(e.Nat8),C=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),Z=e.Record({height:e.Nat32,value:i,outpoint:C}),k=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:o,tip_block_hash:A,utxos:e.Vec(Z)}),j=e.Record({transaction:e.Vec(e.Nat8),network:t}),b=e.Principal,x=e.Record({canister_id:b,num_requested_changes:e.Opt(e.Nat64)}),I=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),$=e.Vec(e.Nat8),M=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:$}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),W=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:I,details:M}),re=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(W),total_num_changes:e.Nat64}),Y=e.Record({canister_id:b}),ae=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),P=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ae,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),F=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:P,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),X=e.Record({canister_id:b}),te=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ae),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),oe=e.Record({settings:e.Opt(te),sender_canister_version:e.Opt(e.Nat64)}),ye=e.Record({canister_id:b}),G=e.Record({canister_id:b}),D=e.Record({canister_id:b,snapshot_id:$}),ee=e.Record({canister_id:b}),ne=e.Variant({secp256k1:e.Null}),le=e.Record({key_id:e.Record({name:e.Text,curve:ne}),canister_id:e.Opt(b),derivation_path:e.Vec(e.Vec(e.Nat8))}),ie=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),N=e.Record({canister_id:b}),ce=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),de=e.Record({canister_log_records:e.Vec(ce)}),me=e.Record({value:e.Text,name:e.Text}),se=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(me)}),he=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:se})],[se],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(me)}),S=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),B=e.Record({hash:e.Vec(e.Nat8)}),O=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:S,chunk_hashes_list:e.Vec(B),target_canister:b,store_canister:e.Opt(b),sender_canister_version:e.Opt(e.Nat64)}),q=e.Vec(e.Nat8),V=e.Record({arg:e.Vec(e.Nat8),wasm_module:q,mode:S,canister_id:b,sender_canister_version:e.Opt(e.Nat64)}),K=e.Record({canister_id:b}),y=e.Record({id:$,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),u=e.Vec(y),d=e.Record({canister_id:b,sender_canister_version:e.Opt(e.Nat64),snapshot_id:$}),v=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),T=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),U=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(T)})),Q=e.Record({settings:e.Opt(te),specified_id:e.Opt(b),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),ue=e.Record({canister_id:b}),ge=e.Record({canister_id:b,amount:e.Nat}),xe=e.Vec(e.Nat8),Te=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),g=e.Record({key_id:e.Record({algorithm:Te,name:e.Text}),canister_id:e.Opt(b),derivation_path:e.Vec(e.Vec(e.Nat8))}),f=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),m=e.Record({key_id:e.Record({name:e.Text,curve:ne}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),R=e.Record({signature:e.Vec(e.Nat8)}),H=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),J=e.Record({aux:e.Opt(H),key_id:e.Record({algorithm:Te,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),L=e.Record({signature:e.Vec(e.Nat8)}),Ee=e.Record({canister_id:b}),Ae=e.Record({canister_id:b}),Se=e.Record({canister_id:b}),Ne=e.Vec(B),Fe=e.Record({subnet_id:e.Principal}),ze=e.Record({replica_version:e.Text}),yc=e.Record({replace_snapshot:e.Opt($),canister_id:b}),gc=y,wc=e.Record({canister_id:b,sender_canister_version:e.Opt(e.Nat64)}),vc=e.Record({canister_id:e.Principal,settings:te,sender_canister_version:e.Opt(e.Nat64)}),xc=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),dr=B;return e.Service({bitcoin_get_balance:e.Func([r],[s],[]),bitcoin_get_block_headers:e.Func([l],[p],[]),bitcoin_get_current_fee_percentiles:e.Func([w],[E],[]),bitcoin_get_utxos:e.Func([h],[k],[]),bitcoin_send_transaction:e.Func([j],[],[]),canister_info:e.Func([x],[re],[]),canister_status:e.Func([Y],[F],[]),clear_chunk_store:e.Func([X],[],[]),create_canister:e.Func([oe],[ye],[]),delete_canister:e.Func([G],[],[]),delete_canister_snapshot:e.Func([D],[],[]),deposit_cycles:e.Func([ee],[],[]),ecdsa_public_key:e.Func([le],[ie],[]),fetch_canister_logs:e.Func([N],[de],["query"]),http_request:e.Func([he],[se],[]),install_chunked_code:e.Func([O],[],[]),install_code:e.Func([V],[],[]),list_canister_snapshots:e.Func([K],[u],[]),load_canister_snapshot:e.Func([d],[],[]),node_metrics_history:e.Func([v],[U],[]),provisional_create_canister_with_cycles:e.Func([Q],[ue],[]),provisional_top_up_canister:e.Func([ge],[],[]),raw_rand:e.Func([],[xe],[]),schnorr_public_key:e.Func([g],[f],[]),sign_with_ecdsa:e.Func([m],[R],[]),sign_with_schnorr:e.Func([J],[L],[]),start_canister:e.Func([Ee],[],[]),stop_canister:e.Func([Ae],[],[]),stored_chunks:e.Func([Se],[Ne],[]),subnet_info:e.Func([Fe],[ze],[]),take_canister_snapshot:e.Func([yc],[gc],[]),uninstall_code:e.Func([wc],[],[]),update_settings:e.Func([vc],[],[]),upload_chunk:e.Func([xc],[dr],[])})};class _1 extends Le{constructor(t,n,r,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${n} (${r})`,...Object.getOwnPropertyNames(i).map(s=>`  "${s}": ${JSON.stringify(i[s])}`)].join(`
`)),this.canisterId=t,this.methodName=n,this.type=r,this.props=i}}class zb extends _1{constructor(t,n,r){var i;super(t,n,"query",{Status:r.status,Code:(i=dd[r.reject_code])!==null&&i!==void 0?i:`Unknown Code "${r.reject_code}"`,Message:r.reject_message}),this.result=r}}class Y0 extends _1{constructor(t,n,r,i,s,o,l){super(t,n,"update",Object.assign({"Request ID":Ke(r)},i.body?Object.assign(Object.assign({},l?{"Error code":l}:{}),{"Reject code":String(s),"Reject message":o}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=r,this.response=i,this.reject_code=s,this.reject_message=o,this.error_code=l}}const nn=Symbol.for("ic-agent-metadata");class Ka{constructor(t){this[nn]=Object.freeze(t)}static agentOf(t){return t[nn].config.agent}static interfaceOf(t){return t[nn].service}static canisterIdOf(t){return je.from(t[nn].config.canisterId)}static async install(t,n){const r=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],s=[...new Uint8Array(t.module)],o=typeof n.canisterId=="string"?je.fromText(n.canisterId):n.canisterId;await Z0(n).install_code({mode:r,arg:i,wasm_module:s,canister_id:o,sender_canister_version:[]})}static async createCanister(t,n){function r(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await Z0(t||{}).provisional_create_canister_with_cycles({amount:[],settings:r(n||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,n,r){const i=await this.createCanister(r);return await this.install(Object.assign({},n),Object.assign(Object.assign({},r),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},r),{canisterId:i}))}static createActorClass(t,n){const r=t({IDL:g2});class i extends Ka{constructor(o){if(!o.canisterId)throw new Le(`Canister ID is required, but received ${typeof o.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const l=typeof o.canisterId=="string"?je.fromText(o.canisterId):o.canisterId;super({config:Object.assign(Object.assign(Object.assign({},b1),o),{canisterId:l}),service:r});for(const[c,p]of r._fields)n!=null&&n.httpDetails&&p.annotations.push(kd),n!=null&&n.certificate&&p.annotations.push(N1),this[c]=qb(this,c,p,o.blsVerify)}}return i}static createActor(t,n){if(!n.canisterId)throw new Le(`Canister ID is required, but received ${typeof n.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(n)}static createActorWithHttpDetails(t,n){return new(this.createActorClass(t,{httpDetails:!0}))(n)}static createActorWithExtendedDetails(t,n,r={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,r))(n)}}function Oi(e,t){const n=Vy(e,_y.Buffer.from(t));switch(n.length){case 0:return;case 1:return n[0];default:return n}}const b1={pollingStrategyFactory:v1},kd="http-details",N1="certificate";function qb(e,t,n,r){let i;n.annotations.includes("query")||n.annotations.includes("composite_query")?i=async(o,...l)=>{var c,p;o=Object.assign(Object.assign({},o),(p=(c=e[nn].config).queryTransform)===null||p===void 0?void 0:p.call(c,t,l,Object.assign(Object.assign({},e[nn].config),o)));const w=o.agent||e[nn].config.agent||W0(),_=je.from(o.canisterId||e[nn].config.canisterId),E=hd(n.argTypes,l),h=await w.query(_,{methodName:t,arg:E,effectiveCanisterId:o.effectiveCanisterId}),A=Object.assign(Object.assign({},h.httpDetails),{requestDetails:h.requestDetails});switch(h.status){case"rejected":throw new zb(_,t,h);case"replied":return n.annotations.includes(kd)?{httpDetails:A,result:Oi(n.retTypes,h.reply.arg)}:Oi(n.retTypes,h.reply.arg)}}:i=async(o,...l)=>{var c,p;o=Object.assign(Object.assign({},o),(p=(c=e[nn].config).callTransform)===null||p===void 0?void 0:p.call(c,t,l,Object.assign(Object.assign({},e[nn].config),o)));const w=o.agent||e[nn].config.agent||W0(),{canisterId:_,effectiveCanisterId:E,pollingStrategyFactory:h}=Object.assign(Object.assign(Object.assign({},b1),e[nn].config),o),A=je.from(_),C=E!==void 0?je.from(E):A,Z=hd(n.argTypes,l),{requestId:k,response:j,requestDetails:b}=await w.call(A,{methodName:t,arg:Z,effectiveCanisterId:C});let x,I;if(j.body&&j.body.certificate){if(w.rootKey==null)throw new Error("Agent is missing root key");const re=j.body.certificate;I=await hi.create({certificate:vi(re),rootKey:w.rootKey,canisterId:je.from(_),blsVerify:r});const Y=[new TextEncoder().encode("request_status"),k];switch(new TextDecoder().decode(an(I.lookup([...Y,"status"])))){case"replied":x=an(I.lookup([...Y,"reply"]));break;case"rejected":{const P=new Uint8Array(an(I.lookup([...Y,"reject_code"])))[0],F=new TextDecoder().decode(an(I.lookup([...Y,"reject_message"]))),X=an(I.lookup([...Y,"error_code"])),te=X?new TextDecoder().decode(X):void 0;throw new Y0(A,t,k,j,P,F,te)}}}else if(j.body&&"reject_message"in j.body){const{reject_code:re,reject_message:Y,error_code:ae}=j.body;throw new Y0(A,t,k,j,re,Y,ae)}if(j.status===202){const re=h(),Y=await x1(w,C,k,re,r);I=Y.certificate,x=Y.reply}const $=n.annotations.includes(kd),M=n.annotations.includes(N1),W=Object.assign(Object.assign({},j),{requestDetails:b});if(x!==void 0)return $&&M?{httpDetails:W,certificate:I,result:Oi(n.retTypes,x)}:M?{certificate:I,result:Oi(n.retTypes,x)}:$?{httpDetails:W,result:Oi(n.retTypes,x)}:Oi(n.retTypes,x);if(n.retTypes.length===0)return $?{httpDetails:j,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${n.retTypes.join(",")}].`)};const s=(...o)=>i({},...o);return s.withOptions=o=>(...l)=>i(o,...l),s}function Z0(e){function t(n,r){if(e.effectiveCanisterId)return{effectiveCanisterId:je.from(e.effectiveCanisterId)};const i=r[0];let s=je.fromHex("");return i&&typeof i=="object"&&i.target_canister&&n==="install_chunked_code"&&(s=je.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(s=je.from(i.canister_id)),{effectiveCanisterId:s}}return Ka.createActor(Vb,Object.assign(Object.assign(Object.assign({},e),{canisterId:je.fromHex("")}),{callTransform:t,queryTransform:t}))}var $l=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Er=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},el,tl,zi,qi;function Q0(e){return e!==null&&typeof e=="object"}class tr{constructor(t){if(el.set(this,void 0),tl.set(this,void 0),t.byteLength!==tr.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");$l(this,el,Jn(t),"f"),$l(this,tl,tr.derEncode(t),"f")}static from(t){if(typeof t=="string"){const n=rr(t);return this.fromRaw(n)}else if(Q0(t)){const n=t;if(Q0(n)&&Object.hasOwnProperty.call(n,"__derEncodedPublicKey__"))return this.fromDer(n);if(ArrayBuffer.isView(n)){const r=n;return this.fromRaw(Jn(r.buffer))}else{if(n instanceof ArrayBuffer)return this.fromRaw(n);if("rawKey"in n)return this.fromRaw(n.rawKey);if("derKey"in n)return this.fromDer(n.derKey);if("toDer"in n)return this.fromDer(n.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new tr(t)}static fromDer(t){return new tr(this.derDecode(t))}static derEncode(t){const n=c1(t,Ml).buffer;return n.__derEncodedPublicKey__=void 0,n}static derDecode(t){const n=u1(t,Ml);if(n.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return Jn(n)}get rawKey(){return Er(this,el,"f")}get derKey(){return Er(this,tl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}el=new WeakMap,tl=new WeakMap;tr.RAW_KEY_LENGTH=32;class Rr extends Mf{constructor(t,n){super(),zi.set(this,void 0),qi.set(this,void 0),$l(this,zi,tr.from(t),"f"),$l(this,qi,new Uint8Array(n),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=Ui.utils.randomPrivateKey()),Va(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const n=new Uint8Array(32);for(let i=0;i<32;i++)n[i]=new Uint8Array(t)[i];const r=Ui.getPublicKey(n);return Rr.fromKeyPair(r,n)}static fromParsedJson(t){const[n,r]=t;return new Rr(tr.fromDer(rr(n)),rr(r))}static fromJSON(t){const n=JSON.parse(t);if(Array.isArray(n)){if(typeof n[0]=="string"&&typeof n[1]=="string")return this.fromParsedJson([n[0],n[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,n){return new Rr(tr.fromRaw(t),n)}static fromSecretKey(t){const n=Ui.getPublicKey(new Uint8Array(t));return Rr.fromKeyPair(n,t)}toJSON(){return[Ke(Er(this,zi,"f").toDer()),Ke(Er(this,qi,"f"))]}getKeyPair(){return{secretKey:Er(this,qi,"f"),publicKey:Er(this,zi,"f")}}getPublicKey(){return Er(this,zi,"f")}async sign(t){const n=new Uint8Array(t),r=ia(Ui.sign(n,Er(this,qi,"f").slice(0,32)));return Object.defineProperty(r,"__signature__",{enumerable:!1,value:void 0}),r}static verify(t,n,r){const[i,s,o]=[t,n,r].map(l=>(typeof l=="string"&&(l=rr(l)),l instanceof Uint8Array&&(l=Jn(l.buffer)),new Uint8Array(l)));return Ui.verify(i,s,o)}}zi=new WeakMap,qi=new WeakMap;class Kf extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,Kf.prototype)}}function X0(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new Kf("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Vl extends Mf{constructor(t,n,r){super(),this._keyPair=t,this._derKey=n,this._subtleCrypto=r}static async generate(t){const{extractable:n=!1,keyUsages:r=["sign","verify"],subtleCrypto:i}=t??{},s=X0(i),o=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},n,r),l=await s.exportKey("spki",o.publicKey);return new this(o,l,s)}static async fromKeyPair(t,n){const r=X0(n),i=await r.exportKey("spki",t.publicKey);return new Vl(t,i,r)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,n=Object.create(this._keyPair.publicKey);return n.toDer=function(){return t},n}async sign(t){const n={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(n,this._keyPair.privateKey,t)}}var Hb=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Fi=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gn;class Gb{constructor(t){Gn.set(this,void 0),Hb(this,Gn,t,"f")}get rawKey(){return Fi(this,Gn,"f").rawKey}get derKey(){return Fi(this,Gn,"f").derKey}toDer(){return Fi(this,Gn,"f").toDer()}getPublicKey(){return Fi(this,Gn,"f")}getPrincipal(){if(!Fi(this,Gn,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return je.fromUint8Array(new Uint8Array(Fi(this,Gn,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Gn=new WeakMap;var Kb=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Wb=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Yb=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},nl;const Zb=new TextEncoder().encode("ic-request-auth-delegation"),Qb=new TextEncoder().encode(`
ic-request`);function uu(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return rr(e)}class Wf{constructor(t,n,r){this.pubkey=t,this.expiration=n,this.targets=r}toCBOR(){return zt.value.map(Object.assign({pubkey:zt.value.bytes(this.pubkey),expiration:zt.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:zt.value.array(this.targets.map(t=>zt.value.bytes(vi(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Ke(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function Xb(e,t,n,r){const i=new Wf(t.toDer(),BigInt(+n)*BigInt(1e6),r),s=new Uint8Array([...Zb,...new Uint8Array(ka(Object.assign({},i)))]),o=await e.sign(vi(s));return{delegation:i,signature:o}}class zl{constructor(t,n){this.delegations=t,this.publicKey=n}static async create(t,n,r=new Date(Date.now()+15*60*1e3),i={}){var s,o;const l=await Xb(t,n,r,i.targets);return new zl([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],l],((o=i.previous)===null||o===void 0?void 0:o.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:n,delegations:r}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(r))throw new Error("Invalid delegations.");const i=r.map(s=>{const{delegation:o,signature:l}=s,{pubkey:c,expiration:p,targets:w}=o;if(w!==void 0&&!Array.isArray(w))throw new Error("Invalid targets.");return{delegation:new Wf(uu(c),BigInt("0x"+p),w&&w.map(_=>{if(typeof _!="string")throw new Error("Invalid target.");return je.fromHex(_)})),signature:uu(l)}});return new this(i,uu(n))}static fromDelegations(t,n){return new this(t,n)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:n,signature:r}=t,{targets:i}=n;return{delegation:Object.assign({expiration:n.expiration.toString(16),pubkey:Ke(n.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Ke(r)}}),publicKey:Ke(this.publicKey)}}}class D0 extends Mf{constructor(t,n){super(),this._inner=t,this._delegation=n}static fromDelegation(t,n){return new this(t,n)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:n}=t,r=Yb(t,["body"]),i=await ka(n);return Object.assign(Object.assign({},r),{body:{content:n,sender_sig:await this.sign(vi(new Uint8Array([...Qb,...new Uint8Array(i)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class ql extends Gb{constructor(t,n){super(t),nl.set(this,void 0),Kb(this,nl,n,"f")}get delegation(){return Wb(this,nl,"f")}static fromDelegation(t,n){return new ql(t,n)}}nl=new WeakMap;function Db(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const n=[],r=t==null?void 0:t.scope;r&&(Array.isArray(r)?n.push(...r.map(i=>typeof i=="string"?je.fromText(i):i)):n.push(typeof r=="string"?je.fromText(r):r));for(const i of n){const s=i.toText();for(const{delegation:o}of e.delegations){if(o.targets===void 0)continue;let l=!0;for(const c of o.targets)if(c.toText()===s){l=!1;break}if(l)return!1}}return!0}var L0;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(L0||(L0={}));const J0=["mousedown","mousemove","keydown","touchstart","wheel"];class ep{constructor(t={}){var n;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:r,idleTimeout:i=10*60*1e3}=t||{};this.callbacks=r?[r]:[],this.idleTimeout=i;const s=this._resetTimer.bind(this);window.addEventListener("load",s,!0),J0.forEach(function(l){document.addEventListener(l,s,!0)});const o=(l,c)=>{let p;return(...w)=>{const _=this,E=function(){p=void 0,l.apply(_,w)};clearTimeout(p),p=window.setTimeout(E,c)}};if(t!=null&&t.captureScroll){const l=o(s,(n=t==null?void 0:t.scrollDebounce)!==null&&n!==void 0?n:100);window.addEventListener("scroll",l,!0)}s()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);J0.forEach(function(n){document.removeEventListener(n,t,!0)}),this.callbacks.forEach(n=>n())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const Lb=(e,t)=>t.some(n=>e instanceof n);let tp,np;function Jb(){return tp||(tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eN(){return np||(np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,Bd=new WeakMap,S1=new WeakMap,du=new WeakMap,Yf=new WeakMap;function tN(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Hr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&E1.set(n,e)}).catch(()=>{}),Yf.set(t,e),t}function nN(e){if(Bd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Bd.set(e,t)}let Cd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Bd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||S1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rN(e){Cd=e(Cd)}function iN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(fu(this),t,...n);return S1.set(r,t.sort?t.sort():[t]),Hr(r)}:eN().includes(e)?function(...t){return e.apply(fu(this),t),Hr(E1.get(this))}:function(...t){return Hr(e.apply(fu(this),t))}}function sN(e){return typeof e=="function"?iN(e):(e instanceof IDBTransaction&&nN(e),Lb(e,Jb())?new Proxy(e,Cd):e)}function Hr(e){if(e instanceof IDBRequest)return tN(e);if(du.has(e))return du.get(e);const t=sN(e);return t!==e&&(du.set(e,t),Yf.set(t,e)),t}const fu=e=>Yf.get(e);function aN(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Hr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Hr(o.result),c.oldVersion,c.newVersion,Hr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}const oN=["get","getKey","getAll","getAllKeys","count"],lN=["put","add","delete","clear"],hu=new Map;function rp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hu.get(t))return hu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=lN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oN.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let p=c.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[n](...l),i&&c.done]))[0]};return hu.set(t,s),s}rN(e=>({...e,get:(t,n,r)=>rp(t,n)||e.get(t,n,r),has:(t,n)=>!!rp(t,n)||e.has(t,n)}));const j1="auth-client-db",T1="ic-keyval",cN=async(e=j1,t=T1,n)=>(A1&&(localStorage!=null&&localStorage.getItem(kr))&&(localStorage.removeItem(kr),localStorage.removeItem(Sr)),await aN(e,n,{upgrade:r=>{r.objectStoreNames.contains(t)&&r.clear(t),r.createObjectStore(t)}}));async function uN(e,t,n){return await e.get(t,n)}async function dN(e,t,n,r){return await e.put(t,r,n)}async function fN(e,t,n){return await e.delete(t,n)}class Zf{constructor(t,n){this._db=t,this._storeName=n}static async create(t){const{dbName:n=j1,storeName:r=T1,version:i=yN}=t??{},s=await cN(n,r,i);return new Zf(s,r)}async set(t,n){return await dN(this._db,this._storeName,t,n)}async get(t){var n;return(n=await uN(this._db,this._storeName,t))!==null&&n!==void 0?n:null}async remove(t){return await fN(this._db,this._storeName,t)}}var hN=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},pN=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},rl;const Sr="identity",kr="delegation",mN="iv",yN=1,A1=typeof window<"u";class gN{constructor(t="ic-",n){this.prefix=t,this._localStorage=n}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,n){return this._getLocalStorage().setItem(this.prefix+t,n),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class wN{constructor(t){rl.set(this,void 0),hN(this,rl,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}Zf.create(pN(this,rl,"f")).then(n=>{this.initializedDb=n,t(n)})})}async get(t){return await(await this._db).get(t)}async set(t,n){await(await this._db).set(t,n)}async remove(t){await(await this._db).remove(t)}}rl=new WeakMap;const vN="https://identity.internetcomputer.org",xN="#authorize",pu="ECDSA",mu="Ed25519",_N=500,bN="UserInterrupt";class NN{constructor(t,n,r,i,s,o,l,c){this._identity=t,this._key=n,this._chain=r,this._storage=i,this.idleManager=s,this._createOptions=o,this._idpWindow=l,this._eventHandler=c,this._registerDefaultIdleCallback()}static async create(t={}){var n,r,i;const s=(n=t.storage)!==null&&n!==void 0?n:new wN,o=(r=t.keyType)!==null&&r!==void 0?r:pu;let l=null;if(t.identity)l=t.identity;else{let _=await s.get(Sr);if(!_&&A1)try{const E=new gN,h=await E.get(kr),A=await E.get(Sr);h&&A&&o===pu&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await s.set(kr,h),await s.set(Sr,A),_=h,await E.remove(kr),await E.remove(Sr))}catch(E){console.error("error while attempting to recover localstorage: "+E)}if(_)try{typeof _=="object"?o===mu&&typeof _=="string"?l=await Rr.fromJSON(_):l=await Vl.fromKeyPair(_):typeof _=="string"&&(l=Rr.fromJSON(_))}catch{}}let c=new Rl,p=null;if(l)try{const _=await s.get(kr);if(typeof _=="object"&&_!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?c=t.identity:_&&(p=zl.fromJSON(_),Db(p)?"toDer"in l?c=ql.fromDelegation(l,p):c=D0.fromDelegation(l,p):(await yu(s),l=null))}catch(_){console.error(_),await yu(s),l=null}let w;return!((i=t.idleOptions)===null||i===void 0)&&i.disableIdle?w=void 0:(p||t.identity)&&(w=ep.create(t.idleOptions)),l||(o===mu?(l=await Rr.generate(),await s.set(Sr,JSON.stringify(l.toJSON()))):(t.storage&&o===pu&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${mu}' as the key type, as it can serialize to a string`),l=await Vl.generate(),await s.set(Sr,l.getKeyPair()))),new this(c,l,p,s,w,t)}_registerDefaultIdleCallback(){var t,n;const r=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(r!=null&&r.onIdle)&&!(r!=null&&r.disableDefaultIdleCallback)&&((n=this.idleManager)===null||n===void 0||n.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,n){var r,i;const s=t.delegations.map(p=>({delegation:new Wf(p.delegation.pubkey,p.delegation.expiration,p.delegation.targets),signature:p.signature.buffer})),o=zl.fromDelegations(s,t.userPublicKey.buffer),l=this._key;if(!l)return;this._chain=o,"toDer"in l?this._identity=ql.fromDelegation(l,this._chain):this._identity=D0.fromDelegation(l,this._chain),(r=this._idpWindow)===null||r===void 0||r.close();const c=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(c!=null&&c.disableIdle)&&(this.idleManager=ep.create(c),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(kr,JSON.stringify(this._chain.toJSON())),n==null||n(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var n,r,i,s;const o=BigInt(8)*BigInt(36e11),l=new URL(((n=t==null?void 0:t.identityProvider)===null||n===void 0?void 0:n.toString())||vN);l.hash=xN,(r=this._idpWindow)===null||r===void 0||r.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(l,Object.assign({maxTimeToLive:(i=t==null?void 0:t.maxTimeToLive)!==null&&i!==void 0?i:o},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(s=window.open(l.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&s!==void 0?s:void 0;const c=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(bN,t==null?void 0:t.onError):setTimeout(c,_N))};c()}_getEventHandler(t,n){return async r=>{var i,s,o;if(r.origin!==t.origin)return;const l=r.data;switch(l.kind){case"authorize-ready":{const c=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:n==null?void 0:n.maxTimeToLive,allowPinAuthentication:n==null?void 0:n.allowPinAuthentication,derivationOrigin:(s=n==null?void 0:n.derivationOrigin)===null||s===void 0?void 0:s.toString()},n==null?void 0:n.customValues);(o=this._idpWindow)===null||o===void 0||o.postMessage(c,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(l,n==null?void 0:n.onSuccess)}catch(c){this._handleFailure(c.message,n==null?void 0:n.onError)}break;case"authorize-client-failure":this._handleFailure(l.text,n==null?void 0:n.onError);break}}}_handleFailure(t,n){var r;(r=this._idpWindow)===null||r===void 0||r.close(),n==null||n(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await yu(this._storage),this._identity=new Rl,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function yu(e){await e.remove(Sr),await e.remove(kr),await e.remove(mN)}const EN=({IDL:e})=>{const t=e.Record({api_key_hash:e.Text,rate_limit_per_hour:e.Nat32,university_name:e.Text,api_endpoint:e.Text,is_active:e.Bool,supported_verification_types:e.Vec(e.Text)}),n=e.Variant({InvalidInput:e.Text,NetworkError:e.Text,NotFound:e.Text,Unauthorized:e.Text,AlreadyExists:e.Text,InternalError:e.Text,Expired:e.Text,InsufficientFunds:e.Text}),r=e.Variant({Ok:e.Null,Err:n}),i=e.Record({additional_documents:e.Vec(e.Text),student_id:e.Text,email:e.Text,university:e.Text,expected_graduation:e.Text,year_of_study:e.Nat32,full_name:e.Text,program:e.Text}),s=e.Variant({Low:e.Null,High:e.Null,Normal:e.Null,Urgent:e.Null}),o=e.Record({is_valid:e.Bool,student_id:e.Text,verification_method:e.Text,university:e.Text,verified_at:e.Nat64,confidence_score:e.Float64}),l=e.Variant({Ok:o,Err:n}),c=e.Variant({Rejected:e.Null,InProgress:e.Null,Verified:e.Null,Expired:e.Null,Pending:e.Null}),p=e.Record({id:e.Principal,gpa:e.Float64,updated_at:e.Nat64,student_id:e.Text,created_at:e.Nat64,email:e.Text,university:e.Text,year_of_study:e.Nat32,is_verified:e.Bool,kyc_status:c,full_name:e.Text,program:e.Text}),w=e.Variant({Ok:p,Err:n}),_=e.Variant({Failed:e.Null,InProgress:e.Null,Completed:e.Null,Expired:e.Null,Pending:e.Null}),E=e.Record({origin:e.Text,canister_id:e.Opt(e.Principal)}),h=e.Variant({Text:e.Text,Boolean:e.Bool,Number:e.Float64}),A=e.Record({arguments:e.Vec(e.Tuple(e.Text,h)),credential_type:e.Text}),C=e.Record({derivation_origin:e.Opt(e.Text),issuer:E,credential_subject:e.Principal,credential_spec:A}),Z=e.Record({claims:e.Vec(e.Tuple(e.Text,h)),verified:e.Bool,issued_at:e.Nat64,subject:e.Principal,issuer:e.Text,expires_at:e.Opt(e.Nat64),verifiable_presentation:e.Text,credential_type:e.Text}),k=e.Record({id:e.Text,status:_,user_principal:e.Principal,updated_at:e.Nat64,request:C,error_message:e.Opt(e.Text),created_at:e.Nat64,response:e.Opt(Z)}),j=e.Variant({Ok:k,Err:n}),b=e.Variant({Ok:e.Text,Err:n}),x=e.Record({total_amount:e.Nat64,completed_count:e.Nat32,active_count:e.Nat32,average_amount:e.Nat64,total_count:e.Nat32,failed_count:e.Nat32}),I=e.Record({verified_students:e.Nat32,average_verification_time_hours:e.Float64,expired_verifications:e.Nat32,total_students:e.Nat32,rejected_verifications:e.Nat32,pending_verifications:e.Nat32}),$=e.Variant({Ok:Z,Err:n}),M=e.Record({min_gpa:e.Opt(e.Float64),university:e.Opt(e.Text),year_of_study:e.Opt(e.Nat32),is_verified:e.Opt(e.Bool),kyc_status:e.Opt(c),max_gpa:e.Opt(e.Float64),program:e.Opt(e.Text)}),W=e.Record({offset:e.Nat32,limit:e.Nat32}),re=e.Record({offset:e.Nat32,limit:e.Nat32,items:e.Vec(p),total_count:e.Nat32,has_more:e.Bool}),Y=e.Variant({Ok:e.Bool,Err:n});return e.Service({add_university_config:e.Func([t],[r],[]),batch_verify_students:e.Func([e.Vec(i),s],[e.Vec(l)],[]),create_student_profile:e.Func([i],[w],[]),create_vc_verification_session:e.Func([e.Text,e.Opt(e.Principal),e.Text,e.Text],[j],[]),delete_my_profile:e.Func([],[r],[]),generate_verification_report:e.Func([e.Principal],[b],["query"]),get_all_verified_students:e.Func([],[e.Vec(p)],["query"]),get_my_profile:e.Func([],[e.Opt(p)],["query"]),get_my_vc_sessions:e.Func([],[e.Vec(k)],["query"]),get_platform_stats:e.Func([],[x],["query"]),get_student_profile:e.Func([e.Principal],[e.Opt(p)],["query"]),get_university_configs:e.Func([],[e.Vec(t)],["query"]),get_vc_session_status:e.Func([e.Text],[e.Opt(_)],["query"]),get_verification_stats:e.Func([],[I],["query"]),is_verification_expired:e.Func([e.Principal],[e.Bool],["query"]),process_vc_response:e.Func([e.Text,e.Text],[$],[]),search_students:e.Func([M,e.Opt(W)],[re],["query"]),update_kyc_status:e.Func([c],[w],[]),update_student_profile:e.Func([e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Text),e.Opt(e.Nat32)],[w],[]),verify_presentation:e.Func([e.Text],[Y],["query"]),verify_student:e.Func([e.Float64],[w],[]),verify_with_university_api:e.Func([e.Text,e.Text],[l],[])})},SN="vu5yx-eh777-77774-qaaga-cai",Rd=(e,t={})=>{const n=t.agent||new ui({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),Ka.createActor(EN,{agent:n,canisterId:e,...t.actorOptions})};Rd(SN);const jN=({navigateTo:e,isKycSubmitted:t,onLogout:n,currentPage:r})=>a.jsxs(a.Fragment,{children:[!t&&a.jsxs("nav",{className:"navbar",children:[a.jsxs("div",{className:"logo",children:["Studi",a.jsx("span",{className:"green",children:"fi"})]}),a.jsxs("ul",{className:"nav-menu",children:[a.jsx("li",{children:a.jsx("a",{href:"#",onClick:()=>e("home"),children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"#service",children:"Service"})}),a.jsx("li",{children:a.jsx("a",{href:"#about",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#contact",children:"Contact"})})]}),a.jsxs("div",{className:"nav-right",children:[a.jsx("a",{href:"#",className:"login-btn",onClick:()=>e("login"),children:"Login"}),a.jsx("button",{className:"get-started-btn",onClick:()=>e("kyc"),children:"Get Started Now"})]})]}),t&&a.jsxs("nav",{className:"sidebar",children:[a.jsxs("div",{className:"sidebar-header",children:[a.jsxs("div",{className:"logo",children:["Studi",a.jsx("span",{className:"green",children:"fi"})]}),a.jsxs("div",{className:"chain-indicator",children:[a.jsx("div",{className:"chain-dot"}),a.jsx("span",{className:"chain-text",children:"On-Chain"})]})]}),a.jsx("div",{className:"sidebar-content",children:a.jsxs("ul",{className:"sidebar-menu",children:[a.jsx("li",{className:"menu-item",children:a.jsxs("a",{href:"#",onClick:()=>e("dashboard"),className:`menu-link ${r==="dashboard"?"active":""}`,children:[a.jsx("div",{className:"menu-icon-wrapper",children:a.jsx("span",{className:"menu-icon",children:"📊"})}),a.jsx("span",{className:"menu-text",children:"Dashboard"}),a.jsx("div",{className:"menu-indicator"})]})}),a.jsx("li",{className:"menu-item",children:a.jsxs("a",{href:"#",onClick:()=>e("loan"),className:`menu-link ${r==="loan"?"active":""}`,children:[a.jsx("div",{className:"menu-icon-wrapper",children:a.jsx("span",{className:"menu-icon",children:"💰"})}),a.jsx("span",{className:"menu-text",children:"Loan"}),a.jsx("div",{className:"menu-indicator"})]})}),a.jsx("li",{className:"menu-item",children:a.jsxs("a",{href:"#",onClick:()=>e("scholarship"),className:`menu-link ${r==="scholarship"?"active":""}`,children:[a.jsx("div",{className:"menu-icon-wrapper",children:a.jsx("span",{className:"menu-icon",children:"🎓"})}),a.jsx("span",{className:"menu-text",children:"Scholarship"}),a.jsx("div",{className:"menu-indicator"})]})}),a.jsx("li",{className:"menu-item",children:a.jsxs("a",{href:"#",onClick:()=>e("payment"),className:`menu-link ${r==="payment"?"active":""}`,children:[a.jsx("div",{className:"menu-icon-wrapper",children:a.jsx("span",{className:"menu-icon",children:"💳"})}),a.jsx("span",{className:"menu-text",children:"Payment"}),a.jsx("div",{className:"menu-indicator"})]})})]})}),a.jsxs("div",{className:"sidebar-footer",children:[a.jsxs("div",{className:"user-section",children:[a.jsx("div",{className:"user-avatar",children:a.jsx("span",{className:"avatar-icon",children:"👤"})}),a.jsxs("div",{className:"user-info",children:[a.jsx("span",{className:"user-name",children:"John Doe"}),a.jsx("span",{className:"user-status",children:"Verified"})]})]}),a.jsxs("a",{href:"#",className:"logout-btn",onClick:n,children:[a.jsx("div",{className:"logout-icon-wrapper",children:a.jsx("span",{className:"menu-icon",children:"🚪"})}),a.jsx("span",{className:"logout-text",children:"Logout"})]})]})]})]});const TN=({navigateTo:e})=>a.jsxs(a.Fragment,{children:[a.jsx("section",{className:"section-one",id:"home",children:a.jsxs("div",{className:"hero-content",children:[a.jsxs("h1",{children:["Decentralized Education Finance",a.jsx("br",{}),"for the ",a.jsx("span",{className:"highlight",children:"Next Generation"})]}),a.jsx("p",{children:"Empowering students with transparent, community-driven funding on the Internet Computer blockchain. Zero fees, instant approvals, and scholarship opportunities powered by decentralized governance."}),a.jsxs("div",{className:"hero-buttons",children:[a.jsxs("button",{className:"cta-btn",onClick:()=>e("kyc"),children:[a.jsx("span",{className:"btn-icon",children:"🚀"}),"Start Your Journey"]}),a.jsxs("button",{className:"learn-btn",onClick:()=>e("defi-education"),children:[a.jsx("span",{className:"btn-icon",children:"📖"}),"Explore DeFi Education"]})]}),a.jsxs("div",{className:"stats-section",children:[a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-number",children:"5K+"}),a.jsx("div",{className:"stat-label",children:"Students Funded"})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx("div",{className:"rating",children:a.jsx("span",{className:"stat-number",children:"100%"})}),a.jsx("div",{className:"stat-label",children:"On-Chain"})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-number",children:"$8M"}),a.jsx("div",{className:"stat-label",children:"Total Value Locked"})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-number",children:"0%"}),a.jsx("div",{className:"stat-label",children:"Transaction Fees"})]})]})]})}),a.jsx("section",{className:"section-two",id:"why-choose",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"Hsection-header",children:[a.jsx("h2",{children:"Why Choose StudiFi?"}),a.jsx("p",{children:"Experience the future of education finance with blockchain-powered transparency, community governance, and zero-fee transactions"})]}),a.jsxs("div",{className:"features-grid",children:[a.jsxs("div",{className:"feature-card",children:[a.jsx("div",{className:"feature-icon",children:"🚀"}),a.jsx("h3",{children:"Instant Approval"}),a.jsx("p",{children:"AI-powered credit assessment provides decisions in under 5 seconds"})]}),a.jsxs("div",{className:"feature-card",children:[a.jsx("div",{className:"feature-icon",children:"💰"}),a.jsx("h3",{children:"Zero Fees"}),a.jsx("p",{children:"No transaction fees thanks to Internet Computer's reverse gas model"})]}),a.jsxs("div",{className:"feature-card",children:[a.jsx("div",{className:"feature-icon",children:"🎓"}),a.jsx("h3",{children:"Student-Centric"}),a.jsx("p",{children:"Designed specifically for students with flexible repayment terms"})]}),a.jsxs("div",{className:"feature-card",children:[a.jsx("div",{className:"feature-icon",children:"🏛️"}),a.jsx("h3",{children:"Community Governed"}),a.jsx("p",{children:"Stakeholders vote on policies and scholarship distributions"})]}),a.jsxs("div",{className:"feature-card",children:[a.jsx("div",{className:"feature-icon",children:"🔒"}),a.jsx("h3",{children:"Fully Compliant"}),a.jsx("p",{children:"Built-in KYC/AML compliance and regulatory reporting"})]}),a.jsxs("div",{className:"feature-card",children:[a.jsx("div",{className:"feature-icon",children:"🌐"}),a.jsx("h3",{children:"Decentralized"}),a.jsx("p",{children:"No single point of failure, runs entirely on blockchain"})]})]})]})}),a.jsx("section",{className:"section-three",id:"offerings",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"Hsection-header",children:[a.jsx("h2",{children:"DeFi Education Solutions"}),a.jsx("p",{children:"Access decentralized funding opportunities through our Internet Computer-powered platform. Join a community-driven ecosystem that puts students first."}),a.jsxs("button",{className:"cta-btn",onClick:()=>e("kyc"),children:[a.jsx("span",{className:"btn-icon",children:"⚡"}),"Join the Revolution"]})]}),a.jsxs("div",{className:"offerings-content",children:[a.jsx("div",{className:"education-image",children:a.jsx("div",{className:"image-placeholder",children:a.jsx("span",{children:"Education Excellence"})})}),a.jsxs("div",{className:"offerings-cards",children:[a.jsxs("div",{className:"offering-card",children:[a.jsx("div",{className:"card-icon"}),a.jsxs("div",{className:"card-header",children:[a.jsxs("div",{children:[a.jsx("h3",{children:"DeFi Student Loans"}),a.jsx("p",{className:"card-subtitle",children:"Blockchain-Powered Financing"})]}),a.jsx("button",{className:"learn-more-btn",onClick:()=>e("defi-education"),children:"Explore DeFi"})]}),a.jsx("p",{className:"card-description",children:"Access transparent, decentralized financing with zero fees and instant on-chain approval. Smart contracts ensure fair terms while community governance protects student interests."})]}),a.jsxs("div",{className:"offering-card",children:[a.jsx("div",{className:"card-icon"}),a.jsxs("div",{className:"card-header",children:[a.jsxs("div",{children:[a.jsx("h3",{children:"DAO Scholarship Fund"}),a.jsx("p",{className:"card-subtitle",children:"Decentralized Autonomous Funding"})]}),a.jsx("button",{className:"learn-more-btn",onClick:()=>e("login"),children:"Join DAO"})]}),a.jsx("p",{className:"card-description",children:"Participate in our decentralized scholarship DAO where token holders vote on funding decisions. Transparent allocation, community governance, and merit-based distribution powered by blockchain technology."})]})]})]})]})}),a.jsx("section",{className:"section-four",id:"how-it-works",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"how-it-works-content",children:[a.jsxs("div",{className:"how-it-works-left",children:[a.jsx("h2",{children:"How DeFi Education Works"}),a.jsx("p",{children:"Experience seamless blockchain-powered education finance in four simple steps."})]}),a.jsxs("div",{className:"how-it-works-steps",children:[a.jsxs("div",{className:"step",children:[a.jsx("div",{className:"step-number",children:"1"}),a.jsxs("div",{className:"step-content",children:[a.jsx("h3",{children:"Connect Your Wallet"}),a.jsx("p",{children:"Create your decentralized identity and connect to the Internet Computer network."})]})]}),a.jsxs("div",{className:"step",children:[a.jsx("div",{className:"step-number",children:"2"}),a.jsxs("div",{className:"step-content",children:[a.jsx("h3",{children:"Complete KYC On-Chain"}),a.jsx("p",{children:"Verify your identity through our secure, privacy-preserving blockchain verification."})]})]}),a.jsxs("div",{className:"step",children:[a.jsx("div",{className:"step-number",children:"3"}),a.jsxs("div",{className:"step-content",children:[a.jsx("h3",{children:"Access DeFi Services"}),a.jsx("p",{children:"Apply for loans or scholarships through smart contracts with instant approval."})]})]}),a.jsxs("div",{className:"step",children:[a.jsx("div",{className:"step-number",children:"4"}),a.jsxs("div",{className:"step-content",children:[a.jsx("h3",{children:"Participate in Governance"}),a.jsx("p",{children:"Vote on community proposals and help shape the future of decentralized education finance."})]})]})]})]})})}),a.jsx("section",{className:"section-five",id:"success-stories",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"success-stories-content",children:[a.jsxs("div",{className:"success-stories-left",children:[a.jsx("h2",{children:"Success Stories"}),a.jsx("p",{children:"Hear from our successful students."})]}),a.jsxs("div",{className:"testimonials",children:[a.jsxs("div",{className:"testimonial",children:[a.jsx("div",{className:"testimonial-avatar",children:"A"}),a.jsxs("div",{className:"testimonial-content",children:[a.jsx("h4",{children:"Alex Chen"}),a.jsx("div",{className:"rating-stars",children:"★★★★★"}),a.jsx("p",{children:`"StudiFi's DeFi platform revolutionized my education funding. Zero fees, instant approval, and complete transparency through blockchain technology. The future of student finance is here!"`})]})]}),a.jsxs("div",{className:"testimonial",children:[a.jsx("div",{className:"testimonial-avatar",children:"S"}),a.jsxs("div",{className:"testimonial-content",children:[a.jsx("h4",{children:"Sarah Martinez"}),a.jsx("div",{className:"rating-stars",children:"★★★★★"}),a.jsx("p",{children:'"Being part of the StudiFi DAO changed everything. I received a scholarship through community voting and now help fund other students. True decentralized education finance!"'})]})]})]})]})})})]});const AN=({isOpen:e,onClose:t,onConfirm:n,formData:r})=>{const[i,s]=be.useState(!1);if(!e)return null;const o=()=>{i?n():alert("Please agree to the Data Privacy Act and Honor Pledge.")};return a.jsx("div",{className:"modal-overlay",children:a.jsxs("div",{className:"modal-content",children:[a.jsx("h2",{children:"Review & Confirm Submission"}),a.jsx("p",{children:"Please review the following information and confirm your understanding."}),a.jsxs("div",{className:"modal-section",children:[a.jsx("h4",{children:"Data Privacy Act (Republic Act No. 10173)"}),a.jsx("p",{children:"By proceeding, you acknowledge and consent to the collection, processing, and storage of your personal data as provided in this Know Your Customer (KYC) process, in accordance with the Philippine Data Privacy Act of 2012. Your data will be used solely for the purpose of verifying your identity and eligibility for student loans and scholarships offered through StudiFi. We are committed to protecting your privacy and ensuring the security of your information. For more details, please refer to our full Privacy Policy."})]}),a.jsxs("div",{className:"modal-section",children:[a.jsx("h4",{children:"Honor Pledge"}),a.jsx("p",{children:"I hereby certify that all information provided in this application is true, accurate, and complete to the best of my knowledge and belief. I understand that any false statements or misrepresentations may result in the rejection of my application, withdrawal of any awarded loans or scholarships, and may subject me to legal action."})]}),a.jsx("div",{className:"modal-checkbox-group",children:a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:l=>s(l.target.checked)}),a.jsx("span",{className:"checkmark"}),"I have read and agree to the Data Privacy Act and Honor Pledge."]})}),a.jsxs("div",{className:"modal-actions",children:[a.jsx("button",{className:"cancel-btn",onClick:t,children:"Cancel"}),a.jsx("button",{className:"confirm-btn",onClick:o,disabled:!i,children:"Yes, I'm sure!"})]})]})})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ip=e=>{const t=BN(e);return t.charAt(0).toUpperCase()+t.slice(1)},k1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),CN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=be.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>be.createElement("svg",{ref:c,...RN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:k1("lucide",i),...!s&&!CN(l)&&{"aria-hidden":"true"},...l},[...o.map(([p,w])=>be.createElement(p,w)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=(e,t)=>{const n=be.forwardRef(({className:r,...i},s)=>be.createElement(PN,{ref:s,iconNode:t,className:k1(`lucide-${kN(ip(e))}`,`lucide-${e}`,r),...i}));return n.displayName=ip(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gu=mc("circle-alert",ON);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sp=mc("circle-check-big",FN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],IN=mc("clock",UN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ap=mc("x",MN),op={MIT:{name:"Massachusetts Institute of Technology",origin:"https://mit.university.studifi.app",canister_id:void 0},Stanford:{name:"Stanford University",origin:"https://stanford.university.studifi.app",canister_id:void 0},Harvard:{name:"Harvard University",origin:"https://harvard.university.studifi.app",canister_id:void 0},Berkeley:{name:"UC Berkeley",origin:"https://berkeley.university.studifi.app",canister_id:void 0}};class $N{constructor(t="https://identity.internetcomputer.org"){Qf(this,"identityProviderUrl");this.identityProviderUrl=t}async requestStudentCredential(t,n,r,i,s){const o=op[t];if(!o)throw new Error(`University ${t} not supported`);const l={credential_type:"VerifiedStudent",arguments:{studentId:{Text:n},program:{Text:r},yearOfStudy:{Number:i},expectedGraduation:{Text:s},isCurrentStudent:{Boolean:!0}}},c={issuer:{origin:o.origin,canisterId:o.canister_id},credentialSpec:l,credentialSubject:"did:icp:"+je.anonymous().toText()};try{console.log("Mock: Requesting verifiable credential from",o.name),await new Promise(w=>setTimeout(w,1e3));const p=this.createMockVerifiablePresentation(c);return this.parseVerifiablePresentation(p)}catch(p){throw console.error("Failed to request student credential:",p),new Error(`Failed to request credential: ${p}`)}}createMockVerifiablePresentation(t){const n=btoa(JSON.stringify({alg:"EdDSA",typ:"JWT"})),r=btoa(JSON.stringify({iss:t.issuer.origin,sub:"did:icp:mock-student-id",iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600,vc:{"@context":"https://www.w3.org/2018/credentials/v1",type:["VerifiableCredential",t.credentialSpec.credential_type],credentialSubject:t.credentialSpec.arguments}}));return`${n}.${r}.mock-signature-for-demo`}parseVerifiablePresentation(t){try{return{verifiable_presentation:t,verified:!0,credential_type:"VerifiedStudent",issuer:"university.studifi.app",subject:je.anonymous(),issued_at:BigInt(Date.now()*1e6),expires_at:BigInt((Date.now()+31536e6)*1e6),claims:{verified:{Boolean:!0},verification_method:{Text:"verifiable_credential"}}}}catch(n){throw new Error(`Failed to parse verifiable presentation: ${n}`)}}async verifyPresentation(t){try{return!(!t||t.split(".").length<2)}catch(n){return console.error("Error verifying presentation:",n),!1}}createUniversityIssuer(t,n){return{origin:`https://${t.toLowerCase().replace(/\s+/g,"-")}.university.studifi.app`,canister_id:n}}getSupportedUniversities(){return Object.entries(op).map(([t,n])=>({key:t,name:n.name,origin:n.origin}))}isCredentialExpired(t){return t?BigInt(Date.now()*1e6)>t:!1}formatClaims(t){const n={};for(const[r,i]of Object.entries(t))i.Text?n[r]=i.Text:i.Number!==void 0?n[r]=i.Number.toString():i.Boolean!==void 0&&(n[r]=i.Boolean?"Yes":"No");return n}}const Pd=new $N,VN=e=>{switch(e){case"Pending":return"Pending";case"InProgress":return"In Progress";case"Completed":return"Completed";case"Failed":return"Failed";case"Expired":return"Expired";default:return"Unknown"}},zN=e=>{const[t,n]=be.useState({isLoading:!1,error:null,sessions:[],currentSession:null}),r=be.useCallback(async()=>{if(e)try{n(A=>({...A,isLoading:!0,error:null}));const h=await e.get_my_vc_sessions();n(A=>({...A,sessions:h,isLoading:!1}))}catch(h){console.error("Failed to load VC sessions:",h),n(A=>({...A,error:`Failed to load sessions: ${h}`,isLoading:!1}))}},[e]),i=be.useCallback(async h=>{if(!e)throw new Error("Identity manager actor not available");try{n(k=>({...k,isLoading:!0,error:null}));const A=Pd.getSupportedUniversities().find(k=>k.key===h.universityName);if(!A)throw new Error(`University ${h.universityName} not supported`);const C=await e.create_vc_verification_session(A.origin,[],h.studentId,h.program);if("Err"in C)throw new Error(C.Err);const Z=C.Ok;return n(k=>({...k,currentSession:Z,sessions:[...k.sessions,Z],isLoading:!1})),await s(Z.id,h),Z}catch(A){throw console.error("Failed to start verification:",A),n(C=>({...C,error:`Failed to start verification: ${A}`,isLoading:!1})),A}},[e]),s=be.useCallback(async(h,A)=>{try{n(j=>({...j,isLoading:!0}));const C=await Pd.requestStudentCredential(A.universityName,A.studentId,A.program,A.yearOfStudy,A.expectedGraduation);if(!e)throw new Error("Identity manager actor not available");const Z=await e.process_vc_response(h,C.verifiable_presentation);if("Err"in Z)throw new Error(Z.Err);const k=Z.Ok;return n(j=>{var b;return{...j,isLoading:!1,sessions:j.sessions.map(x=>x.id===h?{...x,status:"Completed",response:k}:x),currentSession:((b=j.currentSession)==null?void 0:b.id)===h?{...j.currentSession,status:"Completed",response:k}:j.currentSession}}),C}catch(C){throw console.error("Failed to request credential from university:",C),n(Z=>({...Z,isLoading:!1,error:`Failed to request credential: ${C}`})),C}},[e]),o=be.useCallback(async(h,A)=>{if(!e)throw new Error("Identity manager actor not available");try{n(k=>({...k,isLoading:!0,error:null}));const C=await e.process_vc_response(h,A);if("Err"in C)throw new Error(C.Err);const Z=C.Ok;return n(k=>{var j;return{...k,sessions:k.sessions.map(b=>b.id===h?{...b,status:"Completed",response:Z}:b),currentSession:((j=k.currentSession)==null?void 0:j.id)===h?{...k.currentSession,status:"Completed",response:Z}:k.currentSession,isLoading:!1}}),Z}catch(C){throw console.error("Failed to process credential response:",C),n(Z=>({...Z,error:`Failed to process credential: ${C}`,isLoading:!1})),C}},[e]),l=be.useCallback(async h=>{if(!e)return null;try{return(await e.get_vc_session_status(h))[0]||null}catch(A){return console.error("Failed to check session status:",A),null}},[e]),c=be.useCallback(async h=>{if(!e)return!1;try{const A=await e.verify_presentation(h);return"Ok"in A?A.Ok:!1}catch(A){return console.error("Failed to verify presentation:",A),!1}},[e]),p=be.useCallback(h=>t.sessions.find(A=>A.id===h)||null,[t.sessions]),w=be.useCallback(h=>t.sessions.filter(A=>A.status===h),[t.sessions]),_=be.useCallback(()=>{n(h=>({...h,error:null}))},[]),E=be.useCallback(()=>{n({isLoading:!1,error:null,sessions:[],currentSession:null})},[]);return be.useEffect(()=>{e&&r()},[e,r]),{...t,startVerification:i,processCredentialResponse:o,checkSessionStatus:l,verifyPresentation:c,loadSessions:r,clearError:_,reset:E,getSession:p,getSessionsByStatus:w,hasCompletedVerification:t.sessions.some(h=>h.status==="Completed"),hasPendingVerification:t.sessions.some(h=>h.status==="Pending"||h.status==="InProgress"),latestSession:t.sessions.length>0?t.sessions[t.sessions.length-1]:null}};const qN=({identityManagerActor:e,onVerificationComplete:t,onInternetIdentityLogin:n})=>{const{isLoading:r,error:i,sessions:s,currentSession:o,hasCompletedVerification:l,hasPendingVerification:c,startVerification:p,clearError:w}=zN(e),[_,E]=be.useState(!1),[h,A]=be.useState({universityName:"",studentId:"",program:"",yearOfStudy:1,expectedGraduation:""}),C=Pd.getSupportedUniversities(),Z=async b=>{var x,I;if(b.preventDefault(),!h.universityName||!h.studentId||!h.program){alert("Please fill in all required fields");return}if(!e){alert("Please authenticate first to start verification");return}console.log("Starting verification with data:",h),console.log("Identity manager actor:",e);try{const $=await p(h);E(!1),A({universityName:"",studentId:"",program:"",yearOfStudy:1,expectedGraduation:""});const M=document.createElement("div");M.className="verification-alert success",M.innerHTML=`
        <div class="alert-content">
          <div>Verification request submitted successfully! Please wait while we process your credentials.</div>
        </div>
      `,(x=document.querySelector(".kyc-verification-container"))==null||x.appendChild(M),setTimeout(()=>{M.remove()},5e3),t&&$.status==="Completed"&&t(!0,h)}catch($){console.error("Verification failed:",$);const M=document.createElement("div");M.className="verification-alert error",M.innerHTML=`
        <div class="alert-content">
          <div>Verification failed: ${$}</div>
        </div>
      `,(I=document.querySelector(".kyc-verification-container"))==null||I.appendChild(M),setTimeout(()=>{M.remove()},5e3),t&&t(!1)}},k=(b,x)=>{A(I=>({...I,[b]:x}))},j=b=>{switch(b){case"Completed":return a.jsx(sp,{className:"status-icon completed"});case"Failed":return a.jsx(ap,{className:"status-icon failed"});case"InProgress":case"Pending":return a.jsx(IN,{className:"status-icon pending"});default:return a.jsx(gu,{className:"status-icon default"})}};return a.jsxs("div",{className:"kyc-verification-container",children:[!e&&a.jsx("div",{className:"verification-alert error",children:a.jsxs("div",{className:"alert-content",children:[a.jsx(gu,{className:"alert-icon"}),a.jsxs("div",{children:[a.jsx("div",{children:"Please authenticate with Internet Identity first to start verification"}),n&&a.jsx("button",{onClick:n,className:"verification-btn primary",style:{marginTop:"0.5rem"},children:"Login with Internet Identity"})]})]})}),i&&a.jsxs("div",{className:"verification-alert error",children:[a.jsxs("div",{className:"alert-content",children:[a.jsx(gu,{className:"alert-icon"}),a.jsx("span",{children:i})]}),a.jsx("button",{onClick:w,className:"alert-close",children:a.jsx(ap,{})})]}),l&&a.jsx("div",{className:"verification-alert success",children:a.jsxs("div",{className:"alert-content",children:[a.jsx(sp,{className:"alert-icon"}),a.jsxs("div",{children:[a.jsx("div",{className:"alert-title",children:"KYC Verification Completed Successfully"}),a.jsx("div",{className:"alert-subtitle",children:"Your student status has been verified using verifiable credentials."})]})]})}),a.jsxs("div",{className:"verification-section",children:[!l&&!c&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"section-description",children:"Use Internet Computer's Verifiable Credentials to securely prove your student status without sharing personal information directly with StudiFi."}),_?a.jsxs("form",{onSubmit:Z,className:"verification-form",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"University"}),a.jsxs("select",{value:h.universityName,onChange:b=>k("universityName",b.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select your university"}),C.map(b=>a.jsx("option",{value:b.key,children:b.name},b.key))]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Student ID"}),a.jsx("input",{type:"text",value:h.studentId,onChange:b=>k("studentId",b.target.value),required:!0,placeholder:"Enter your student ID"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Program/Major"}),a.jsx("input",{type:"text",value:h.program,onChange:b=>k("program",b.target.value),required:!0,placeholder:"e.g., Computer Science"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Year of Study"}),a.jsxs("select",{value:h.yearOfStudy,onChange:b=>k("yearOfStudy",parseInt(b.target.value)),required:!0,children:[a.jsx("option",{value:1,children:"1st Year"}),a.jsx("option",{value:2,children:"2nd Year"}),a.jsx("option",{value:3,children:"3rd Year"}),a.jsx("option",{value:4,children:"4th Year"}),a.jsx("option",{value:5,children:"5th Year+"})]})]}),a.jsxs("div",{className:"form-group full-width",children:[a.jsx("label",{children:"Expected Graduation"}),a.jsx("input",{type:"text",value:h.expectedGraduation,onChange:b=>k("expectedGraduation",b.target.value),required:!0,placeholder:"e.g., May 2025"})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"submit",disabled:r,className:"verification-btn primary",children:r?"Starting...":"Request Verification"}),a.jsx("button",{type:"button",onClick:()=>E(!1),className:"verification-btn secondary",children:"Cancel"})]}),a.jsx("div",{className:"verification-requirement-message",children:"You must complete this verification step to proceed."})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>E(!0),disabled:r,className:"verification-btn primary",children:r?"Processing...":"Start Verification"}),a.jsx("div",{className:"verification-requirement-message",children:"You must complete this verification step to proceed."})]})]}),s.length>0&&a.jsxs("div",{className:"verification-history",children:[a.jsx("h4",{children:"Verification History"}),a.jsx("div",{className:"history-list",children:s.map(b=>a.jsxs("div",{className:"history-item",children:[a.jsxs("div",{className:"history-header",children:[a.jsxs("div",{className:"status-info",children:[j(b.status),a.jsx("span",{className:`status-text ${b.status.toLowerCase()}`,children:VN(b.status)})]}),a.jsx("span",{className:"history-date",children:new Date(Number(b.created_at)/1e6).toLocaleDateString()})]}),a.jsxs("div",{className:"history-details",children:[a.jsxs("p",{children:["University: ",b.request.issuer.origin]}),a.jsxs("p",{children:["Credential Type: ",b.request.credential_spec.credential_type]})]}),b.error_message&&a.jsxs("div",{className:"history-error",children:["Error: ",b.error_message]}),b.response&&a.jsxs("div",{className:"history-success",children:["✓ Verified by ",b.response.issuer]})]},b.id))})]})]})]})},HN=({onSubmissionComplete:e,identityManagerActor:t,onInternetIdentityLogin:n})=>{const[r,i]=be.useState(0),[s,o]=be.useState({fullName:"",dateOfBirth:"",nationality:"",contactNumber:"",email:"",idDocument:null,selfieWithId:null,studentVerificationDetails:null}),[l,c]=be.useState(!1),[p,w]=be.useState(!1),[_,E]=be.useState(!1),h=(M,W)=>{o(re=>({...re,[M]:W}))},A=(M,W)=>{o(re=>({...re,[M]:W}))},C=M=>{const W=document.createElement("div");W.className="app-alert-popup",W.textContent=M,document.body.appendChild(W),W.style.animation="fadeInOut 3s ease-in-out",setTimeout(()=>{W.style.opacity="0",setTimeout(()=>{document.body.removeChild(W)},300)},3e3)},Z=()=>{if(r===2&&!_){C("Please complete the Student Verification first.");return}r<3&&i(r+1)},k=()=>{r>0&&i(r-1)},j=()=>{p||c(!0)},b=()=>{w(!0),c(!1)},x=()=>{p?(console.log("Submitting application:",s),e&&e()):C("Please agree to the Terms of Service and Privacy Policy by clicking the checkbox.")},I=(M,W)=>{E(M),M?(o(re=>({...re,studentVerificationDetails:W})),C("Student verification completed successfully!"),setTimeout(()=>{i(re=>re<3?re+1:re)},1500)):C("Student verification failed. Please try again.")},$=["Personal Information","ID Verification","Student Verification (VC)","Review & Confirm"];return a.jsxs("div",{className:"kyc-container",children:[a.jsx("section",{className:"kyc-hero",children:a.jsxs("div",{className:"kyc-hero-content",children:[a.jsxs("div",{className:"brand-header",children:[a.jsx("h1",{children:"StudiFi"}),a.jsx("span",{className:"brand-subtitle",children:"KYC Process"})]}),a.jsxs("div",{className:"verification-intro",children:[a.jsx("h2",{children:"Verification Process"}),a.jsx("p",{children:"Complete the KYC process to access student loans and scholarships."}),a.jsx("p",{className:"security-note",children:"Your data is secure with us."})]}),a.jsxs("div",{className:"progress-container",children:[a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:`${(r+1)/$.length*100}%`}})}),a.jsx("div",{className:"progress-steps",children:$.map((M,W)=>a.jsxs("div",{className:`progress-step ${W<=r?"active":""} ${W===r?"current":""}`,children:[a.jsx("div",{className:"step-number",children:W+1}),a.jsx("span",{className:"step-label",children:M})]},W))})]})]})}),a.jsx("section",{className:"kyc-content",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"kyc-form-container",children:[a.jsxs("div",{className:"form-content",children:[r===0&&a.jsxs("div",{className:"form-step active",children:[a.jsxs("div",{className:"step-header",children:[a.jsx("h3",{children:"Step 1: Personal Information"}),a.jsx("p",{children:"Please fill in your personal information."})]}),a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Full Name"}),a.jsx("input",{type:"text",placeholder:"Enter your full name",value:s.fullName,onChange:M=>h("fullName",M.target.value)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Date of Birth"}),a.jsx("input",{type:"date",value:s.dateOfBirth,onChange:M=>h("dateOfBirth",M.target.value)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Nationality"}),a.jsx("input",{type:"text",placeholder:"Enter your nationality",value:s.nationality,onChange:M=>h("nationality",M.target.value)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Contact Number"}),a.jsx("input",{type:"tel",placeholder:"Enter your contact number",value:s.contactNumber,onChange:M=>h("contactNumber",M.target.value)})]}),a.jsxs("div",{className:"form-group full-width",children:[a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",placeholder:"Enter your email",value:s.email,onChange:M=>h("email",M.target.value)})]})]})]}),r===1&&a.jsxs("div",{className:"form-step active",children:[a.jsxs("div",{className:"step-header",children:[a.jsx("h3",{children:"Step 2: ID Verification"}),a.jsx("p",{children:"Upload a valid government-issued ID and a selfie with it."})]}),a.jsxs("div",{className:"upload-section",children:[a.jsxs("div",{className:"upload-area",children:[a.jsx("div",{className:"upload-icon",children:"📄"}),a.jsx("h4",{children:"Upload ID Document"}),a.jsxs("p",{children:["Choose file: ",s.idDocument?s.idDocument.name:"No file chosen"]}),a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:M=>A("idDocument",M.target.files[0]),className:"file-input"})]}),a.jsxs("div",{className:"selfie-area",children:[a.jsx("div",{className:"selfie-icon",children:"🤳"}),a.jsx("h4",{children:"Upload Selfie with ID"}),a.jsxs("p",{children:["Choose file: ",s.selfieWithId?s.selfieWithId.name:"No file chosen"]}),a.jsx("input",{type:"file",accept:"image/*",onChange:M=>A("selfieWithId",M.target.files[0]),className:"file-input"}),a.jsx("button",{className:"selfie-btn",onClick:()=>document.querySelector(".selfie-area .file-input").click(),children:"Upload Photo"})]})]})]}),r===2&&a.jsxs("div",{className:"form-step active",children:[a.jsxs("div",{className:"step-header",children:[a.jsx("h3",{children:"Step 3: Student Verification (Verifiable Credential)"}),a.jsx("p",{children:"Complete your student status verification using Verifiable Credentials."})]}),a.jsx("div",{className:"kyc-verification-wrapper",style:{flex:1,display:"flex",flexDirection:"column"},children:a.jsx(qN,{identityManagerActor:t,onVerificationComplete:I,onInternetIdentityLogin:n})})]}),r===3&&a.jsxs("div",{className:"form-step active",children:[a.jsxs("div",{className:"step-header",children:[a.jsx("h3",{children:"Step 4: Review & Confirm"}),a.jsx("p",{children:"Please review your information before submitting."})]}),a.jsxs("div",{className:"review-summary",children:[a.jsx("h4",{children:"Personal Information"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Full Name:"})," ",s.fullName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date of Birth:"})," ",s.dateOfBirth]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Nationality:"})," ",s.nationality]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Contact Number:"})," ",s.contactNumber]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",s.email]}),a.jsx("h4",{className:"mt-4",children:"ID Verification"}),a.jsxs("p",{children:[a.jsx("strong",{children:"ID Document:"})," ",s.idDocument?s.idDocument.name:"Not uploaded"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Selfie with ID:"})," ",s.selfieWithId?s.selfieWithId.name:"Not uploaded"]}),a.jsx("h4",{className:"mt-4",children:"Student Verification (VC)"}),_&&s.studentVerificationDetails?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," Completed"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"University:"})," ",s.studentVerificationDetails.universityName]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Student ID:"})," ",s.studentVerificationDetails.studentId]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Program:"})," ",s.studentVerificationDetails.program]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Year of Study:"})," ",s.studentVerificationDetails.yearOfStudy]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Expected Graduation:"})," ",s.studentVerificationDetails.expectedGraduation]})]}):a.jsxs("p",{children:[a.jsx("strong",{children:"Status:"})," Not completed"]}),a.jsx("div",{className:"terms-checkbox mt-4",children:a.jsxs("label",{className:"checkbox-container",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:j}),a.jsx("span",{className:"checkmark"}),"I agree to the Terms of Service and Privacy Policy"]})})]})]})]}),a.jsxs("div",{className:"form-navigation",children:[r>0&&a.jsx("button",{className:"nav-btn prev-btn",onClick:k,children:"← Previous"}),a.jsxs("div",{className:"step-indicator",children:["Step ",r+1," of ",$.length]}),r<3?a.jsx("button",{className:"nav-btn next-btn",onClick:Z,children:"Next →"}):a.jsx("button",{className:"nav-btn submit-btn",onClick:x,disabled:!p,children:"Submit Application ⚡"})]})]})})}),a.jsx(AN,{isOpen:l,onClose:()=>c(!1),onConfirm:b,formData:s})]})};const GN=({navigateTo:e})=>(be.useEffect(()=>{console.log("DashboardPage mounted successfully")},[]),a.jsx("section",{className:"dashboard-page-section",children:a.jsxs("div",{className:"container",children:[a.jsx("header",{className:"dashboard-header",children:a.jsxs("div",{className:"profile-section",children:[a.jsx("div",{className:"profile-avatar"}),a.jsxs("div",{className:"profile-info",children:[a.jsx("h1",{className:"user-name",children:"Hello, Doe!"}),a.jsx("p",{className:"welcome-message",children:"Welcome to your financial aid dashboard."})]}),a.jsxs("div",{className:"profile-actions",children:[a.jsxs("button",{className:"btn-primary",children:[a.jsx("span",{className:"material-icons",children:"➕"})," Apply for Aid"]}),a.jsxs("button",{className:"btn-secondary",children:[a.jsx("span",{className:"material-icons",children:"👛"})," My Wallet"]})]})]})}),a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Current Financial Aid Status"}),a.jsx("p",{className:"section-description",children:"View the current status of your loan and scholarship applications. Stay updated on approvals and next steps."})]}),a.jsxs("div",{className:"section-content-right",children:[a.jsxs("div",{className:"aid-status-card",children:[a.jsx("div",{className:"card-image-container",children:a.jsx("div",{className:"card-image",children:"💰"})}),a.jsxs("div",{className:"card-details",children:[a.jsx("h4",{className:"card-title",children:"Loan Summary"}),a.jsx("p",{className:"card-subtitle",children:"Status:"}),a.jsx("p",{className:"card-value",children:"Pending Approval"}),a.jsx("p",{className:"card-text",children:"Your loan application is currently awaiting final approval. We will notify you once there's an update."})]})]}),a.jsxs("div",{className:"aid-status-card",children:[a.jsx("div",{className:"card-image-container",children:a.jsx("div",{className:"card-image",children:"🎓"})}),a.jsxs("div",{className:"card-details",children:[a.jsx("h4",{className:"card-title",children:"Scholarship Application"}),a.jsx("p",{className:"card-subtitle",children:"Status:"}),a.jsx("p",{className:"card-value",children:"In Review"}),a.jsx("p",{className:"card-text",children:"Your scholarship application is being reviewed by the committee. Please ensure all required documents are submitted."})]})]})]})]}),a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Loan Overview"}),a.jsx("p",{className:"section-description",children:"Get a quick glance at your loan details, including disbursed amounts and payment schedules."}),a.jsx("div",{className:"payment-actions",children:a.jsx("button",{className:"btn-primary",onClick:()=>e("loan"),children:"View Loan Details"})})]}),a.jsx("div",{className:"section-content-right",children:a.jsxs("div",{className:"overview-grid",children:[a.jsxs("div",{className:"overview-card",children:[a.jsx("span",{className:"overview-icon",children:"🔄"}),a.jsx("p",{className:"overview-label",children:"Auto Renewal"}),a.jsx("p",{className:"overview-value",children:"$10,000"})]}),a.jsxs("div",{className:"overview-card",children:[a.jsx("span",{className:"overview-icon",children:"💸"}),a.jsx("p",{className:"overview-label",children:"Disbursed"}),a.jsx("p",{className:"overview-value",children:"$5,800"})]}),a.jsxs("div",{className:"overview-card",children:[a.jsx("span",{className:"overview-icon",children:"✅"}),a.jsx("p",{className:"overview-label",children:"Status"}),a.jsx("p",{className:"overview-value",children:"Approved"})]}),a.jsxs("div",{className:"overview-card",children:[a.jsx("span",{className:"overview-icon",children:"📅"}),a.jsx("p",{className:"overview-label",children:"Next Payment Due"}),a.jsx("p",{className:"overview-value",children:"Dec 17"}),a.jsx("p",{className:"card-text",children:"$500 due on 2023-12-01"})]})]})})]}),a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Scholarship Status"}),a.jsx("p",{className:"section-description",children:"Track the progress of your scholarship applications and discover what's next."}),a.jsx("div",{className:"payment-actions",children:a.jsx("button",{className:"btn-primary",onClick:()=>e("scholarship"),children:"View All Scholarships"})})]}),a.jsxs("div",{className:"section-content-right",children:[a.jsxs("div",{className:"aid-status-card",children:[a.jsx("div",{className:"card-image-container",children:a.jsx("div",{className:"card-image",children:"✍️"})}),a.jsxs("div",{className:"card-details",children:[a.jsx("h4",{className:"card-title",children:"Approval Type"}),a.jsx("p",{className:"card-value",children:"Manual Approval"}),a.jsx("p",{className:"card-text",children:"Your scholarship requires manual review by the financial aid office."})]})]}),a.jsxs("div",{className:"aid-status-card",children:[a.jsx("div",{className:"card-image-container",children:a.jsx("div",{className:"card-image",children:"📄"})}),a.jsxs("div",{className:"card-details",children:[a.jsx("h4",{className:"card-title",children:"Next Step"}),a.jsx("p",{className:"card-value",children:"Submit Additional Documents"}),a.jsx("p",{className:"card-text",children:"Please upload the requested documents to complete your application."})]})]})]})]}),a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Active Applications"}),a.jsx("p",{className:"section-description",children:"Keep tabs on all your active financial aid applications in one place."}),a.jsx("div",{className:"payment-actions",children:a.jsx("button",{className:"btn-primary",children:"Manage Applications"})})]}),a.jsxs("div",{className:"section-content-right",children:[a.jsxs("div",{className:"active-application-item",children:[a.jsx("div",{className:"application-icon",children:"📚"}),a.jsxs("div",{className:"application-details",children:[a.jsx("h4",{className:"application-title",children:"Student Loan Application"}),a.jsx("p",{className:"application-status",children:"Status: Pending Approval"})]})]}),a.jsxs("div",{className:"active-application-item",children:[a.jsx("div",{className:"application-icon",children:"🎓"}),a.jsxs("div",{className:"application-details",children:[a.jsx("h4",{className:"application-title",children:"Scholarship Application"}),a.jsx("p",{className:"application-status",children:"Status: In Review"})]})]})]})]}),a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Payment Schedule"}),a.jsx("p",{className:"section-description",children:"View your upcoming payment due dates and manage your payments easily."}),a.jsxs("div",{className:"payment-actions",children:[a.jsx("button",{className:"btn-primary",children:"View All Activity"}),a.jsx("button",{className:"btn-secondary",onClick:()=>e("payment"),children:"Make a Payment"})]})]}),a.jsx("div",{className:"section-content-right",children:a.jsxs("div",{className:"aid-status-card",children:[a.jsx("div",{className:"card-image-container",children:a.jsx("div",{className:"card-image",children:"💳"})}),a.jsxs("div",{className:"card-details",children:[a.jsx("h4",{className:"card-title",children:"Upcoming Payment"}),a.jsx("p",{className:"card-value",children:"$500 due on 2023-12-01"}),a.jsx("p",{className:"card-text",children:"Your next loan payment is scheduled for December 1, 2023."}),a.jsx("div",{className:"card-tag",children:a.jsx("span",{className:"tag-text",children:"Loan Payment"})})]})]})})]}),a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Wallet Integration"}),a.jsx("p",{className:"section-description",children:"Connect and manage your digital wallet for seamless financial transactions."}),a.jsx("div",{className:"payment-actions",children:a.jsx("button",{className:"btn-primary",children:"Connect Wallet"})})]}),a.jsx("div",{className:"section-content-right",children:a.jsxs("div",{className:"active-application-item",children:[" ",a.jsx("div",{className:"application-icon",children:"🔗"}),a.jsxs("div",{className:"application-details",children:[a.jsx("h4",{className:"application-title",children:"Connected Wallet"}),a.jsx("p",{className:"application-status",children:"Status: Active"})]}),a.jsx("span",{className:"wallet-address-value",children:"0x73A...acd"})]})})]})]})}));const KN=({navigateTo:e})=>{be.useEffect(()=>{console.log("LoanDashboard mounted successfully")},[]);const[t,n]=be.useState(null),r={id:"ML-2024-001",appliedDate:"Jan 18, 2024",disbursedDate:"Jan 22, 2024",amount:2500,interestRate:3.5,monthlyPayment:105,remainingBalance:1890,status:"Active",progressPercentage:24,currentPayment:6,totalPayments:24},i=[{id:1,date:"Sep 2024",amount:105,status:"paid",dueDate:"Sep 15"},{id:2,date:"Oct 2024",amount:105,status:"paid",dueDate:"Oct 15"},{id:3,date:"Nov 2024",amount:105,status:"upcoming",dueDate:"Nov 15"}],s=[{type:"payment",title:"Payment Received",description:"Monthly payment of $105.00 processed successfully",date:"Sep 14, 2024 - 2:30 PM",icon:"💰"},{type:"reminder",title:"Payment Reminder Sent",description:"Reminder: Payment due in 5 days",date:"Oct 10, 2024 - 9:00 AM",icon:"⏰"},{type:"disbursement",title:"Funds Disbursed",description:"Loan amount of $2,500 transferred to student account",date:"Jan 22, 2024 - 11:45 AM",icon:"💸"},{type:"verification",title:"Verification Completed",description:"All documents verified and approved",date:"Jan 18, 2024 - 3:20 PM",icon:"✅"},{type:"application",title:"Application Submitted",description:"Microloan application submitted for review",date:"Jan 18, 2024 - 4:15 PM",icon:"📄"}],o=[{label:"View Loan Contract",icon:"📄",color:"blue",action:()=>e("smart-contract",{contractType:"loan"})},{label:"Make Payment",icon:"💳",color:"green",action:()=>e("payment")},{label:"Payment Calculator",icon:"🧮",color:"teal"},{label:"Contact Support",icon:"💬",color:"gray"},{label:"Apply for Another",icon:"➕",color:"purple",action:()=>e("applyLoan")}];return a.jsx("div",{className:"loan-dashboard",children:a.jsxs("div",{className:"dashboard-container",children:[a.jsxs("div",{className:"loan-dashboard-header",children:[a.jsxs("div",{className:"loan-info",children:[a.jsxs("h1",{children:["Loan #",r.id]}),a.jsxs("div",{className:"loan-meta",children:[a.jsxs("span",{children:["Applied: ",r.appliedDate]}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["Disbursed: ",r.disbursedDate]})]})]}),a.jsx("div",{className:"status-badge active",children:r.status})]}),a.jsxs("div",{className:"overview-cards",children:[a.jsxs("div",{className:"overview-card",children:[a.jsx("div",{className:"card-label",children:"Loan Amount"}),a.jsxs("div",{className:"card-value",children:["$",r.amount.toLocaleString()]})]}),a.jsxs("div",{className:"overview-card",children:[a.jsx("div",{className:"card-label",children:"Interest Rate"}),a.jsxs("div",{className:"card-value",children:[r.interestRate,"%"]})]}),a.jsxs("div",{className:"overview-card",children:[a.jsx("div",{className:"card-label",children:"Monthly Payment"}),a.jsxs("div",{className:"card-value",children:["$",r.monthlyPayment]})]}),a.jsxs("div",{className:"overview-card highlight",children:[a.jsx("div",{className:"card-label",children:"Remaining Balance"}),a.jsxs("div",{className:"card-value",children:["$",r.remainingBalance.toLocaleString()]})]})]}),a.jsxs("div",{className:"quick-actions",children:[a.jsx("h3",{children:"Quick Actions"}),a.jsx("div",{className:"actions-grid",children:o.map((l,c)=>a.jsxs("button",{className:`action-btn ${l.color}`,onClick:l.action,children:[a.jsx("span",{className:"action-icon",children:l.icon}),l.label]},c))})]}),a.jsxs("div",{className:"repayment-section",children:[a.jsx("h3",{children:"Repayment Timeline"}),a.jsxs("div",{className:"progress-info",children:[a.jsxs("span",{children:["Progress: ",r.currentPayment," of ",r.totalPayments," payments"]}),a.jsxs("span",{className:"progress-percentage",children:[r.progressPercentage,"% Complete"]})]}),a.jsxs("div",{className:"timeline-container",children:[a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:`${r.progressPercentage}%`}})}),a.jsxs("div",{className:"timeline-markers",children:[a.jsxs("div",{className:"marker completed",children:[a.jsx("div",{className:"marker-dot"}),a.jsxs("div",{className:"marker-label",children:[a.jsx("div",{className:"marker-title",children:"Start"}),a.jsx("div",{className:"marker-date",children:"Mar 22 - Apr"})]})]}),a.jsxs("div",{className:"marker completed",children:[a.jsx("div",{className:"marker-dot"}),a.jsxs("div",{className:"marker-label",children:[a.jsx("div",{className:"marker-title",children:"First Payment"}),a.jsx("div",{className:"marker-date",children:"Apr 22"})]})]}),a.jsxs("div",{className:"marker current",children:[a.jsx("div",{className:"marker-dot"}),a.jsxs("div",{className:"marker-label",children:[a.jsx("div",{className:"marker-title",children:"Current"}),a.jsx("div",{className:"marker-date",children:"Oct 24"})]})]}),a.jsxs("div",{className:"marker upcoming",children:[a.jsx("div",{className:"marker-dot"}),a.jsxs("div",{className:"marker-label",children:[a.jsx("div",{className:"marker-title",children:"Final Payment"}),a.jsx("div",{className:"marker-date",children:"2026"})]})]})]})]})]}),a.jsxs("div",{className:"payments-section",children:[a.jsx("h3",{children:"Recent Payments"}),a.jsx("div",{className:"payments-grid",children:i.map(l=>a.jsxs("div",{className:`payment-card ${l.status}`,onClick:()=>n(l),children:[a.jsxs("div",{className:"payment-header",children:[a.jsx("span",{className:"payment-month",children:l.date}),a.jsx("div",{className:`payment-status-dot ${l.status}`})]}),a.jsxs("div",{className:"payment-amount",children:["$",l.amount.toFixed(2)]}),a.jsxs("div",{className:"payment-due",children:[l.status==="paid"?"Paid on":"Due"," ",l.dueDate]})]},l.id))})]}),a.jsxs("div",{className:"activity-section",children:[a.jsx("h3",{children:"Activity History"}),a.jsx("div",{className:"activity-list",children:s.map((l,c)=>a.jsxs("div",{className:`activity-item ${l.type}`,children:[a.jsx("div",{className:"activity-icon",children:l.icon}),a.jsxs("div",{className:"activity-content",children:[a.jsx("div",{className:"activity-title",children:l.title}),a.jsx("div",{className:"activity-description",children:l.description})]}),a.jsx("div",{className:"activity-date",children:l.date})]},c))})]})]})})},WN=({IDL:e})=>{const t=e.Variant({StudyAbroad:e.Null,Research:e.Null,Tuition:e.Null,LivingExpenses:e.Null,Technology:e.Null,Emergency:e.Null,Other:e.Text,BooksAndSupplies:e.Null}),n=e.Record({special_conditions:e.Vec(e.Text),prepayment_penalty:e.Bool,cosigner_required:e.Bool,collateral_required:e.Bool,grace_period_months:e.Nat32,interest_rate:e.Float64,origination_fee:e.Nat64,approved_amount:e.Nat64,term_months:e.Nat32,monthly_payment:e.Nat64}),r=e.Variant({InvalidInput:e.Text,NetworkError:e.Text,NotFound:e.Text,Unauthorized:e.Text,AlreadyExists:e.Text,InternalError:e.Text,Expired:e.Text,InsufficientFunds:e.Text}),i=e.Variant({Ok:n,Err:r}),s=e.Variant({RequiresDocuments:e.Null,UnderReview:e.Null,Approved:e.Null,Withdrawn:e.Null,Rejected:e.Null,Submitted:e.Null,Expired:e.Null}),o=e.Record({renewable:e.Bool,aid_type:e.Text,requirements:e.Text,amount:e.Nat64}),l=e.Variant({Late:e.Null,Default:e.Null,PaidOff:e.Null,Current:e.Null,Deferred:e.Null}),c=e.Record({status:l,late_payments:e.Nat32,original_amount:e.Nat64,on_time_payments:e.Nat32,loan_type:e.Text,remaining_balance:e.Nat64,monthly_payment:e.Nat64}),p=e.Variant({Internship:e.Null,Unemployed:e.Null,PartTime:e.Null,FullTime:e.Null,ResearchAssistant:e.Null,Fellowship:e.Null,TeachingAssistant:e.Null}),w=e.Record({financial_aid:e.Vec(o),previous_loans:e.Vec(c),monthly_expenses:e.Nat64,credit_history_length_months:e.Nat32,family_income:e.Nat64,existing_debt:e.Nat64,savings:e.Nat64,employment_status:p,monthly_income:e.Nat64}),_=e.Variant({Low:e.Null,VeryHigh:e.Null,High:e.Null,Medium:e.Null,VeryLow:e.Null}),E=e.Record({score:e.Nat32,version:e.Text,risk_level:_,calculated_at:e.Nat64,confidence:e.Float64}),h=e.Record({gpa:e.Float64,major:e.Opt(e.Text),minor:e.Opt(e.Text),previous_degrees:e.Vec(e.Text),university:e.Text,expected_graduation:e.Text,year_of_study:e.Nat32,honors:e.Vec(e.Text),extracurricular:e.Vec(e.Text),program:e.Text}),A=e.Record({id:e.Text,status:s,requested_amount:e.Nat64,loan_terms:e.Opt(n),student_id:e.Principal,created_at:e.Nat64,notes:e.Vec(e.Text),processed_at:e.Opt(e.Nat64),financial_info:w,credit_score:e.Opt(E),purpose:t,academic_info:h}),C=e.Record({approved_applications:e.Nat32,rejected_applications:e.Nat32,average_processing_time_hours:e.Float64,pending_applications:e.Nat32,total_applications:e.Nat32,average_credit_score:e.Float64,average_approved_amount:e.Nat64,approval_rate:e.Float64}),Z=e.Record({total_amount:e.Nat64,completed_count:e.Nat32,active_count:e.Nat32,average_amount:e.Nat64,total_count:e.Nat32,failed_count:e.Nat32}),k=e.Record({financial_weight:e.Float64,maximum_loan_to_income_ratio:e.Float64,historical_weight:e.Float64,minimum_score_for_approval:e.Nat32,academic_weight:e.Float64,progress_weight:e.Float64,program_weight:e.Float64}),j=e.Variant({Ok:A,Err:r}),b=e.Record({status:e.Opt(s),date_to:e.Opt(e.Nat64),min_amount:e.Opt(e.Nat64),date_from:e.Opt(e.Nat64),university:e.Opt(e.Text),risk_level:e.Opt(_),max_amount:e.Opt(e.Nat64),program:e.Opt(e.Text)}),x=e.Record({offset:e.Nat32,limit:e.Nat32}),I=e.Record({offset:e.Nat32,limit:e.Nat32,items:e.Vec(A),total_count:e.Nat32,has_more:e.Bool}),$=e.Variant({Ok:e.Null,Err:r});return e.Service({generate_loan_terms:e.Func([e.Nat64,e.Nat32,t],[i],["query"]),get_application:e.Func([e.Text],[e.Opt(A)],["query"]),get_application_stats:e.Func([],[C],["query"]),get_credit_score:e.Func([e.Principal],[e.Opt(E)],["query"]),get_my_applications:e.Func([],[e.Vec(A)],["query"]),get_platform_stats:e.Func([],[Z],["query"]),get_scoring_config:e.Func([],[k],["query"]),process_application:e.Func([e.Text],[j],[]),search_applications:e.Func([b,e.Opt(x)],[I],["query"]),submit_loan_application:e.Func([e.Nat64,t,h,w],[j],[]),update_scoring_config:e.Func([k],[$],[])})},YN="vt46d-j7777-77774-qaagq-cai",ZN=(e,t={})=>{const n=t.agent||new ui({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),Ka.createActor(WN,{agent:n,canisterId:e,...t.actorOptions})},QN=ZN(YN);const XN=({addNotification:e,setIsLoading:t,isLoading:n})=>{const[r,i]=be.useState({requestedAmount:"",purpose:"",gpa:"",yearOfStudy:"",program:"",university:"",monthlyIncome:"",monthlyExpenses:"",existingDebt:"",familyIncome:""}),[s,o]=be.useState(null),l=p=>{i({...r,[p.target.name]:p.target.value})},c=async p=>{p.preventDefault(),t(!0);try{const w={gpa:parseFloat(r.gpa),yearOfStudy:parseInt(r.yearOfStudy),program:r.program,university:r.university,expectedGraduation:"2025"},_={monthlyIncome:parseInt(r.monthlyIncome),monthlyExpenses:parseInt(r.monthlyExpenses),existingDebt:parseInt(r.existingDebt),familialIncome:parseInt(r.familyIncome)},E=await QN.submitLoanApplication(parseInt(r.requestedAmount),r.purpose,w,_);E.ok?(o(E.ok),e("Loan application submitted successfully!","success")):e("Error submitting application: "+E.err,"error")}catch(w){console.error("Error submitting loan application:",w),e("Error submitting application","error")}finally{t(!1)}};return a.jsx("section",{className:"loan-application-page-section",children:a.jsxs("div",{className:"container",children:[a.jsxs("header",{className:"loan-application-header",children:[a.jsx("h1",{className:"page-title",children:"Loan Application Form"}),a.jsx("p",{className:"page-subtitle",children:"Please fill in your details to apply for a student loan."})]}),s?a.jsxs("div",{className:"dashboard-section-wrapper",children:[a.jsxs("div",{className:"section-header-left",children:[a.jsx("h2",{className:"section-title",children:"Application Submitted!"}),a.jsx("p",{className:"section-description",children:"Your loan application has been successfully submitted. Here's a summary of your application details."}),a.jsxs("div",{className:"payment-actions",children:[a.jsx("button",{onClick:()=>o(null),className:"btn-primary",children:"Apply for Another Loan"}),a.jsx("button",{className:"btn-secondary",children:"View Application Status"})]})]}),a.jsx("div",{className:"section-content-right",children:a.jsxs("div",{className:"aid-status-card",children:[a.jsx("div",{className:"card-image-container",children:a.jsx("div",{className:"card-image",children:"✅"})}),a.jsxs("div",{className:"card-details",children:[a.jsxs("h4",{className:"card-title",children:["Application #",s.id]}),a.jsx("p",{className:"card-subtitle",children:"Status:"}),a.jsx("p",{className:"card-value",children:Object.keys(s.status)[0]}),a.jsxs("p",{className:"card-text",children:[a.jsx("strong",{children:"Requested Amount:"})," $",s.requestedAmount.toLocaleString()]}),a.jsxs("p",{className:"card-text",children:[a.jsx("strong",{children:"Purpose:"})," ",s.purpose]}),s.creditScore&&a.jsxs("div",{className:"card-tag",children:[a.jsxs("span",{className:"tag-text",children:["Credit Score: ",s.creditScore.score,"/1000"]}),a.jsxs("span",{className:"tag-text",children:["Risk Level: ",Object.keys(s.creditScore.riskLevel)[0]]})]})]})]})})]}):a.jsxs("form",{onSubmit:c,className:"loan-application-form-container",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"requestedAmount",className:"form-label",children:"Requested Amount"}),a.jsx("input",{type:"number",id:"requestedAmount",name:"requestedAmount",value:r.requestedAmount,onChange:l,required:!0,min:"100",max:"50000",className:"form-input",placeholder:"Enter amount in USD"}),a.jsx("p",{className:"input-hint",children:"Minimum: $100 | Maximum: $50,000"})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"purpose",className:"form-label",children:"Purpose"}),a.jsxs("select",{id:"purpose",name:"purpose",value:r.purpose,onChange:l,required:!0,className:"form-input",children:[a.jsx("option",{value:"",children:"Select purpose"}),a.jsx("option",{value:"Tuition",children:"Tuition"}),a.jsx("option",{value:"Books & Supplies",children:"Books & Supplies"}),a.jsx("option",{value:"Living Expenses",children:"Living Expenses"}),a.jsx("option",{value:"Technology",children:"Technology"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsx("p",{className:"input-hint",children:"Choose the primary purpose for your loan"})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"university",className:"form-label",children:"University"}),a.jsx("input",{type:"text",id:"university",name:"university",value:r.university,onChange:l,required:!0,className:"form-input",placeholder:"Enter your university name"})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"program",className:"form-label",children:"Program"}),a.jsx("input",{type:"text",id:"program",name:"program",value:r.program,onChange:l,required:!0,className:"form-input",placeholder:"e.g., Computer Science, Business Administration"})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"gpa",className:"form-label",children:"GPA"}),a.jsx("input",{type:"number",id:"gpa",name:"gpa",value:r.gpa,onChange:l,required:!0,min:"0",max:"4",step:"0.01",className:"form-input",placeholder:"e.g., 3.75"}),a.jsx("p",{className:"input-hint",children:"Scale: 0.00 - 4.00"})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"yearOfStudy",className:"form-label",children:"Year of Study"}),a.jsxs("select",{id:"yearOfStudy",name:"yearOfStudy",value:r.yearOfStudy,onChange:l,required:!0,className:"form-input",children:[a.jsx("option",{value:"",children:"Select year"}),a.jsx("option",{value:"1",children:"1st Year"}),a.jsx("option",{value:"2",children:"2nd Year"}),a.jsx("option",{value:"3",children:"3rd Year"}),a.jsx("option",{value:"4",children:"4th Year"}),a.jsx("option",{value:"5",children:"5th Year+"})]})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"monthlyIncome",className:"form-label",children:"Monthly Income"}),a.jsx("input",{type:"number",id:"monthlyIncome",name:"monthlyIncome",value:r.monthlyIncome,onChange:l,required:!0,min:"0",className:"form-input",placeholder:"Enter your monthly income"}),a.jsx("p",{className:"input-hint",children:"Include part-time work, allowances, etc."})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"monthlyExpenses",className:"form-label",children:"Monthly Expenses"}),a.jsx("input",{type:"number",id:"monthlyExpenses",name:"monthlyExpenses",value:r.monthlyExpenses,onChange:l,required:!0,min:"0",className:"form-input",placeholder:"Enter your monthly expenses"}),a.jsx("p",{className:"input-hint",children:"Include rent, food, transportation, etc."})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"existingDebt",className:"form-label",children:"Existing Debt"}),a.jsx("input",{type:"number",id:"existingDebt",name:"existingDebt",value:r.existingDebt,onChange:l,required:!0,min:"0",className:"form-input",placeholder:"Enter total existing debt"}),a.jsx("p",{className:"input-hint",children:"Include credit cards, other loans, etc."})]}),a.jsxs("div",{className:"form-field-group",children:[a.jsx("label",{htmlFor:"familyIncome",className:"form-label",children:"Family Income"}),a.jsx("input",{type:"number",id:"familyIncome",name:"familyIncome",value:r.familyIncome,onChange:l,required:!0,min:"0",className:"form-input",placeholder:"Enter annual family income"}),a.jsx("p",{className:"input-hint",children:"Combined annual income of parents/guardians"})]}),a.jsxs("div",{className:"form-actions-bottom",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>i({requestedAmount:"",purpose:"",gpa:"",yearOfStudy:"",program:"",university:"",monthlyIncome:"",monthlyExpenses:"",existingDebt:"",familyIncome:""}),children:"🔄 Reset Form"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:n,children:n?"🔄 Processing...":"Submit Application"})]})]})," "]})]})})};const DN=()=>{be.useEffect(()=>{console.log("ScholarshipDashboard mounted successfully")},[]);const[e,t]=be.useState("browse"),n=[{id:1,name:"Sarah Chen - Computer Science PhD",university:"Stanford University • Thesis Research Funding",amount:"$12,000 USDC",description:"Funding for AI research thesis on quantum machine learning applications. This research aims to bridge quantum computing and machine learning to develop novel algorithms for optimization problems.",status:"Voting Progress",timeLeft:"Ends in 3 days",votes:{for:{percentage:65,count:2540},against:{percentage:23,count:890},abstain:{percentage:12,count:460}},quorum:"16% Achieved",tags:["Tutored","Active"]},{id:2,name:"Marcus Johnson - Medical School",university:"Harvard Medical • Clinical Research Support",amount:"$8,500 USDC",description:"Support for clinical research on pediatric cardiology procedures. Research focuses on minimally invasive techniques for congenital heart defect repairs.",status:"Voting Progress",timeLeft:"Ends in 5 days",votes:{for:{percentage:34,count:1070},against:{percentage:32,count:1120},abstain:{percentage:34,count:890}},quorum:"16% (Not yet achieved)",tags:["Research","Needs Review"]},{id:3,name:"Elena Rodriguez - Environmental Engineering",university:"MIT • Sustainable Technology Research",amount:"$15,000 USDC",description:"Development of biodegradable plastic alternatives using marine algae. Project aims to create commercially viable eco-friendly packaging solutions.",status:"Voting Progress",timeLeft:"Ends in 1 day",votes:{for:{percentage:82,count:3100},against:{percentage:12,count:460},abstain:{percentage:6,count:240}},quorum:"18% Achieved",tags:["Sustainability","Active"]}],r=[{label:"Active Scholarship Tokens",value:"2,450 SCH",icon:"🎓",trend:"↗",color:"#7fff00"},{label:"My Voting Power",value:"3.2%",icon:"🗳️",trend:"↗",color:"#00ff88"},{label:"Total Proposals",value:"147",icon:"📄",trend:"↗",color:"#ffd700"},{label:"Funded Scholarships",value:"89",icon:"✅",trend:"↗",color:"#32cd32"}],i=[{label:"Total Votes Cast",value:"1,234",icon:"🗳️"},{label:"Number of Donors",value:"567",icon:"👥"},{label:"Quorum Required",value:"15%",icon:"⚖️"},{label:"Treasury Balance",value:"$485K",icon:"💰"}];return a.jsxs("div",{className:"scholarship-dashboard",children:[a.jsx("div",{className:"stats-grid",children:r.map((s,o)=>a.jsxs("div",{className:"stat-card",children:[a.jsxs("div",{className:"stat-header",children:[a.jsx("span",{className:"stat-icon",children:s.icon}),a.jsx("span",{className:"stat-trend",style:{color:s.color},children:s.trend})]}),a.jsx("div",{className:"stat-value",style:{color:s.color},children:s.value}),a.jsx("div",{className:"stat-label",children:s.label})]},o))}),a.jsxs("div",{className:"tab-navigation",children:[a.jsx("button",{className:`tab-btn ${e==="browse"?"active":""}`,onClick:()=>t("browse"),children:"Browse Scholarships"}),a.jsx("button",{className:`tab-btn ${e==="create"?"active":""}`,onClick:()=>t("create"),children:"Create Proposal"})]}),e==="browse"&&a.jsxs("div",{className:"scholarship-content",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{children:"Active Scholarship Proposals"}),a.jsxs("button",{className:"new-proposal-btn",children:[a.jsx("span",{children:"✨"})," New Proposal"]})]}),a.jsx("div",{className:"scholarship-list",children:n.map(s=>a.jsxs("div",{className:"scholarship-card",children:[a.jsxs("div",{className:"scholarship-header",children:[a.jsxs("div",{className:"scholarship-info",children:[a.jsx("h3",{children:s.name}),a.jsx("p",{className:"university",children:s.university}),a.jsx("div",{className:"scholarship-tags",children:s.tags.map((o,l)=>a.jsx("span",{className:`tag ${o.toLowerCase().replace(" ","-")}`,children:o},l))})]}),a.jsx("div",{className:"scholarship-amount",children:a.jsx("span",{className:"amount",children:s.amount})})]}),a.jsx("p",{className:"scholarship-description",children:s.description}),a.jsxs("div",{className:"voting-section",children:[a.jsxs("div",{className:"voting-header",children:[a.jsx("span",{className:"status",children:s.status}),a.jsx("span",{className:"time-left",children:s.timeLeft})]}),a.jsxs("div",{className:"progress-bar",children:[a.jsx("div",{className:"progress-fill for",style:{width:`${s.votes.for.percentage}%`}}),a.jsx("div",{className:"progress-fill against",style:{width:`${s.votes.against.percentage}%`}}),a.jsx("div",{className:"progress-fill abstain",style:{width:`${s.votes.abstain.percentage}%`}})]}),a.jsxs("div",{className:"vote-stats",children:[a.jsxs("div",{className:"vote-stat",children:[a.jsxs("span",{className:"vote-label for",children:["For: ",s.votes.for.percentage,"%"]}),a.jsxs("span",{className:"vote-count",children:[s.votes.for.count.toLocaleString()," votes"]})]}),a.jsxs("div",{className:"vote-stat",children:[a.jsxs("span",{className:"vote-label against",children:["Against: ",s.votes.against.percentage,"%"]}),a.jsxs("span",{className:"vote-count",children:[s.votes.against.count.toLocaleString()," votes"]})]}),a.jsxs("div",{className:"vote-stat",children:[a.jsxs("span",{className:"vote-label abstain",children:["Abstain: ",s.votes.abstain.percentage,"%"]}),a.jsxs("span",{className:"vote-count",children:[s.votes.abstain.count.toLocaleString()," votes"]})]})]}),a.jsx("div",{className:"quorum-status",children:a.jsxs("span",{children:["Quorum: ",s.quorum]})})]}),a.jsxs("div",{className:"scholarship-actions",children:[a.jsxs("button",{className:"cast-vote-btn",children:[a.jsx("span",{children:"🗳️"})," Cast Vote"]}),a.jsxs("button",{className:"view-details-btn",children:[a.jsx("span",{children:"👁️"})," View Details"]})]})]},s.id))})]}),e==="create"&&a.jsxs("div",{className:"create-proposal-content",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{children:"Create New Scholarship Proposal"}),a.jsx("p",{children:"Submit a proposal for community voting and funding"})]}),a.jsxs("div",{className:"proposal-form",children:[a.jsxs("div",{className:"sform-grid",children:[a.jsxs("div",{className:"sform-group",children:[a.jsx("label",{children:"Student Name"}),a.jsx("input",{type:"text",placeholder:"Enter student's full name"})]}),a.jsxs("div",{className:"sform-group",children:[a.jsx("label",{children:"Funding Amount (USDC)"}),a.jsx("input",{type:"number",placeholder:"0.00"})]}),a.jsxs("div",{className:"sform-group full-width",children:[a.jsx("label",{children:"University & Program"}),a.jsx("input",{type:"text",placeholder:"e.g., MIT • Computer Science PhD"})]}),a.jsxs("div",{className:"sform-group full-width",children:[a.jsx("label",{children:"Research Description"}),a.jsx("textarea",{rows:"4",placeholder:"Describe the research project, its goals, and expected impact..."})]}),a.jsxs("div",{className:"sform-group",children:[a.jsx("label",{children:"Category"}),a.jsxs("select",{children:[a.jsx("option",{children:"Select Category"}),a.jsx("option",{children:"Research"}),a.jsx("option",{children:"Sustainability"}),a.jsx("option",{children:"Medical"}),a.jsx("option",{children:"Technology"}),a.jsx("option",{children:"Other"})]})]}),a.jsxs("div",{className:"sform-group",children:[a.jsx("label",{children:"Duration (months)"}),a.jsx("input",{type:"number",placeholder:"12"})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsxs("button",{className:"submit-proposal-btn",children:[a.jsx("span",{children:"🚀"})," Submit Proposal"]}),a.jsx("button",{className:"draft-btn",children:"Save as Draft"})]})]})]}),a.jsx("div",{className:"bottom-stats",children:i.map((s,o)=>a.jsxs("div",{className:"bottom-stat-card",children:[a.jsx("div",{className:"bottom-stat-icon",children:s.icon}),a.jsxs("div",{className:"bottom-stat-content",children:[a.jsx("div",{className:"bottom-stat-value",children:s.value}),a.jsx("div",{className:"bottom-stat-label",children:s.label})]})]},o))})]})};const LN=({navigateTo:e})=>{be.useEffect(()=>{console.log("PaymentPage mounted successfully")},[]);const[t,n]=be.useState(""),[r,i]=be.useState(""),[s,o]=be.useState(""),[l]=be.useState(!0),c={outstandingAmount:45250,dueDate:"Dec 15, 2024",loanId:"EDU-2024-001",minimumPayment:500},p=[{value:"bank_transfer",label:"Bank Transfer",icon:"🏦"},{value:"credit_card",label:"Credit Card",icon:"💳"},{value:"debit_card",label:"Debit Card",icon:"💳"},{value:"digital_wallet",label:"Digital Wallet",icon:"📱"}],w=25,_=t?parseFloat(t)+w:0,E=k=>{n(k.target.value)},h=k=>{i(k)},A=k=>{o(k.target.value)},C=()=>{e("dashboard")},Z=()=>{console.log("Processing payment:",{amount:t,method:r,notes:s}),alert("Payment processing would happen here. Redirecting to dashboard..."),e("dashboard")};return a.jsx("section",{className:"payment-page-section",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"breadcrumb",children:[a.jsx("span",{onClick:C,className:"breadcrumb-link",children:"Dashboard"}),a.jsx("span",{className:"breadcrumb-separator",children:"›"}),a.jsx("span",{className:"breadcrumb-current",children:"Make Payment"})]}),a.jsxs("div",{className:"payment-header",children:[a.jsx("h1",{className:"page-title",children:"Make a Payment"}),a.jsx("p",{className:"page-description",children:"Complete your loan payment securely and efficiently"})]}),a.jsxs("div",{className:"payment-content",children:[a.jsx("div",{className:"payment-summary",children:a.jsxs("div",{className:"summary-card",children:[a.jsx("div",{className:"summary-icon",children:"💰"}),a.jsx("h3",{className:"summary-title",children:"Payment Summary"}),a.jsxs("div",{className:"summary-details",children:[a.jsxs("div",{className:"summary-item",children:[a.jsx("span",{className:"summary-label",children:"Outstanding Amount"}),a.jsxs("span",{className:"summary-value",children:["$",c.outstandingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"summary-item",children:[a.jsx("span",{className:"summary-label",children:"Due Date"}),a.jsx("span",{className:"summary-value due-date",children:c.dueDate})]}),a.jsxs("div",{className:"summary-item",children:[a.jsx("span",{className:"summary-label",children:"Loan ID"}),a.jsx("span",{className:"summary-value",children:c.loanId})]})]}),l&&a.jsxs("div",{className:"partial-payment-notice",children:[a.jsx("div",{className:"notice-icon",children:"✅"}),a.jsx("span",{className:"notice-text",children:"Partial Payment Allowed"})]})]})}),a.jsx("div",{className:"payment-form-section",children:a.jsxs("div",{className:"form-card",children:[a.jsx("h3",{className:"form-title",children:"Payment Details"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"paymentAmount",className:"form-label",children:"Payment Amount"}),a.jsxs("div",{className:"amount-input-wrapper",children:[a.jsx("span",{className:"currency-symbol",children:"₱"}),a.jsx("input",{type:"number",id:"paymentAmount",value:t,onChange:E,placeholder:"0.00",min:"0.01",step:"0.01",className:"amount-input"})]}),a.jsxs("div",{className:"minimum-payment-info",children:["Minimum payment: ₱",c.minimumPayment.toFixed(2)]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Payment Method"}),a.jsx("div",{className:"payment-methods-grid",children:p.map(k=>a.jsxs("div",{className:`payment-method-card ${r===k.value?"selected":""}`,onClick:()=>h(k.value),children:[a.jsx("span",{className:"method-icon",children:k.icon}),a.jsx("span",{className:"method-label",children:k.label})]},k.value))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"notes",className:"form-label",children:"Notes / Memo (Optional)"}),a.jsx("textarea",{id:"notes",value:s,onChange:A,placeholder:"Add any additional notes...",className:"notes-textarea",rows:"4"})]}),t&&r&&a.jsxs("div",{className:"review-section",children:[a.jsx("h4",{className:"review-title",children:"Review & Confirm"}),a.jsxs("div",{className:"review-details",children:[a.jsxs("div",{className:"review-item",children:[a.jsx("span",{className:"review-label",children:"Payment Amount"}),a.jsxs("span",{className:"review-value",children:["₱",parseFloat(t).toFixed(2)]})]}),a.jsxs("div",{className:"review-item",children:[a.jsx("span",{className:"review-label",children:"Processing Fee"}),a.jsxs("span",{className:"review-value",children:["₱",w.toFixed(2)]})]}),a.jsxs("div",{className:"review-item total",children:[a.jsx("span",{className:"review-label",children:"Total Amount"}),a.jsxs("span",{className:"review-value total-amount",children:["₱",_.toFixed(2)]})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"button",onClick:C,className:"btn-secondary",children:"← Back to Dashboard"}),a.jsx("button",{type:"button",onClick:Z,className:"btn-primary",disabled:!t||!r,children:"🔒 Confirm Payment"})]})]})]})})]}),a.jsxs("div",{className:"security-notice",children:[a.jsx("div",{className:"security-icon",children:"🛡️"}),a.jsxs("div",{className:"security-content",children:[a.jsx("h4",{className:"security-title",children:"Secure Transaction"}),a.jsx("p",{className:"security-text",children:"All transactions are secured and recorded on-chain. Your payment information is encrypted and protected."})]})]})]})})};const JN=({navigateTo:e,contractData:t,contractType:n="loan"})=>{const[r,i]=be.useState(!1),[s,o]=be.useState(!1),[l,c]=be.useState(""),[p,w]=be.useState(!1);be.useEffect(()=>{console.log("SmartContractAgreement mounted successfully")},[]);const _=async()=>{if(!r||!s||!l.trim()){alert("Please complete all required fields and accept all terms.");return}w(!0),setTimeout(()=>{w(!1),alert(n==="scholarship"?"Scholarship application submitted to DAO for review!":"Loan smart contract successfully executed on Internet Computer blockchain!"),e("dashboard")},3e3)},E=()=>{const A=n==="scholarship"?"scholarship application":"loan agreement";window.confirm(`Are you sure you want to decline this ${A}? This will cancel your application.`)&&e("dashboard")},h=t||(n==="scholarship"?{type:"Scholarship Application",amount:"$3,000",duration:"1 Academic Year",requirements:"Maintain 3.5 GPA",contractAddress:"rdmx6-jaaaa-aaaah-qcaiq-cai",network:"Internet Computer",timestamp:new Date().toISOString(),gasFeesICP:"0.0000",gasFeesUSD:"$0.00"}:{type:"Student Loan Agreement",amount:"$5,000",interestRate:"3.5%",term:"24 months",contractAddress:"rdmx6-jaaaa-aaaah-qcaiq-cai",network:"Internet Computer",timestamp:new Date().toISOString(),gasFeesICP:"0.0000",gasFeesUSD:"$0.00",benefits:{zeroInterest:!0,zeroInterestDetails:"Qualified for 0% APR based on academic performance",delayedRepayment:!0,delayedRepaymentDetails:"6-month grace period after graduation",earlyRepaymentIncentive:!0,earlyRepaymentDetails:"5% discount for payments made 30+ days early"}});return a.jsxs("section",{className:"smart-contract-page",children:[a.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",background:"orange",color:"white",padding:"10px",zIndex:9999,borderRadius:"5px"},children:"Smart Contract Page Loaded"}),a.jsxs("div",{className:"container",children:[a.jsxs("nav",{className:"breadcrumb",children:[a.jsx("span",{className:"breadcrumb-link",onClick:()=>e("dashboard"),children:"Dashboard"}),a.jsx("span",{className:"breadcrumb-separator",children:"›"}),a.jsx("span",{className:"breadcrumb-current",children:"Smart Contract Agreement"})]}),a.jsxs("header",{className:"contract-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h1",{className:"page-title",children:n==="scholarship"?"Scholarship Application":"Smart Contract Agreement"}),a.jsx("p",{className:"page-description",children:n==="scholarship"?"Submit your scholarship application for DAO community review and voting on the Internet Computer blockchain":"Review and execute your student loan smart contract on the Internet Computer blockchain"})]}),a.jsx("div",{className:"blockchain-status",children:a.jsxs("div",{className:"status-indicator",children:[a.jsx("div",{className:"status-dot"}),a.jsx("span",{className:"status-text",children:"Internet Computer Network"})]})})]}),a.jsxs("div",{className:"contract-overview",children:[a.jsxs("div",{className:"overview-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsxs("h2",{className:"card-title",children:[a.jsx("span",{className:"contract-icon",children:"📄"}),h.type]}),a.jsx("div",{className:"contract-badge",children:"Smart Contract"})]}),a.jsx("div",{className:"contract-details",children:n==="scholarship"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"detail-row",children:[a.jsx("span",{className:"detail-label",children:"Scholarship Amount:"}),a.jsx("span",{className:"detail-value",children:h.amount})]}),a.jsxs("div",{className:"detail-row",children:[a.jsx("span",{className:"detail-label",children:"Duration:"}),a.jsx("span",{className:"detail-value",children:h.duration})]}),a.jsxs("div",{className:"detail-row",children:[a.jsx("span",{className:"detail-label",children:"Requirements:"}),a.jsx("span",{className:"detail-value",children:h.requirements})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"detail-row",children:[a.jsx("span",{className:"detail-label",children:"Loan Amount:"}),a.jsx("span",{className:"detail-value",children:h.amount})]}),a.jsxs("div",{className:"detail-row",children:[a.jsx("span",{className:"detail-label",children:"Interest Rate:"}),a.jsx("span",{className:"detail-value",children:h.interestRate})]}),a.jsxs("div",{className:"detail-row",children:[a.jsx("span",{className:"detail-label",children:"Repayment Term:"}),a.jsx("span",{className:"detail-value",children:h.term})]})]})}),n==="loan"&&h.benefits&&a.jsxs("div",{className:"loan-benefits",children:[a.jsxs("h3",{className:"benefits-title",children:[a.jsx("span",{className:"benefits-icon",children:"🎁"}),"Your Loan Benefits"]}),a.jsxs("div",{className:"benefits-list",children:[h.benefits.zeroInterest&&a.jsxs("div",{className:"benefit-item",children:[a.jsxs("div",{className:"benefit-header",children:[a.jsx("span",{className:"benefit-icon",children:"💰"}),a.jsx("span",{className:"benefit-name",children:"Zero Interest Rate"}),a.jsx("span",{className:"benefit-badge",children:"0% APR"})]}),a.jsx("p",{className:"benefit-description",children:h.benefits.zeroInterestDetails})]}),h.benefits.delayedRepayment&&a.jsxs("div",{className:"benefit-item",children:[a.jsxs("div",{className:"benefit-header",children:[a.jsx("span",{className:"benefit-icon",children:"🎓"}),a.jsx("span",{className:"benefit-name",children:"Grace Period"}),a.jsx("span",{className:"benefit-badge",children:"Post-Graduation"})]}),a.jsx("p",{className:"benefit-description",children:h.benefits.delayedRepaymentDetails})]}),h.benefits.earlyRepaymentIncentive&&a.jsxs("div",{className:"benefit-item",children:[a.jsxs("div",{className:"benefit-header",children:[a.jsx("span",{className:"benefit-icon",children:"⚡"}),a.jsx("span",{className:"benefit-name",children:"Early Payment Rewards"}),a.jsx("span",{className:"benefit-badge",children:"5% Discount"})]}),a.jsx("p",{className:"benefit-description",children:h.benefits.earlyRepaymentDetails})]})]})]})]}),a.jsxs("div",{className:"blockchain-info",children:[a.jsxs("h3",{className:"info-title",children:[a.jsx("span",{className:"blockchain-icon",children:"⛓️"}),"Blockchain Details"]}),a.jsxs("div",{className:"blockchain-details",children:[a.jsxs("div",{className:"blockchain-item",children:[a.jsx("span",{className:"item-label",children:"Contract Address:"}),a.jsxs("span",{className:"item-value contract-address",children:[h.contractAddress,a.jsx("button",{className:"copy-btn",onClick:()=>navigator.clipboard.writeText(h.contractAddress),children:"📋"})]})]}),a.jsxs("div",{className:"blockchain-item",children:[a.jsx("span",{className:"item-label",children:"Network:"}),a.jsx("span",{className:"item-value",children:h.network})]}),a.jsxs("div",{className:"blockchain-item",children:[a.jsx("span",{className:"item-label",children:"Transaction Fees:"}),a.jsx("span",{className:"item-value zero-fees",children:h.gasFeesUSD})]}),a.jsxs("div",{className:"blockchain-item",children:[a.jsx("span",{className:"item-label",children:"Timestamp:"}),a.jsx("span",{className:"item-value",children:new Date(h.timestamp).toLocaleString()})]})]})]})]}),a.jsxs("div",{className:"contract-terms",children:[a.jsx("h2",{className:"terms-title",children:n==="scholarship"?"Application Terms & Conditions":"Contract Terms & Conditions"}),a.jsx("div",{className:"terms-content",children:n==="scholarship"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"1. Scholarship Application"}),a.jsx("p",{children:"This application will be submitted to the StudiFi DAO for community review. Your academic records, financial need, and project proposals will be evaluated by governance token holders who vote on scholarship awards."})]}),a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"2. DAO Governance Process"}),a.jsx("p",{children:"Scholarship funding decisions are made through decentralized governance. Community members holding governance tokens review applications and vote on awards. The voting process is transparent and recorded on the Internet Computer blockchain."})]}),a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"3. Award Requirements"}),a.jsx("p",{children:"If awarded, you must maintain the specified academic requirements and provide progress reports to the community. Failure to meet requirements may result in funding suspension as determined by DAO vote."})]}),a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"4. Community Participation"}),a.jsx("p",{children:"Scholarship recipients are encouraged to participate in the StudiFi community, sharing knowledge and supporting future applicants. This helps strengthen the decentralized education ecosystem."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"1. Loan Agreement"}),a.jsx("p",{children:"This smart contract governs the individual loan agreement between you and the StudiFi protocol on the Internet Computer blockchain. The loan amount, interest rate, and repayment schedule are fixed terms immutably recorded on-chain."})]}),a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"2. Fixed Contract Terms"}),a.jsx("p",{children:"Unlike scholarship programs which involve DAO governance, loan agreements have predetermined, immutable terms. Once executed, the contract terms cannot be changed by community voting or governance decisions."})]}),a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"3. Blockchain Transparency"}),a.jsx("p",{children:"All loan transactions, payments, and contract interactions are recorded on the Internet Computer blockchain, ensuring complete transparency and immutability of your agreement terms."})]}),a.jsxs("div",{className:"terms-section",children:[a.jsx("h3",{children:"4. Zero Transaction Fees"}),a.jsx("p",{children:"Thanks to the Internet Computer's reverse gas model, there are no transaction fees for contract execution, loan disbursement, or repayment transactions."})]})]})})]}),a.jsxs("div",{className:"agreement-section",children:[a.jsx("h2",{className:"agreement-title",children:n==="scholarship"?"Application Confirmation":"Digital Agreement"}),a.jsxs("div",{className:"checkbox-group",children:[a.jsxs("label",{className:"checkbox-item",children:[a.jsx("input",{type:"checkbox",checked:r,onChange:A=>i(A.target.checked)}),a.jsx("span",{className:"checkmark"}),a.jsx("span",{className:"checkbox-text",children:n==="scholarship"?"I have read and agree to the scholarship application terms and DAO governance process":"I have read and agree to the smart contract terms and conditions"})]}),a.jsxs("label",{className:"checkbox-item",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:A=>o(A.target.checked)}),a.jsx("span",{className:"checkmark"}),a.jsx("span",{className:"checkbox-text",children:"I consent to the privacy policy and data processing on the blockchain"})]})]}),a.jsxs("div",{className:"signature-field",children:[a.jsx("label",{className:"signature-label",children:"Digital Signature:"}),a.jsx("input",{type:"text",className:"signature-input",placeholder:"Type your full legal name as digital signature",value:l,onChange:A=>c(A.target.value)})]})]}),a.jsxs("div",{className:"contract-actions",children:[a.jsxs("button",{className:"btn-decline",onClick:E,disabled:p,children:[a.jsx("span",{className:"btn-icon",children:"❌"}),n==="scholarship"?"Cancel Application":"Decline Contract"]}),a.jsx("button",{className:"btn-accept",onClick:_,disabled:!r||!s||!l.trim()||p,children:p?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"btn-icon loading",children:"⏳"}),n==="scholarship"?"Submitting to DAO...":"Executing on Blockchain..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"btn-icon",children:"✅"}),n==="scholarship"?"Submit Application":"Accept & Execute Contract"]})})]}),a.jsxs("div",{className:"security-notice",children:[a.jsx("div",{className:"security-icon",children:"🔒"}),a.jsxs("div",{className:"security-content",children:[a.jsx("h3",{className:"security-title",children:"Blockchain Security"}),a.jsx("p",{className:"security-text",children:n==="scholarship"?"Your scholarship application will be securely stored on the Internet Computer blockchain and reviewed by the DAO community. All voting and decisions are transparent and immutable.":"This smart contract is deployed on the Internet Computer blockchain, ensuring immutable execution and transparent terms. Your loan agreement will be cryptographically secured and cannot be altered after execution."})]})]})]})]})};const eE=({navigateTo:e})=>{const[t,n]=be.useState(null),r=[{id:"blockchain-basics",title:"Blockchain Basics",icon:"⛓️",description:"Learn how blockchain technology works and why it matters for education",content:"Blockchain is like a digital ledger that everyone can see but no one can cheat. Think of it as a shared notebook where every transaction is recorded permanently and transparently."},{id:"smart-contracts",title:"Smart Contracts",icon:"📄",description:"Understand automated agreements that execute themselves",content:"Smart contracts are like digital vending machines - you put in what you agreed to, and the contract automatically gives you what you should receive. No middleman needed!"},{id:"dao-governance",title:"DAO Governance",icon:"🏛️",description:"Discover how communities make decisions together",content:"A DAO is like a student council, but for the entire community. Everyone with voting tokens can propose ideas and vote on important decisions about scholarships and platform improvements."},{id:"zero-fees",title:"Zero Transaction Fees",icon:"💰",description:"Learn why Internet Computer blockchain has no gas fees",content:'Unlike other blockchains that charge fees for every transaction, Internet Computer uses a "reverse gas model" where the platform pays for your transactions. This means more money stays in your pocket!'}],i=[{icon:"🔍",title:"Complete Transparency",description:"Every transaction, loan term, and payment is recorded on the blockchain for anyone to verify"},{icon:"🚫",title:"Zero Hidden Fees",description:"No origination fees, processing fees, or surprise charges thanks to blockchain efficiency"},{icon:"⚡",title:"Instant Approvals",description:"Smart contracts evaluate your application and provide decisions in seconds, not weeks"},{icon:"🌍",title:"Global Access",description:"Access education funding from anywhere in the world without traditional banking barriers"},{icon:"🗳️",title:"Community Voice",description:"Participate in governance decisions that shape the future of education finance"},{icon:"🔒",title:"Cryptographic Security",description:"Your data and funds are protected by military-grade blockchain security"}],s=[{category:"Application Process",traditional:"Weeks of paperwork and waiting",defi:"Instant smart contract evaluation"},{category:"Fees",traditional:"Origination fees, processing fees, hidden charges",defi:"Zero fees thanks to Internet Computer"},{category:"Transparency",traditional:"Complex terms buried in fine print",defi:"All terms visible on blockchain"},{category:"Flexibility",traditional:"Rigid bank policies",defi:"Community-driven, student-focused terms"},{category:"Global Access",traditional:"Limited to specific regions/banks",defi:"Available worldwide, 24/7"}];return a.jsx("section",{className:"defi-education-hub",children:a.jsxs("div",{className:"container",children:[a.jsxs("nav",{className:"breadcrumb",children:[a.jsx("span",{className:"breadcrumb-link",onClick:()=>e("home"),children:"Home"}),a.jsx("span",{className:"breadcrumb-separator",children:"›"}),a.jsx("span",{className:"breadcrumb-current",children:"DeFi Education Hub"})]}),a.jsxs("header",{className:"education-hero",children:[a.jsxs("div",{className:"hero-content",children:[a.jsxs("h1",{className:"hero-title",children:["DeFi Education Hub",a.jsx("span",{className:"title-accent",children:"📚"})]}),a.jsx("p",{className:"hero-description",children:"Learn how decentralized finance is revolutionizing education funding. Discover the benefits of blockchain technology for students like you."})]}),a.jsxs("div",{className:"hero-stats",children:[a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-number",children:"100%"}),a.jsx("span",{className:"stat-label",children:"Transparent"})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-number",children:"0%"}),a.jsx("span",{className:"stat-label",children:"Hidden Fees"})]}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-number",children:"24/7"}),a.jsx("span",{className:"stat-label",children:"Available"})]})]})]}),a.jsxs("section",{className:"what-is-defi",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"What is DeFi Education?"}),a.jsx("p",{className:"section-description",children:"DeFi (Decentralized Finance) Education combines blockchain technology with student funding to create a transparent, fair, and accessible financial system for learners worldwide."})]}),a.jsxs("div",{className:"defi-explanation",children:[a.jsxs("div",{className:"explanation-card",children:[a.jsx("div",{className:"card-icon",children:"🎓"}),a.jsx("h3",{children:"Student-Centric"}),a.jsx("p",{children:"Built by students, for students. Every feature is designed with your needs in mind, from flexible repayment terms to zero hidden fees."})]}),a.jsxs("div",{className:"explanation-card",children:[a.jsx("div",{className:"card-icon",children:"🌐"}),a.jsx("h3",{children:"Decentralized"}),a.jsx("p",{children:"No single bank or institution controls your funding. The community makes decisions together, ensuring fairness and transparency."})]}),a.jsxs("div",{className:"explanation-card",children:[a.jsx("div",{className:"card-icon",children:"⚡"}),a.jsx("h3",{children:"Instant & Efficient"}),a.jsx("p",{children:"Smart contracts automate the entire process, from application to approval to disbursement, making everything faster and cheaper."})]})]})]}),a.jsx("section",{className:"cta-section",children:a.jsxs("div",{className:"cta-content",children:[a.jsx("h2",{className:"cta-title",children:"Ready to Experience DeFi Education?"}),a.jsx("p",{className:"cta-description",children:"Join thousands of students who have already discovered the benefits of decentralized education finance."}),a.jsxs("div",{className:"cta-buttons",children:[a.jsxs("button",{className:"btn-primary",onClick:()=>e("kyc"),children:[a.jsx("span",{className:"btn-icon",children:"🚀"}),"Get Started Now"]}),a.jsxs("button",{className:"btn-secondary",onClick:()=>e("home"),children:[a.jsx("span",{className:"btn-icon",children:"🏠"}),"Back to Home"]})]})]})}),a.jsxs("section",{className:"benefits-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Why Choose DeFi for Education?"}),a.jsx("p",{className:"section-description",children:"Discover the advantages that make blockchain-based education finance superior to traditional methods."})]}),a.jsx("div",{className:"benefits-grid",children:i.map((o,l)=>a.jsxs("div",{className:"benefit-card",children:[a.jsx("div",{className:"benefit-icon",children:o.icon}),a.jsx("h3",{className:"benefit-title",children:o.title}),a.jsx("p",{className:"benefit-description",children:o.description})]},l))})]}),a.jsxs("section",{className:"learning-modules",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Interactive Learning Modules"}),a.jsx("p",{className:"section-description",children:"Click on any module below to learn more about the technology powering your education finance."})]}),a.jsx("div",{className:"modules-grid",children:r.map(o=>a.jsxs("div",{className:`module-card ${t===o.id?"active":""}`,onClick:()=>n(t===o.id?null:o.id),children:[a.jsxs("div",{className:"module-header",children:[a.jsx("span",{className:"module-icon",children:o.icon}),a.jsx("h3",{className:"module-title",children:o.title})]}),a.jsx("p",{className:"module-description",children:o.description}),t===o.id&&a.jsx("div",{className:"module-content",children:a.jsx("p",{children:o.content})})]},o.id))})]}),a.jsxs("section",{className:"comparison-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Traditional vs. DeFi Student Loans"}),a.jsx("p",{className:"section-description",children:"See how DeFi education finance compares to traditional student loans."})]}),a.jsxs("div",{className:"comparison-table",children:[a.jsxs("div",{className:"table-header",children:[a.jsx("div",{className:"header-cell",children:"Feature"}),a.jsx("div",{className:"header-cell traditional",children:"Traditional Loans"}),a.jsx("div",{className:"header-cell defi",children:"DeFi Loans"})]}),s.map((o,l)=>a.jsxs("div",{className:"table-row",children:[a.jsx("div",{className:"cell category",children:o.category}),a.jsx("div",{className:"cell traditional",children:o.traditional}),a.jsx("div",{className:"cell defi",children:o.defi})]},l))]})]})]})})};const tE=({navigateTo:e,onLogin:t})=>{const[n,r]=be.useState(!1),[i,s]=be.useState(null),o=async c=>{r(!0),s(c),setTimeout(()=>{console.log(`Logging in with ${c}`),t(c),r(!1),s(null)},2e3)},l=[{name:"Internet Computer",icon:"🌐",color:"#7fff00",bgColor:"rgba(127, 255, 0, 0.1)",borderColor:"rgba(127, 255, 0, 0.3)"}];return a.jsx("div",{className:"login-page",children:a.jsxs("div",{className:"login-container",children:[a.jsxs("div",{className:"login-content",children:[a.jsxs("div",{className:"login-header",children:[a.jsxs("div",{className:"logo-section",children:[a.jsxs("div",{className:"logo",children:["Studi",a.jsx("span",{className:"green",children:"fi"})]}),a.jsx("div",{className:"logo-tagline",children:"Student Finance Revolution"})]}),a.jsx("h1",{children:"Welcome Back"}),a.jsx("p",{children:"Connect your wallet to access decentralized education finance on the Internet Computer blockchain"})]}),a.jsx("div",{className:"oauth-providers",children:l.map(c=>a.jsxs("button",{className:`oauth-btn ${i===c.name?"loading":""}`,onClick:()=>o(c.name),disabled:n||i&&i!==c.name,style:{"--provider-color":c.color,"--provider-bg":c.bgColor,"--provider-border":c.borderColor},children:[a.jsxs("div",{className:"oauth-content",children:[a.jsx("div",{className:"oauth-icon",children:i===c.name&&n?a.jsx("div",{className:"loading-spinner"}):c.icon}),a.jsx("span",{className:"oauth-text",children:i===c.name&&n?"Connecting...":`Continue with ${c.name}`}),a.jsx("div",{className:"oauth-arrow",children:"→"})]}),a.jsx("div",{className:"oauth-shimmer"})]},c.name))}),a.jsx("div",{className:"divider",children:a.jsx("span",{children:"or"})}),a.jsxs("div",{className:"alternative-actions",children:[a.jsxs("button",{className:"alt-btn",onClick:()=>e("home"),children:[a.jsx("span",{className:"alt-icon",children:"🏠"}),"Back to Home"]}),a.jsxs("button",{className:"alt-btn",onClick:()=>e("kyc"),children:[a.jsx("span",{className:"alt-icon",children:"✨"}),"New User? Get Started"]})]}),a.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(255, 165, 0, 0.1)",borderRadius:"8px",border:"1px solid rgba(255, 165, 0, 0.3)"},children:[a.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(255, 165, 0, 0.9)",margin:"0 0 0.5rem 0"},children:"🚧 Development Mode"}),a.jsxs("button",{className:"alt-btn",onClick:()=>{console.log("Demo mode - skipping authentication"),t("Demo")},style:{width:"100%",background:"rgba(255, 165, 0, 0.1)",borderColor:"rgba(255, 165, 0, 0.3)"},children:[a.jsx("span",{className:"alt-icon",children:"🔧"}),"Continue Without Auth (Demo)"]})]}),a.jsxs("div",{className:"security-notice",children:[a.jsx("div",{className:"security-icon",children:"🔒"}),a.jsx("p",{children:"Your identity is secured by blockchain cryptography. StudiFi never stores private keys or personal data - everything runs on-chain with complete transparency."})]})]}),a.jsxs("div",{className:"login-bg-elements",children:[a.jsx("div",{className:"bg-circle bg-circle-1"}),a.jsx("div",{className:"bg-circle bg-circle-2"}),a.jsx("div",{className:"bg-circle bg-circle-3"})]})]})})},nE=()=>{const[e,t]=be.useState("home"),[n,r]=be.useState(null),[i,s]=be.useState(!1),[o,l]=be.useState(null),[c,p]=be.useState(null),[w,_]=be.useState(null),[E,h]=be.useState(null);be.useEffect(()=>{A()},[]);const A=async()=>{try{console.log("Initializing auth...");const x=await NN.create();if(l(x),await x.isAuthenticated()){console.log("User is already authenticated");const I=x.getIdentity();p(I);try{const $=Rd("vu5yx-eh777-77774-qaaga-cai",{agentOptions:{identity:I}});_($)}catch($){console.warn("Failed to create identity manager actor:",$)}}console.log("Auth initialized successfully")}catch(x){console.error("Failed to initialize auth:",x),console.warn("App will continue without authentication")}},C=(x,I=null)=>{t(x),r(I),window.scrollTo(0,0)},Z=()=>{s(!0),C("dashboard")},k=async()=>{try{o&&(await o.logout(),p(null),_(null)),s(!1),C("home")}catch(x){console.error("Logout error:",x)}},j=async()=>{if(o)try{const x="https://identity.ic0.app";console.log("Attempting to login with Internet Identity..."),await o.login({identityProvider:x,onSuccess:async()=>{console.log("Internet Identity login successful");const I=o.getIdentity();p(I);const $=Rd("vu5yx-eh777-77774-qaaga-cai",{agentOptions:{identity:I}});_($),C("kyc")},onError:I=>{console.error("Login failed:",I),h("Internet Identity login failed. Please try again.")}})}catch(x){console.error("Login error:",x),h("Failed to connect to Internet Identity. Please check your connection.")}},b=x=>{console.log(`Attempting to sign in with ${x}`),setTimeout(()=>{s(!0),C("dashboard")},2e3)};return E?a.jsxs("div",{className:"App",style:{backgroundColor:"#1e1e1e",minHeight:"100vh",color:"white",padding:"20px"},children:[a.jsx("h1",{children:"StudiFi"}),a.jsxs("p",{style:{color:"#ff6b6b"},children:["Error: ",E]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#7fff00",color:"black",border:"none",borderRadius:"5px"},children:"Reload Page"})]}):(console.log("App rendering, currentPage:",e),a.jsxs("div",{className:"App",children:[a.jsx(jN,{navigateTo:C,isKycSubmitted:i,onLogout:k,currentPage:e,onInternetIdentityLogin:j,isAuthenticated:!!c}),e==="home"&&a.jsx(TN,{navigateTo:C,onInternetIdentityLogin:j}),e==="kyc"&&a.jsx(HN,{onSubmissionComplete:Z,identityManagerActor:w,onInternetIdentityLogin:j}),e==="dashboard"&&a.jsx(GN,{navigateTo:C}),e==="loan"&&a.jsx(KN,{navigateTo:C}),e==="applyLoan"&&a.jsx(XN,{navigateTo:C}),e==="scholarship"&&a.jsx(DN,{}),e==="payment"&&a.jsx(LN,{navigateTo:C}),e==="smart-contract"&&a.jsx(JN,{navigateTo:C,contractType:(n==null?void 0:n.contractType)||"loan"}),e==="defi-education"&&a.jsx(eE,{navigateTo:C}),e==="login"&&a.jsx(tE,{onLogin:b,navigateTo:C})]}))};wu.createRoot(document.getElementById("root")).render(a.jsx(ow.StrictMode,{children:a.jsx(nE,{})}));
